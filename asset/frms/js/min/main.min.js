!function e(t,n,s){function i(o,a){if(!n[o]){if(!t[o]){var l="function"==typeof require&&require;if(!a&&l)return l(o,!0);if(r)return r(o,!0);var c=new Error("Cannot find module '"+o+"'");throw c.code="MODULE_NOT_FOUND",c}var d=n[o]={exports:{}};t[o][0].call(d.exports,function(e){var n=t[o][1][e];return i(n?n:e)},d,d.exports,e,t,n,s)}return n[o].exports}for(var r="function"==typeof require&&require,o=0;o<s.length;o++)i(s[o]);return i}({1:[function(){},{}],2:[function(e,t){var n,s,i,r,o,a;n=e("../helper/selector.coffee").$,s=n(".js-input-cover"),a=e("sweetalert"),i=e("blueimp-load-image-npm"),r=function(e){var t,i,r,o,a,l,c;return i=n(".js-img-cover"),o=n(".js-article-title"),r=n(".js-cover-shadow"),t=i.parentNode,c=e.width,a=e.height,i.src=e.toDataURL("image/jpeg",.7),i.style.width=c+"px",i.style.height=a+"px",o.classList.remove("is-with-cover"),r.classList.add("is-hidden"),t.removeAttribute("src"),t.removeAttribute("style"),t.classList.remove("is-cover-full"),t.classList.remove("is-cover-not-full"),i.classList.remove("is-hidden"),i.setAttribute("data-width",c),i.setAttribute("data-height",a),c>=1200?2.2>c/a?(t.classList.add("is-cover-full"),o.classList.add("is-with-cover"),r.classList.remove("is-hidden"),l=i.getAttribute("src"),i.classList.add("is-hidden"),t.style.backgroundImage="url('"+l+"')",t.style.backgroundSize="cover"):t.classList.add("is-cover-not-full"):t.classList.add("is-cover-not-full"),n(".js-del-cover").classList.remove("is-hidden"),n(".js-cover").classList.remove("is-not-cover"),s.value=""},o=function(e){var t,n,s;return null==e.toDataURL?(a({type:"error",title:"error",allowOutsideClick:!0}),!1):(n={},n.canvas=!0,s=e.width,t=e.height,s>=1920?n.maxWidth=1920:s>=1440?n.maxWidth=1440:s>=1200?n.maxWidth=1200:s>=960?n.maxWidth=960:s>=640&&(n.maxWidth=640),i(e.toDataURL(),r,n))},t.exports=function(){return i(s.files[0],o,{canvas:!0})}},{"../helper/selector.coffee":17,"blueimp-load-image-npm":21,sweetalert:31}],3:[function(e,t){var n,s,i,r,o,a,l,c,d,u,f,p,h;c=e("../helper/elementList.coffee"),l=c.p,p=c.text,f=c.strong,a=c.em,d=e("../helper/selector.coffee"),n=d.$,s=d.$$,u=e("../helper/setCaret.coffee"),i=document.querySelector(".js-editable"),r=/^(B|I|STRONG|EM|A|SPAN)$/,o=/^(H1|H2|H3|P|BLOCKQUOTE|TEXTAREA|PRE)$/,h=function(e){return r.test(e.nodeName)&&(e=e.parentNode,r.test(e.nodeName)&&(e=e.parentNode,r.test(e.nodeName)&&(e=e.parentNode,r.test(e.nodeName)&&(e=e.parentNode)))),o.test(e.nodeName)?e.classList.toggle("is-center"):console.log},t.exports=function(){var e,t,n,s,r,o,a,l,c;if(c=window.getSelection(),e=c.anchorNode.parentNode,n=c.focusNode.parentNode,e===n)return h(e);for(r=!1,a=i.childNodes,l=[],s=0,o=a.length;o>s;s++)t=a[s],c.containsNode(t,!0)?t.innerHTML?l.push(h(t)):l.push(void 0):l.push(void 0);return l}},{"../helper/elementList.coffee":15,"../helper/selector.coffee":17,"../helper/setCaret.coffee":18}],4:[function(e,t){var n,s,i,r,o,a,l,c,d,u,f,p,h,m,v;l=e("../helper/getCaret.coffee"),m=e("../helper/setCaret.coffee"),v=e("../helper/setSelection.coffee"),u=e("../normalize/hangingPunc.coffee"),p=e("../helper/elementList.coffee"),f=p.p,c=p.h2,d=p.h3,r=p.blockquote1,o=p.blockquote2,a=p.code,n=e("../helper/selector.coffee").$,s=n(".js-editable"),i=/^(B|I|STRONG|EM|A|SPAN)$/,h=function(e){var t,n;t=e,i.test(t.firstChild.nodeName)&&(t=t.firstChild,i.test(t.firstChild.nodeName)&&(t=t.firstChild,i.test(t.firstChild.nodeName)&&(t=t.firstChild,i.test(t.firstChild.nodeName)&&(t=t.firstChild)))),n=e,i.test(n.lastChild.nodeName)&&(n=n.lastChild,i.test(n.lastChild.nodeName)&&(n=n.lastChild,i.test(n.lastChild.nodeName)&&(n=n.lastChild,i.test(n.lastChild.nodeName)&&(n=n.lastChild))));try{return u(),v(t.firstChild,0,n.lastChild,n.lastChild.textContent.length)}catch(s){}},t.exports=function(e){var t,n,l,u,p,v,g,b,y,_;if(null==e&&(e=1),_=window.getSelection(),t=_.anchorNode,n=_.focusNode,u=_.anchorOffset,v=_.focusOffset,g=c(),p="H2",1===e)g=c(),p="H2";else if(2===e)g=d(),p="H3";else if(3===e)g=r(),p="BLOCKQUOTE";else if(4===e)g=o(),p="BLOCKQUOTE";else{if(5!==e)return;g=a(),p="PRE"}if(null!=(b=t.parentNode.firstChild.classList)?!b.contains("is-drop-cap"):!0){if(0===t.textContent.length)return l=t.nodeName===p?f():g,l.innerHTML="<br>",t.parentNode.replaceChild(l,t),m(l.lastChild,0);if(t.parentNode.nodeName===p)return l=f(),t.parentNode.classList.contains("is-second")?3===e&&(l=r()):t.parentNode.classList.contains("is-second")||4===e&&(l=o()),t.parentNode.classList.contains("is-center")&&l.classList.add("is-center"),l.innerHTML=t.parentNode.innerHTML,s.replaceChild(l,t.parentNode),h(l);if(i.test(t.parentNode.nodeName)){if(l=g,t=t.parentNode,i.test(t.parentNode.nodeName)&&(t=t.parentNode,i.test(t.parentNode.nodeName)&&(t=t.parentNode)),null!=(y=t.parentNode.firstChild.classList)?y.contains("is-drop-cap"):void 0)return;return t.parentNode.nodeName===p&&(l=f()),t.parentNode.classList.contains("is-center")&&l.classList.add("is-center"),l.innerHTML=t.parentNode.innerHTML,s.replaceChild(l,t.parentNode),h(l)}return/^(P|BLOCKQUOTE|H2|H3|PRE)$/.test(t.parentNode.nodeName)?(l=g,l.innerHTML=t.parentNode.innerHTML,"#text"!==t.nodeName?(l.innerHTML=t.innerHTML,s.replaceChild(l,t)):(t.parentNode.classList.contains("is-center")&&l.classList.add("is-center"),s.replaceChild(l,t.parentNode)),h(l)):void 0}}},{"../helper/elementList.coffee":15,"../helper/getCaret.coffee":16,"../helper/selector.coffee":17,"../helper/setCaret.coffee":18,"../helper/setSelection.coffee":19,"../normalize/hangingPunc.coffee":35}],5:[function(e,t){var n,s,i,r,o,a;o=e("../helper/selector.coffee"),n=o.$,s=o.$$,a=e("../helper/setSelection.coffee"),i=n(".js-editable"),r=function(e){return"bold"===e?document.execCommand("bold"):"italic"===e?document.execCommand("italic"):void 0},t.exports=function(e){var t,n,s,o,l,c,d,u,f,p,h,m,v,g,b,y,_,w,L,C,x;for(x=window.getSelection(),document.execCommand("StyleWithCSS",!1,!1),d=/^(B|I|STRONG|EM|P|A|BLOCKQUOTE|UL|OL|FIGURE|PRE)$/,o=x.anchorNode,f=x.focusNode,l=x.anchorOffset,p=x.focusOffset,t=o.parentNode,s=f.parentNode,c=l,u=p,h=v=_=l;v>=0&&(c=h+1,!/^( |\-|&)$/.test(o.textContent[h]));h=v+=-1);if(/^( |\-|&)$/.test(f.textContent[p-1]))u=p-1;else for(h=g=w=p,L=f.textContent.length;(L>=w?L>=g:g>=L)&&(u=h,!/^( |\-|&)$/.test(f.textContent[h]));h=L>=w?++g:--g);for(1===c&&c--,u===f.textContent.length&&u--,a(o,c,f,u+1),m=!1,C=i.childNodes,b=0,y=C.length;y>b;b++)n=C[b],x.containsNode(n,!0)&&n.innerHTML&&(d.test(n.nodeName)||(m=!0));return m!==!0?r(e):console.log("heading gak bisa di bold / italic")}},{"../helper/selector.coffee":17,"../helper/setSelection.coffee":19}],6:[function(e,t){var n,s,i,r,o,a,l,c,d;a=e("../helper/selector.coffee"),n=a.$,s=a.$$,c=e("../helper/setSelection.coffee"),i=n(".js-editable"),d=e("sweetalert"),r=n(".js-tooltip-link"),o=function(e,t){var n,s,i,r,o,a;return n=document.body.getBoundingClientRect(),r=t.getBoundingClientRect(),i=r.left-n.left,o=r.top-n.top,a=r.width/2,s=r.height,e.innerHTML=""+t.href,e.style.display="block",e.style.top=o+s+"px",e.style.left=i+a+"px",e.style.marginLeft="-"+e.offsetWidth/2+"px"},l=function(e){return e.style.display="none"},t.exports=function(){var e,t,n,i,a,u,f,p,h,m,v,g,b,y,_,w,L;for(L=window.getSelection(),document.execCommand("StyleWithCSS",!1,!1),u=/^(B|I|STRONG|EM|SPAN)$/,f=/^(P|BLOCKQUOTE|FIGCAPTION|LI|UL|OL)$/,n=L.anchorNode,h=L.focusNode,i=L.anchorOffset,m=L.focusOffset,e=n.parentNode,t=h.parentNode,a=i,p=m,v=g=y=i;g>=0&&(a=v+1," "!==n.textContent[v]);v=g+=-1);if(" "===h.textContent[m-1])p=m-1;else for(v=b=_=m,w=h.textContent.length;(w>=_?w>=b:b>=w)&&(p=v," "!==h.textContent[v]);v=w>=_?++b:--b);return 1===a&&a--,p===h.textContent.length&&p--,c(n,a,h,p+1),u.test(e.nodeName)&&(e=e.parentNode,u.test(e.nodeName)&&(e=e.parentNode,u.test(e.nodeName)&&(e=e.parentNode))),u.test(t.nodeName)&&(t=t.parentNode,u.test(t.nodeName)&&(t=t.parentNode,u.test(t.nodeName)&&(t=t.parentNode))),"A"===e.nodeName?document.execCommand("unlink"):e===t&&f.test(e.nodeName)?d({title:"Insert link",text:"Link must valid",type:"input",showCancelButton:!0,closeOnConfirm:!1,animation:"slide-from-top",inputPlaceholder:"ex: framesia.com",allowOutsideClick:!0},function(e){var t,i,u,f;if(c(n,a,h,p+1),e===!1)return!1;if(""===e)return!1;for(/^https?/.test(e)||(e="//"+e),document.execCommand("createLink",!1,e),d.close(),f=s(".js-editable a"),i=0,u=f.length;u>i;i++)t=f[i],t.addEventListener("mouseover",function(){return o(r,this)}),t.addEventListener("mouseleave",function(){return l(r)});return!1}):void 0}},{"../helper/selector.coffee":17,"../helper/setSelection.coffee":19,sweetalert:31}],7:[function(e,t){var n,s,i,r,o,a,l;o=e("../helper/elementList.coffee").cap,a=e("../helper/selector.coffee"),n=a.$,s=a.$$,l=e("../helper/setCaret.coffee"),i=n(".js-editable"),r=/^(B|I|STRONG|EM|A|SPAN)$/,t.exports=function(){var e,t,n,s,i,a,l,c;if(c=window.getSelection(),e=c.anchorNode.parentNode,n=c.focusNode.parentNode,r.test(e.nodeName)&&(e=e.parentNode,r.test(e.nodeName)&&(e=e.parentNode,r.test(e.nodeName)&&(e=e.parentNode,r.test(e.nodeName)&&(e=e.parentNode)))),"P"===e.nodeName){if(null!=(l=e.firstChild.classList)?l.contains("is-drop-cap"):void 0)return i=e.firstChild.textContent,e.removeChild(e.firstChild),s=e.firstChild,r.test(s.nodeName)&&(s=s.firstChild,r.test(s.nodeName)&&(s=s.firstChild,r.test(s.nodeName)&&(s=s.firstChild,r.test(s.nodeName)&&(s=s.firstChild)))),a=s.textContent,s.nodeValue=i+a;if(/^[A-Za-z0-9]/.test(e.textContent))return s=e.firstChild,r.test(s.nodeName)&&(s=s.firstChild,r.test(s.nodeName)&&(s=s.firstChild,r.test(s.nodeName)&&(s=s.firstChild,r.test(s.nodeName)&&(s=s.firstChild)))),t=o(),t.innerHTML=e.textContent[0].toUpperCase(),a=s.textContent,s.nodeValue=a.slice(1,+a.length+1||9e9),e.insertBefore(t,e.firstChild)}}},{"../helper/elementList.coffee":15,"../helper/selector.coffee":17,"../helper/setCaret.coffee":18}],8:[function(e){var t,n,s,i,r,o,a,l,c,d;c=e("../helper/selector.coffee"),t=c.$,n=c.$$,s=t(".js-editable"),i=t(".js-tooltip-image"),r=t(".js-tooltip-link"),l=function(e){var n,s,i,o,a,l,c;return r=t(".js-tooltip-link"),s=e.target,n=document.body.getBoundingClientRect(),a=s.getBoundingClientRect(),o=a.left-n.left,l=a.top-n.top,c=a.width/2,i=a.height,r.innerHTML=""+s.href,s.getAttribute("data-href")&&(r.innerHTML=""+s.getAttribute("data-href")),r.style.display="block",r.style.top=l+i+"px",r.style.left=o+c+"px",r.style.marginLeft="-"+r.offsetWidth/2+"px"},d=function(){return r=t(".js-tooltip-link"),r.style.display="none"},a=function(e,t){var n,s,i,r,o,a;return n=document.body.getBoundingClientRect(),r=t.getBoundingClientRect(),i=r.left-n.left,o=r.top-n.top,a=r.width/2,s=r.height,e.style.display="block",e.style.top=o+"px",e.style.left=i+a+"px",e.style.marginLeft="-"+e.offsetWidth/2+"px"},o=function(e){var n;return n=t(".is-img.is-selected"),n.removeAttribute("width"),n.removeAttribute("height"),n.parentNode.classList.contains("b-figure--multi")||(n.parentNode.classList.remove("b-figure--left"),n.parentNode.classList.remove("b-figure--center"),n.parentNode.classList.remove("b-figure--full"),n.parentNode.classList.remove("b-figure--right"),n.parentNode.classList.add("b-figure--"+e)),i.style.display="none"},t(".js-img-left").addEventListener("click",function(){return o("left")}),t(".js-img-center").addEventListener("click",function(){return o("center")}),t(".js-img-right").addEventListener("click",function(){return o("right")}),t(".js-img-link").addEventListener("click",function(){var e;return e=t(".is-img.is-selected"),e.classList.contains("is-link")?(e.removeEventListener("mouseover",l),e.removeEventListener("mouseleave",d),e.removeAttribute("data-href"),e.classList.remove("is-link"),i.style.display="none"):swal({title:"Masukkan Link",text:"Linknya harus yang valid ya :D",type:"input",showCancelButton:!0,closeOnConfirm:!1,animation:"slide-from-top",inputPlaceholder:"misalnya damaera.com",allowOutsideClick:!0},function(t){return i.style.display="none",t===!1?!1:""===t?!1:(/^https?$/.test(t)||(t="http://"+t),/^(https?:\/\/)?([\da-z\.-]+)\.([a-z\.]{2,6})([\/\w \.-]*)*\/?$/.test(t)?(e.classList.add("is-link"),e.setAttribute("data-href",t),swal.close(),e.addEventListener("mouseover",l),e.addEventListener("mouseleave",d)):(swal.showInputError("Bukan Link yang valid!"),!1))})}),t(".js-img-full").addEventListener("click",function(){return o("full")}),t(".js-img-del").addEventListener("click",function(){var e,n;return n=t(".is-img.is-selected"),e=n.parentNode,e.removeChild(n),"IMG"!==e.firstChild.nodeName?s.removeChild(e):e.childNodes.length>2?reposition(e):(reposition(e),e.width="auto",e.height="auto",e.classList.remove("b-figure--multi"),e.classList.add("b-figure--center")),i.style.display="none"})},{"../helper/selector.coffee":17}],9:[function(){},{}],10:[function(e,t){var n,s,i,r,o,a,l,c,d,u;c=e("../helper/elementList.coffee"),a=c.hr,l=c.p,d=e("../helper/selector.coffee"),n=d.$,s=d.$$,u=e("../helper/setCaret.coffee"),i=n(".js-editable"),r=/^(B|I|STRONG|EM|A|SPAN)$/,o=/^(H1|H2|H3|P|BLOCKQUOTE|LI|UL|OL)$/,t.exports=function(){var e,t,n,s,o;return o=window.getSelection(),e=o.anchorNode.parentNode,t=o.focusNode.parentNode,r.test(e.nodeName)&&(e=e.parentNode,r.test(e.nodeName)&&(e=e.parentNode,r.test(e.nodeName)&&(e=e.parentNode,r.test(e.nodeName)&&(e=e.parentNode)))),"LI"===e.nodeName&&(e=e.parentNode),n=a(),s=l(),s.innerHTML="<br>",null!=e.nextSibling?"HR"===e.nextSibling.nodeName?i.removeChild(e.nextSibling):i.contains(e)&&i.insertBefore(n,e.nextSibling):(i.appendChild(n),i.appendChild(s)),u(o.anchorNode,o.anchorOffset)}},{"../helper/elementList.coffee":15,"../helper/selector.coffee":17,"../helper/setCaret.coffee":18}],11:[function(e,t){var n,s,i,r,o,a,l,c,d,u,f,p,h;u=e("../helper/elementList.coffee"),a=u.figure,d=u.p,f=e("../helper/selector.coffee"),n=f.$,s=f.$$,h=e("../helper/setSelection.coffee"),l=e("blueimp-load-image-npm"),i=n(".js-editable"),o=/^(B|I|STRONG|EM|A|SPAN)$/,r=n(".js-input-img"),c=function(e,t){var n,s,i,r,o,a;return n=document.body.getBoundingClientRect(),r=t.getBoundingClientRect(),i=r.left-n.left,o=r.top-n.top,a=r.width/2,s=r.height,e.style.display="block",e.style.top=o+"px",e.style.left=i+a+"px",e.style.marginLeft="-"+e.offsetWidth/2+"px"},p=function(e){return e.style.display="none"},t.exports=function(){var e,t,u,f,m,v;return i.addEventListener("click",function(e){var t,i,r,o;if("IMG"!==e.target.nodeName){for(o=s(".is-img.is-selected"),i=0,r=o.length;r>i;i++)t=o[i],t.classList.remove("is-selected");return p(n(".js-tooltip-image"))}}),i.addEventListener("keyup",function(){return p(n(".js-tooltip-image"))}),v=window.getSelection(),e=v.anchorNode,t=e.parentNode,u=v.focusNode,f=v.focusNode.parentNode,o.test(t.nodeName)&&(e=t,t=t.parentNode,o.test(t.nodeName)&&(e=t,t=t.parentNode,o.test(t.nodeName)&&(e=t,t=t.parentNode,o.test(t.nodeName)&&(e=t,t=t.parentNode)))),"LI"===t.nodeName&&(t=t.parentNode),m=function(r){var o,l,u,f,p,m;if(null==r.toDataURL)return swal({type:"error",title:"error"}),!1;for(l="",l=r.width>=960?a("full",r):r.width>=640?a("center",r):a("left",r),m=l.childNodes,f=0,p=m.length;p>f;f++)o=m[f],"IMG"===o.nodeName&&o.addEventListener("click",function(){var e,t,i,r;for(r=s(".is-img.is-selected"),t=0,i=r.length;i>t;t++)e=r[t],e.classList.remove("is-selected");return this.classList.add("is-selected"),c(n(".js-tooltip-image"),this)});return u=d(),u.innerHTML="<br>",t===i?e===i.lastChild?(i.replaceChild(l,e),i.appendChild(u)):i.replaceChild(l,e):i.insertBefore(l,t),h(l.lastChild,0,l.lastChild.lastChild,l.lastChild.textContent.length),n(".js-input-img").value=""},l(r.files[0],m,{canvas:!0,maxWidth:960})}},{"../helper/elementList.coffee":15,"../helper/selector.coffee":17,"../helper/setSelection.coffee":19,"blueimp-load-image-npm":21}],12:[function(e,t){var n,s;n=e("../helper/elementList.coffee").p,s=e("../helper/setCaret.coffee"),t.exports=function(){var e,t,i,r,o,a,l,c,d,u,f,p,h,m,v,g,b,y,_,w,L,C,x,N,j,k,T,S,E,A,O,R,M,H,I,P,$,B,U,q,D,F,z,G,J,W,K,V,X,Q,Z;if(B=window.getSelection(),t=B.anchorNode,e=B.anchorNode.parentNode,r=e.textContent,U=function(t){var i,o;return o=document.createElement("P"),o.innerHTML=t,i=n(),i.innerHTML="<br>",""===r?(e.parentNode.replaceChild(i,e),i.parentNode.insertBefore(o.firstChild,i),s(i,0)):(e.innerHTML="<br>",e.parentNode.insertBefore(o.firstChild,e),s(e,0))},"P"===e.nodeName){if(Z=/^https?:\/\/(www\.)?youtube\.com\/watch\?v=([a-zA-Z0-9_-]+)/,P=/^https?:\/\/(www\.)?soundcloud\.com\/([0-9a-z_-]+)\/([0-9a-z-]+)/,J=/^https?:\/\/(www\.)?twitter\.com\/([A-Za-z0-9_]+)\/status\/([0-9]+)/,a=/^https?:\/\/(www\.)?facebook\.com\/([A-Za-z0-9\.]+)\/posts\/([0-9]+)/,d=/^https?:\/\/(www\.)?facebook\.com\/([A-Za-z0-9\.]+)\/videos\/([0-9]+)/,m=/^https?:\/\/docs\.google\.com\/forms\/d\/([0-9a-zA-Z-_]+)/,p=/^https?:\/\/docs\.google\.com\/document\/d\/([0-9a-zA-Z-_]+)/,_=/^https?:\/\/docs\.google\.com\/spreadsheets\/d\/([0-9a-zA-Z-_]+)/,L=/^https?:\/\/docs\.google\.com\/presentation\/d\/([0-9a-zA-Z-_]+)/,b=/^<iframe src=("|â€œ)https?:\/\/(www\.)?google\.com\/maps\/embed\?([A-Za-z0-9=!\.\%\+\-]+)(.*)<\/iframe>$/,Z.test(r))return N=Z.exec(r),F=N[0],V=N[1],Q=N[2],X="<iframe class='b-graf b-graf--frame--yt' contentEditable='false' width='100%' src='https://www.youtube.com/embed/"+Q+"' frameborder='0' data-frame-id='"+Q+"' data-origin='youtube'></iframe>",U(X);if(P.test(r))return j=P.exec(r),F=j[0],V=j[1],H=j[2],$=j[3],I="<iframe class='b-graf b-graf--frame--sc'  contentEditable='false' width='100%' height='166' scrolling='no' frameborder='no' data-frame-id='"+H+"/"+$+"' data-origin='soundcloud' src='https://w.soundcloud.com/player/?url=https%3A//soundcloud.com/"+H+"/"+$+"&amp;color=F2635E&amp;auto_play=false&amp;hide_related=false&amp;show_comments=true&amp;show_user=true&amp;show_reposts=false'></iframe>",U(I);if(J.test(r))return k=J.exec(r),F=k[0],V=k[1],W=k[2],G=k[3],z="<iframe class='b-graf b-graf--frame--twit' contentEditable='false' border=0 frameborder=0 data-frame-id='"+G+"' data-origin='twitter' src='/e/twitter?id="+G+"' width='100%' onload='resizeIframe(this)'></iframe>",U(z);if(a.test(r))return T=a.exec(r),F=T[0],V=T[1],l=T[2],C=T[3],o="<iframe class='b-graf b-graf--frame--fb-post' contentEditable='false' border=0 frameborder=0 data-frame-id='"+l+"/"+C+"' data-origin='facebook-post' src='/e/fb-post?user="+l+"+id="+C+"' width='100%' onload='resizeIframe(this)'></iframe>",U(o);if(d.test(r))return S=d.exec(r),F=S[0],V=S[1],l=S[2],K=S[3],c="<iframe class='b-graf b-graf--frame--fb-post' contentEditable='false' border=0 frameborder=0 data-frame-id='"+l+"/"+K+"' data-origin='facebook-video' src='/e/fb-video?user="+l+"+id="+K+"' width='640' height='360'></iframe>",U(c);if(b.test(r))return E=b.exec(r),F=E[0],x=E[1],V=E[2],v=E[3],g="<iframe class='b-graf b-graf--frame--gmap' contentEditable='false' data-src='"+v+"' data-frame-id='"+v+"' data-origin='google-map' src='https://www.google.com/maps/embed?"+v+"' width='100%' height='450' frameborder=0 style='border:0;' allowfullscreen></iframe>",U(g);if(_.test(r))return A=_.exec(r),F=A[0],q=A[1],y="<iframe class='b-graf b-graf--frame--gsheet' contentEditable='false' data-frame-id='"+q+"' data-origin='google-sheet' src='https://docs.google.com/spreadsheets/d/"+q+"/pubhtml?widget=true&amp;headers=false' width='100%' height='450' frameborder=0 marginheight=0 marginwidth=0></iframe>",U(y);if(L.test(r))return O=L.exec(r),F=O[0],D=O[1],w="<iframe class='b-graf b-graf--frame--gslide' contentEditable='false' data-frame-id='"+D+"' data-origin='google-slide' src='https://docs.google.com/presentation/d/"+D+"/embed?start=false&loop=false' allowfullscreen='true' mozallowfullscreen='true' webkitallowfullscreen='true' width='100%' height='389' frameborder=0 marginheight=0 marginwidth=0></iframe>",U(w);if(p.test(r))return R=p.exec(r),F=R[0],i=R[1],console.log(i),f="<iframe class='b-graf b-graf--frame--gdoc' contentEditable='false' data-frame-id='"+i+"' data-origin='google-doc' src='https://docs.google.com/document/d/"+i+"/pub?embedded=true' width='100%' height='450' frameborder=0 marginheight=0 marginwidth=0></iframe>",U(f);if(m.test(r))return M=m.exec(r),F=M[0],u=M[1],h="<iframe class='b-graf b-graf--frame--gform' contentEditable='false' data-frame-id='"+u+"' data-origin='google-form' src='https://docs.google.com/forms/d/"+u+"/viewform?embedded=true' width='100%' height='450' frameborder=0 marginheight=0 marginwidth=0></iframe>",U(h)}}},{"../helper/elementList.coffee":15,"../helper/setCaret.coffee":18}],13:[function(e,t){var n,s,i,r,o;i=e("../helper/elementList.coffee"),o=i.ul,s=i.ol,n=i.li,r=e("../helper/setCaret.coffee"),t.exports=function(){var e,t,n,i;if(i=window.getSelection(),t=i.anchorNode.parentNode,"P"===t.nodeName){if(/^(\-&nbsp;|\+&nbsp;|\*&nbsp;)$/.test(t.innerHTML))e=o(),e.innerHTML="<li><br></li>",t.parentNode.replaceChild(e,t);else if(/^(1\.&nbsp;)$/.test(t.innerHTML))e=s(),e.innerHTML="<li><br></li>",t.parentNode.replaceChild(e,t);else if(/^(\- |\+ |\* )/.test(t.textContent))e=o(),n=t.innerHTML.slice(2),e.innerHTML="<li>"+n+"</li>",t.parentNode.replaceChild(e,t);else{if(!/^(1\. )/.test(t.textContent))return;e=s(),n=t.innerHTML.slice(2),e.innerHTML="<li>"+n+"</li>",t.parentNode.replaceChild(e,t)}return r(e.firstChild.firstChild,0)}}},{"../helper/elementList.coffee":15,"../helper/setCaret.coffee":18}],14:[function(e,t){var n,s,i,r,o,a,l,c,d,u,f,p,h,m,v,g,b,y,_,w,L,C,x,N,j;L=e("./helper/selector.coffee"),n=L.$,s=L.$$,C=e("./helper/elementList.coffee"),y=C.p,p=C.h2,h=C.h3,l=C.blockquote1,c=C.blockquote2,j=C.ul,b=C.ol,v=C.li,u=C.code,d=C.cap,m=C.hr,f=C.figure,i=n(".js-editable"),o=n(".js-title-input"),r=n(".js-img-cover"),a=o.parentNode,g=e("blueimp-load-image-npm"),_=function(e){return e.replace(/</g,"&lt;").replace(/&lt;(br)(.*?)>/g,"<br>").replace(/&lt;span (.*?)>[A-Z]/g,"").replace(/&lt;\/span>/g,"").replace(/&lt;(b|strong)>/g,"<strong>").replace(/&lt;\/(b|strong)>/g,"</strong>").replace(/&lt;(i|em)>/g,"<em>").replace(/&lt;\/(i|em)>/g,"</em>").replace(/&lt;a href=/g,"<a href=").replace(/&lt;\/a>/g,"</a>")},w=function(){return/data:image\/(jpeg|png);base64,\/(?:[A-Za-z0-9+\/]{4})*(?:[A-Za-z0-9+\/]{2}==|[A-Za-z0-9+\/]{3}=|[A-Za-z0-9+\/]{4})/},x=function(e){var t,s,a,g,_,w,L,C,x,N,k,T,S,E,A;for(A=document.createElement("DIV"),o.value=e.title,e.isTitleCenter?o.classList.add("is-center"):o.classList.remove("is-center"),e.isCover?(r.src=e.img[0].data,n(".js-del-cover").classList.remove("is-hidden"),r.parentNode.classList.remove("is-not-cover"),r.style.width=e.cover.width+"px",r.style.height=e.cover.height+"px"):(r.removeAttribute("src"),r.removeAttribute("style"),r.parentNode.classList.add("is-not-cover"),n(".js-del-cover").classList.add("is-hidden")),T=e.data,g=0,C=T.length;C>g;g++){if(_=T[g],"P"===_.type)s=y(),s.innerHTML=_.content,_.isDropCap&&(t=d(),t.innerHTML=_.dropCapChar[0],s.insertBefore(t,s.firstChild));else if("H2"===_.type)s=p(),s.innerHTML=_.content;else if("H3"===_.type)s=h(),s.innerHTML=_.content;else if("QUOTE1"===_.type)s=l(),s.innerHTML=_.content;else if("QUOTE2"===_.type)s=c(),s.innerHTML=_.content;else if("PRE"===_.type)s=u(),s.innerHTML=_.content;else if("HR"===_.type)s=m(),s.innerHTML=_.content;else if("FIGURE"===_.type)_.img.data=e.img[_.img.id].data,s=f(_.figureAlign,_.img,_.caption);else if("UL"===_.type)for(s=j(),S=_.list,w=0,x=S.length;x>w;w++)k=S[w],a=v(),a.innerHTML=k,s.appendChild(a);else if("OL"===_.type)for(s=b(),E=_.list,L=0,N=E.length;N>L;L++)k=E[L],a=v(),a.innerHTML=k,s.appendChild(a);_.center&&s.classList.add("is-center"),1===_.indent?s.classList.add("is-indent1"):2===_.indent&&s.classList.add("is-indent2"),A.appendChild(s)}return i.innerHTML=A.innerHTML},window.coverChanged=!1,N=function(){var e,t,l,c,d,u,f,p,h,m,v,g,b,y,w,L,C,x,N,j,k,T,S,E,A,O,R,M,H;if(d={isCoverChanged:!1,isTitleCenter:!1,title:o.value,isCover:!1,cover:{},data:[],img:[]},d.isCoverChanged=window.coverChanged,v=[],f=-1,n("img.is-saved")){for(T=-1,S=s("img.is-saved"),u=0,w=S.length;w>u;u++)l=S[u],h=1*l.getAttribute("image-id"),h>T&&(T=h);f=T}for(a.classList.contains("is-center")&&(d.isTitleCenter=!0),window.coverChanged===!0&&""!==r.src&&(d.isCover=!0,d.cover={width:r.getAttribute("data-width"),height:r.getAttribute("data-height"),data:r.src}),E=i.childNodes,g=0,L=E.length;L>g;g++)if(e=E[g],"#text"!==e.nodeName&&"#comment"!==e.nodeName){if(e.classList.contains("is-placeholder"))continue;if(c={},e.classList.contains("is-center")&&(c.center=!0),e.classList.contains("is-indent2")?c.indent=2:e.classList.contains("is-indent1")&&(c.indent=1),"H2"===e.nodeName)c.type="H2",c.content=_(e.innerHTML);else if("H3"===e.nodeName)c.type="H3",c.content=_(e.innerHTML);else if("P"===e.nodeName)c.type="P",(null!=(A=e.firstChild)?null!=(O=A.classList)?O.contains("is-drop-cap"):void 0:void 0)&&(c.isDropCap=!0,c.dropCapChar=e.firstChild.textContent[0]),c.content=_(e.innerHTML);else if("BLOCKQUOTE"===e.nodeName)c.type=e.classList.contains("is-second")?"QUOTE2":"QUOTE1",c.content=_(e.innerHTML);else if("PRE"===e.nodeName)c.type="PRE",c.content=_(e.innerHTML);else if("HR"===e.nodeName)c.type="HR";else if("FIGURE"===e.nodeName)for(c.type="FIGURE",c.figureAlign="center",e.classList.contains("b-figure--center")?c.figureAlign="center":e.classList.contains("b-figure--left")?c.figureAlign="left":e.classList.contains("b-figure--right")?c.figureAlign="right":e.classList.contains("b-figure--full")&&(c.figureAlign="full"),c.img={},R=e.childNodes,b=0,C=R.length;C>b;b++)t=R[b],"IMG"===t.nodeName?(t.classList.contains("is-saved")?h=t.getAttribute("image-id"):(f++,h=f),t.offsetWidth>0&&t.offsetHeight>0?(m=t.offsetWidth,p=t.offsetHeight):(m=t.getAttribute("width"),p=t.getAttribute("height")),v.push({id:1*h,data:t.getAttribute("src")}),c.img={id:1*h,width:1*m,height:1*p},t.getAttribute("data-href")?(j=!0,c.img.href=t.getAttribute("data-href")):j=!1,c.img.link=j):"FIGCAPTION"===t.nodeName&&(c.caption=_(t.innerHTML));else if("UL"===e.nodeName)for(c.type="UL",c.list=[],M=e.childNodes,y=0,x=M.length;x>y;y++)t=M[y],"LI"===t.nodeName&&c.list.push(_(t.innerHTML));else if("OL"===e.nodeName)for(c.type="OL",c.list=[],H=e.childNodes,k=0,N=H.length;N>k;k++)t=H[k],"LI"===t.nodeName&&c.list.push(_(t.innerHTML));else"IFRAME"===e.nodeName&&(c.type="IFRAME",c.frameId=e.getAttribute("data-frame-id"),c.origin=e.getAttribute("data-origin"));d.data.push(c),d.img=v}return d},t.exports={toJson:N,toDom:x}},{"./helper/elementList.coffee":15,"./helper/selector.coffee":17,"blueimp-load-image-npm":21}],15:[function(e,t){t.exports={p:function(){var e;return e=document.createElement("P"),e.classList.add("b-graf"),e},h2:function(){var e;return e=document.createElement("H2"),e.classList.add("b-graf"),e.classList.add("b-graf--h2"),e},h3:function(){var e;return e=document.createElement("H3"),e.classList.add("b-graf"),e.classList.add("b-graf--h3"),e},ul:function(){var e;return e=document.createElement("UL"),e.classList.add("b-graf"),e.classList.add("b-graf--ulist"),e},ol:function(){var e;return e=document.createElement("OL"),e.classList.add("b-graf"),e.classList.add("b-graf--olist"),e},li:function(){var e;return e=document.createElement("LI")},blockquote1:function(){var e;return e=document.createElement("BLOCKQUOTE"),e.classList.add("b-graf"),e.classList.add("b-graf--quote1"),e},blockquote2:function(){var e;return e=document.createElement("BLOCKQUOTE"),e.classList.add("b-graf"),e.classList.add("b-graf--quote2"),e.classList.add("is-second"),e},code:function(){var e;return e=document.createElement("PRE"),e.classList.add("b-graf"),e.classList.add("b-graf--code"),e},cap:function(){var e;return e=document.createElement("SPAN"),e.classList.add("b-graf"),e.classList.add("b-graf--drop-cap"),e.classList.add("is-drop-cap"),e.contentEditable=!1,e},hr:function(){var e;return e=document.createElement("HR"),e.classList.add("b-graf"),e.classList.add("b-graf--divider"),e.contentEditable=!1,e},text:function(e){var t;return t=document.createTextNode(e)},figure:function(e,t,n){var s,i,r,o,a,l;return null==e&&(e="center"),null==n&&(n="deskripsi gambar (opsional)"),a=e,l=n,o=n,"deskripsi gambar (opsional)"===n&&(o=""),i=document.createElement("FIGURE"),s=document.createElement("FIGCAPTION"),i.classList.add("b-figure"),i.classList.add("b-figure--"+a),s.classList.add("b-figure__figcaption"),s.classList.add("is-figcaption"),s.innerHTML=l,s.contentEditable=!0,r=document.createElement("IMG"),r.classList.add("b-figure__img"),r.classList.add("is-img"),r.src="CANVAS"===t.nodeName?t.toDataURL("image/jpeg",.7):t.data,r.setAttribute("alt",o),r.setAttribute("data-width",t.width),r.setAttribute("data-height",t.height),t.link&&(r.setAttribute("data-href",t.href),r.classList.add("is-link")),i.appendChild(r),i.appendChild(s),i.contentEditable=!1,i},iframe:function(){}}},{}],16:[function(e,t){t.exports=function(){var e;return e=window.getSelection(),e.anchorOffset}},{}],17:[function(e,t){var n,s;n=function(e){return document.querySelector(e)},s=function(e){return document.querySelectorAll(e)},t.exports={$:n,$$:s}},{}],18:[function(e,t){t.exports=function(e,t){var n,s;return s=window.getSelection(),n=document.createRange(),n.setStart(e,t),n.collapse(!0),s.removeAllRanges(),s.addRange(n)}},{}],19:[function(e,t){t.exports=function(e,t,n,s){var i,r;return r=window.getSelection(),i=document.createRange(),i.setStart(e,t),i.setEnd(n,s),r.removeAllRanges(),r.addRange(i)}},{}],20:[function(e){var t,n,s,i,r,o,a,l,c,d,u,f,p,h,m,v,g,b,y,_,w,L,C,x,N,j,k,T,S,E,A,O,R,M,H,I,P,$,B,U,q,D,F,z,G,J,W,K,V,X;for(J=e("sweetalert"),z=e("./helper/setSelection.coffee"),F=e("./helper/setCaret.coffee"),v=e("./command/blockElement.coffee"),g=e("./command/boldItalic.coffee"),O=e("./command/makeList.coffee"),p=e("./command/alignCenter.coffee"),_=e("./command/createLink.coffee"),j=e("./command/insertHr.coffee"),E=e("./command/makeEmbed.coffee"),k=e("./command/insertImage.coffee"),x=e("./command/imageControl.coffee"),N=e("./command/insertCode.coffee"),w=e("./command/dropCap.coffee"),u=e("./command/addCover.coffee"),M=e("./normalize/normalizeEditable.coffee"),X=e("./normalize/toolbarListener.coffee"),I=e("./normalize/onPaste.coffee"),P=e("./normalize/onUndo.coffee"),b=e("./normalize/charTransform.coffee"),L=e("./normalize/hangingPunc.coffee"),m=e("./normalize/autoLink.coffee"),$=e("./domParse.coffee"),V=$.toJson,K=$.toDom,B=e("./helper/selector.coffee"),t=B.$,n=B.$$,i=t(".js-editable"),l=t(".js-toolbar"),h=JSON.stringify(V()),localStorage.setItem("article-init",h),W="",H=JSON.stringify(V()),document.addEventListener("keyup",function(e){return clearTimeout(W),W=setTimeout(function(){var t;if(!e.ctrlKey&&!e.metaKey)return t=JSON.stringify(V()),t!==H?(P.stack.execute(new P.editCommand(i,H,t)),H=t):void 0},250)}),document.addEventListener("keydown",function(e){if(e.ctrlKey||e.metaKey)if(90===e.keyCode){e.preventDefault();try{return P.stack.canUndo(),P.stack.undo(),f()}catch(t){}}else if(89===e.keyCode){e.preventDefault();try{return P.stack.canRedo(),P.stack.redo(),f()}catch(t){}}}),G=function(){var e;return e=JSON.stringify(V()),P.stack.execute(new P.editCommand(i,H,e,H=e))},document.addEventListener("keydown",function(e){if(9===e.which)return e.preventDefault();if(e.ctrlKey||e.metaKey){if(/^(66|73|85|49|50|51|52|53|69|75|79|83)$/.test(e.which)&&e.preventDefault(),66===e.keyCode)return t(".js-bold").click();if(73===e.keyCode)return t(".js-italic").click();if(49===e.keyCode)return t(".js-heading1").click();if(50===e.keyCode)return t(".js-heading2").click();if(51===e.keyCode)return t(".js-quote1").click();if(52===e.keyCode)return t(".js-quote2").click();if(53===e.keyCode)return t(".js-code").click();if(69===e.keyCode)return t(".js-center").click();if(75===e.keyCode)return t(".js-link").click();if(83===e.keyCode)return t(".js-save").click();if(191===e.keyCode)return t(".js-help").click()}}),A=function(e,t){var n,s,i,r,o,a;return n=document.body.getBoundingClientRect(),r=t.getBoundingClientRect(),i=r.left-n.left,o=r.top-n.top,a=r.width/2,s=r.height,e.style.display="block",e.style.top=o+"px",e.style.left=i+a+"px",e.style.marginLeft="-"+e.offsetWidth/2+"px"},R=function(e,t){var n,s,i,r,o,a;if(n=document.body.getBoundingClientRect(),r=t.getBoundingClientRect(),i=r.left-n.left,o=r.top-n.top,a=r.width/2,s=r.height,t.href)e.innerHTML=""+t.href;
else{if(!t.getAttribute("data-href"))return;e.innerHTML=""+t.getAttribute("data-href")}return e.style.display="block",e.style.top=o+s+"px",e.style.left=i+a+"px",e.style.marginLeft="-"+e.offsetWidth/2+"px"},D=function(e){return e.style.display="none"},c=t(".js-tooltip-link"),q=function(e){return e.style.display="none"},i.addEventListener("click",function(e){var s,i,r,o;if("IMG"!==e.target.nodeName){for(o=n(".is-img.is-selected"),i=0,r=o.length;r>i;i++)s=o[i],s.classList.remove("is-selected");return q(t(".js-tooltip-image"))}}),i.addEventListener("keyup",function(){return q(t(".js-tooltip-image"))}),f=function(){var e,s,i,r,o,a,l,d,u,f,p,h;for(u=n(".js-editable img.is-link"),i=0,a=u.length;a>i;i++)s=u[i],s.addEventListener("mouseover",function(){return R(c,this)}),s.addEventListener("mouseleave",function(){return D(c)});for(f=n(".js-editable a"),r=0,l=f.length;l>r;r++)s=f[r],s.addEventListener("mouseover",function(){return R(c,this)}),s.addEventListener("mouseleave",function(){return D(c)});for(p=n(".is-img"),h=[],o=0,d=p.length;d>o;o++)e=p[o],h.push(e.addEventListener("click",function(){var e,s,i,r;for(r=n(".is-img.is-selected"),s=0,i=r.length;i>s;s++)e=r[s],e.classList.remove("is-selected");return this.classList.add("is-selected"),A(t(".js-tooltip-image"),this)}));return h},r=t(".js-input-link"),d=t(".js-tooltip-input-link"),r.addEventListener("blur",function(e){return e.preventDefault(),r.value="",d.style.display="none"}),r.addEventListener("keyup",function(e){return 13===e.keyCode?setTimeout(f(),1e3):void 0}),f(),U=n(".js-tooltip-image button"),C=0,S=U.length;S>C;C++)s=U[C],s.addEventListener("click",function(){return G()});y=function(e,t){var n,s,r,o,a,l;return e.preventDefault(),l=window.getSelection(),a=window.getSelection(),r=a.anchorNode,o=a.focusNode,null===r||null===o?t(!1):(n=r.parentNode,s=o.parentNode,i.contains(n)?(t(!0),f(),G()):t(!1))},t(".js-heading1").onclick=function(e){return y(e,function(e){return e?v(1):void 0})},t(".js-heading2").onclick=function(e){return y(e,function(e){return e?v(2):void 0})},t(".js-quote1").onclick=function(e){return y(e,function(e){return e?(v(4),p(),g("italic")):void 0})},t(".js-quote2").onclick=function(e){return y(e,function(e){return e?v(3):void 0})},t(".js-code").onclick=function(e){return y(e,function(e){return e?v(5):void 0})},t(".js-bold").onclick=function(e){return y(e,function(e){return e?g("bold"):void 0})},t(".js-italic").onclick=function(e){return y(e,function(e){return e?g("italic"):void 0})},o=t("textarea"),a=o.parentNode,T=!1,o.onfocus=function(){return a.classList.contains("is-center")?t(".js-center").classList.add("is-active"):t(".js-center").classList.remove("is-active"),T=!0},i.addEventListener("click",function(){return T=!1}),i.addEventListener("keyup",function(){return T=!1}),t(".js-center").onclick=function(e){return T&&(T=!1,a.classList.contains("is-center")?a.classList.remove("is-center"):(t(".js-center").classList.add("is-active"),a.classList.add("is-center"))),y(e,function(e){return e?p():void 0})},t(".js-drop-cap").onclick=function(e){return y(e,function(e){return e?w():void 0})},t(".js-link").onclick=function(e){return y(e,function(e){return e?_():void 0})},t(".js-hr").onclick=function(e){return y(e,function(e){return e?j():void 0})},t(".js-img").onclick=function(e){return y(e,function(e){return e?t(".js-input-img").click():void 0})},t(".js-help").onclick=function(){return J({title:"Help",text:'<h3>Shortcut</h3>\n<table>\n  <tr>\n    <td><span>Cmd</span> + <span class="btn">B</span></td>\n    <td>Bold</td>\n  </tr>\n  <tr>\n    <td><span>Cmd</span> + <span class="btn">I</span></td>\n    <td>Italic</td>\n  </tr>\n  <tr>\n    <td><span>Cmd</span> + <span class="btn">K</span></td>\n    <td>Link</td>\n  </tr>\n  <tr>\n    <td><span>Cmd</span> + <span class="btn">E</span></td>\n    <td>Align center</td>\n  </tr>\n  <tr>\n    <td><span>Cmd</span> + <span class="btn">1</span></td>\n    <td>Big heading</td>\n  </tr>\n  <tr>\n    <td><span>Cmd</span> + <span class="btn">2</span></td>\n    <td>Small heading</td>\n  </tr>\n  <tr>\n    <td><span>Cmd</span> + <span class="btn">3</span></td>\n    <td>Big quote</td>\n  </tr>\n  <tr>\n    <td><span>Cmd</span> + <span class="btn">4</span></td>\n    <td>Small quote</td>\n  </tr>\n  <tr>\n    <td><span>Cmd</span> + <span class="btn">5</span></td>\n    <td>Code block</td>\n  </tr>\n  <tr>\n    <td><span>Cmd</span> + <span class="btn">Z</span></td>\n    <td>Undo</td>\n  </tr>\n  <tr>\n    <td><span>Cmd</span> + <span class="btn">Y</span></td>\n    <td>Redo</td>\n  </tr>\n  <tr>\n    <td><span>Cmd</span> + <span class="btn">S</span></td>\n    <td>Save article</td>\n  </tr>\n  <tr>\n    <td><span>Cmd</span> + <span class="btn">O</span></td>\n    <td>Open saved article</td>\n  </tr>\n  <tr>\n    <td><span>Cmd</span> + <span class="btn">?</span></td>\n    <td>Help</td>\n  </tr>\n</table>',html:!0,allowOutsideClick:!0})},t(".js-input-img").onchange=function(){return k(),setTimeout(G(),500),t(".js-input-img").value=""},t(".js-add-cover").onclick=function(){return window.coverChanged=!0,t(".js-input-cover").click()},t(".js-del-cover").onclick=function(){var e,n,s;return window.coverChanged=!0,n=t(".js-img-cover"),e=n.parentNode,o=t(".js-article-title"),s=t(".js-cover-shadow"),o.classList.remove("is-with-cover"),s.classList.add("is-hidden"),e.removeAttribute("src"),e.removeAttribute("style"),e.classList.remove("is-cover-full"),e.classList.remove("is-cover-not-full"),n.removeAttribute("src"),n.removeAttribute("style"),n.classList.remove("is-hidden"),this.classList.add("is-hidden"),t(".js-cover").classList.add("is-not-cover"),G()},t(".js-input-cover").onchange=function(){return u(),setTimeout(G(),500)},i.addEventListener("keyup",function(e){if(e.ctrlKey||e.metaKey);else if(17!==e.keyCode)return b(),O(),L()}),i.addEventListener("keydown",function(e){return 13===e.which?E():32===e.keyCode?m(e):void 0}),i.addEventListener("click",function(){var e,t,s,i,r;for(i=n(".is-figcaption"),r=[],t=0,s=i.length;s>t;t++)e=i[t],"description (optional)"===e.textContent?r.push(e.innerHTML="<br>"):r.push(void 0);return r}),t(".js-open").onclick=function(){var e;return e=JSON.parse(localStorage.getItem("article")),e?(K(e),f(),G()):void 0},t(".js-save").onclick=function(){var e;return e=JSON.stringify(V()),localStorage.setItem("article",e)}},{"./command/addCover.coffee":2,"./command/alignCenter.coffee":3,"./command/blockElement.coffee":4,"./command/boldItalic.coffee":5,"./command/createLink.coffee":6,"./command/dropCap.coffee":7,"./command/imageControl.coffee":8,"./command/insertCode.coffee":9,"./command/insertHr.coffee":10,"./command/insertImage.coffee":11,"./command/makeEmbed.coffee":12,"./command/makeList.coffee":13,"./domParse.coffee":14,"./helper/selector.coffee":17,"./helper/setCaret.coffee":18,"./helper/setSelection.coffee":19,"./normalize/autoLink.coffee":33,"./normalize/charTransform.coffee":34,"./normalize/hangingPunc.coffee":35,"./normalize/normalizeEditable.coffee":36,"./normalize/onPaste.coffee":37,"./normalize/onUndo.coffee":38,"./normalize/toolbarListener.coffee":39,sweetalert:31}],21:[function(e,t){"use strict";var n=e("./load-image");t.exports=n},{"./load-image":22}],22:[function(e,t){"use strict";var n=function(e,t,s){var i,r,o=document.createElement("img");if(o.onerror=t,o.onload=function(){!r||s&&s.noRevoke||n.revokeObjectURL(r),t&&t(n.scale(o,s))},n.isInstanceOf("Blob",e)||n.isInstanceOf("File",e))i=r=n.createObjectURL(e),o._type=e.type;else{if("string"!=typeof e)return!1;i=e,s&&s.crossOrigin&&(o.crossOrigin=s.crossOrigin)}return i?(o.src=i,o):n.readFile(e,function(e){var n=e.target;n&&n.result?o.src=n.result:t&&t(e)})},s=window.createObjectURL&&window||window.URL&&URL.revokeObjectURL&&URL||window.webkitURL&&webkitURL;n.isInstanceOf=function(e,t){return Object.prototype.toString.call(t)==="[object "+e+"]"},n.transformCoordinates=function(){},n.getTransformedOptions=function(e,t){var n,s,i,r,o=t.aspectRatio;if(!o)return t;n={};for(s in t)t.hasOwnProperty(s)&&(n[s]=t[s]);return n.crop=!0,i=e.naturalWidth||e.width,r=e.naturalHeight||e.height,i/r>o?(n.maxWidth=r*o,n.maxHeight=r):(n.maxWidth=i,n.maxHeight=i/o),n},n.renderImageToCanvas=function(e,t,n,s,i,r,o,a,l,c){var d=e.getContext("2d");return d.beginPath(),d.moveTo(0,0),d.lineTo(0,c),d.lineTo(l,c),d.lineTo(l,0),d.fillStyle="#FFFFFF",d.fill(),d.drawImage(t,n,s,i,r,o,a,l,c),e},n.hasCanvasOption=function(e){return e.canvas||e.crop||e.aspectRatio},n.scale=function(e,t){t=t||{};var s,i,r,o,a,l,c,d,u,f=document.createElement("canvas"),p=e.getContext||n.hasCanvasOption(t)&&f.getContext,h=e.naturalWidth||e.width,m=e.naturalHeight||e.height,v=h,g=m,b=function(){var e=Math.max((r||v)/v,(o||g)/g);e>1&&(v*=e,g*=e)},y=function(){var e=Math.min((s||v)/v,(i||g)/g);1>e&&(v*=e,g*=e)};return p&&(t=n.getTransformedOptions(e,t),c=t.left||0,d=t.top||0,t.sourceWidth?(a=t.sourceWidth,void 0!==t.right&&void 0===t.left&&(c=h-a-t.right)):a=h-c-(t.right||0),t.sourceHeight?(l=t.sourceHeight,void 0!==t.bottom&&void 0===t.top&&(d=m-l-t.bottom)):l=m-d-(t.bottom||0),v=a,g=l),s=t.maxWidth,i=t.maxHeight,r=t.minWidth,o=t.minHeight,p&&s&&i&&t.crop?(v=s,g=i,u=a/l-s/i,0>u?(l=i*a/s,void 0===t.top&&void 0===t.bottom&&(d=(m-l)/2)):u>0&&(a=s*l/i,void 0===t.left&&void 0===t.right&&(c=(h-a)/2))):((t.contain||t.cover)&&(r=s=s||r,o=i=i||o),t.cover?(y(),b()):(b(),y())),p?(f.width=v,f.height=g,n.transformCoordinates(f,t),n.renderImageToCanvas(f,e,c,d,a,l,0,0,v,g)):(e.width=v,e.height=g,e)},n.createObjectURL=function(e){return s?s.createObjectURL(e):!1},n.revokeObjectURL=function(e){return s?s.revokeObjectURL(e):!1},n.readFile=function(e,t,n){if(window.FileReader){var s=new FileReader;if(s.onload=s.onerror=t,n=n||"readAsDataURL",s[n])return s[n](e),s}return!1},t.exports=n},{}],23:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var s={title:"",text:"",type:null,allowOutsideClick:!1,showConfirmButton:!0,showCancelButton:!1,closeOnConfirm:!0,closeOnCancel:!0,confirmButtonText:"OK",confirmButtonColor:"#8CD4F5",cancelButtonText:"Cancel",imageUrl:null,imageSize:null,timer:null,customClass:"",html:!1,animation:!0,allowEscapeKey:!0,inputType:"text",inputPlaceholder:"",inputValue:"",showLoaderOnConfirm:!1};n["default"]=s,t.exports=n["default"]},{}],24:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var s=e("./utils"),i=(e("./handle-swal-dom"),e("./handle-dom")),r=function(e,t,n){function r(e){p&&t.confirmButtonColor&&(f.style.backgroundColor=e)}var l,c,d,u=e||window.event,f=u.target||u.srcElement,p=-1!==f.className.indexOf("confirm"),h=-1!==f.className.indexOf("sweet-overlay"),m=i.hasClass(n,"visible"),v=t.doneFunction&&"true"===n.getAttribute("data-has-done-function");switch(p&&t.confirmButtonColor&&(l=t.confirmButtonColor,c=s.colorLuminance(l,-.04),d=s.colorLuminance(l,-.14)),u.type){case"mouseover":r(c);break;case"mouseout":r(l);break;case"mousedown":r(d);break;case"mouseup":r(c);break;case"focus":var g=n.querySelector("button.confirm"),b=n.querySelector("button.cancel");p?b.style.boxShadow="none":g.style.boxShadow="none";break;case"click":var y=n===f,_=i.isDescendant(n,f);if(!y&&!_&&m&&!t.allowOutsideClick)break;p&&v&&m?o(n,t):v&&m||h?a(n,t):i.isDescendant(n,f)&&"BUTTON"===f.tagName&&sweetAlert.close()}},o=function(e,t){var n=!0;i.hasClass(e,"show-input")&&(n=e.querySelector("input").value,n||(n="")),t.doneFunction(n),t.closeOnConfirm&&sweetAlert.close(),t.showLoaderOnConfirm&&sweetAlert.disableButtons()},a=function(e,t){var n=String(t.doneFunction).replace(/\s/g,""),s="function("===n.substring(0,9)&&")"!==n.substring(9,10);s&&t.doneFunction(!1),t.closeOnCancel&&sweetAlert.close()};n["default"]={handleButton:r,handleConfirm:o,handleCancel:a},t.exports=n["default"]},{"./handle-dom":25,"./handle-swal-dom":27,"./utils":30}],25:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var s=function(e,t){return new RegExp(" "+t+" ").test(" "+e.className+" ")},i=function(e,t){s(e,t)||(e.className+=" "+t)},r=function(e,t){var n=" "+e.className.replace(/[\t\r\n]/g," ")+" ";if(s(e,t)){for(;n.indexOf(" "+t+" ")>=0;)n=n.replace(" "+t+" "," ");e.className=n.replace(/^\s+|\s+$/g,"")}},o=function(e){var t=document.createElement("div");return t.appendChild(document.createTextNode(e)),t.innerHTML},a=function(e){e.style.opacity="",e.style.display="block"},l=function(e){if(e&&!e.length)return a(e);for(var t=0;t<e.length;++t)a(e[t])},c=function(e){e.style.opacity="",e.style.display="none"},d=function(e){if(e&&!e.length)return c(e);for(var t=0;t<e.length;++t)c(e[t])},u=function(e,t){for(var n=t.parentNode;null!==n;){if(n===e)return!0;n=n.parentNode}return!1},f=function(e){e.style.left="-9999px",e.style.display="block";var t,n=e.clientHeight;return t="undefined"!=typeof getComputedStyle?parseInt(getComputedStyle(e).getPropertyValue("padding-top"),10):parseInt(e.currentStyle.padding),e.style.left="",e.style.display="none","-"+parseInt((n+t)/2)+"px"},p=function(e,t){if(+e.style.opacity<1){t=t||16,e.style.opacity=0,e.style.display="block";var n=+new Date,s=function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){e.style.opacity=+e.style.opacity+(new Date-n)/100,n=+new Date,+e.style.opacity<1&&setTimeout(s,t)});s()}e.style.display="block"},h=function(e,t){t=t||16,e.style.opacity=1;var n=+new Date,s=function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){e.style.opacity=+e.style.opacity-(new Date-n)/100,n=+new Date,+e.style.opacity>0?setTimeout(s,t):e.style.display="none"});s()},m=function(e){if("function"==typeof MouseEvent){var t=new MouseEvent("click",{view:window,bubbles:!1,cancelable:!0});e.dispatchEvent(t)}else if(document.createEvent){var n=document.createEvent("MouseEvents");n.initEvent("click",!1,!1),e.dispatchEvent(n)}else document.createEventObject?e.fireEvent("onclick"):"function"==typeof e.onclick&&e.onclick()},v=function(e){"function"==typeof e.stopPropagation?(e.stopPropagation(),e.preventDefault()):window.event&&window.event.hasOwnProperty("cancelBubble")&&(window.event.cancelBubble=!0)};n.hasClass=s,n.addClass=i,n.removeClass=r,n.escapeHtml=o,n._show=a,n.show=l,n._hide=c,n.hide=d,n.isDescendant=u,n.getTopMargin=f,n.fadeIn=p,n.fadeOut=h,n.fireClick=m,n.stopEventPropagation=v},{}],26:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var s=e("./handle-dom"),i=e("./handle-swal-dom"),r=function(e,t,n){var r=e||window.event,o=r.keyCode||r.which,a=n.querySelector("button.confirm"),l=n.querySelector("button.cancel"),c=n.querySelectorAll("button[tabindex]");if(-1!==[9,13,32,27].indexOf(o)){for(var d=r.target||r.srcElement,u=-1,f=0;f<c.length;f++)if(d===c[f]){u=f;break}9===o?(d=-1===u?a:u===c.length-1?c[0]:c[u+1],s.stopEventPropagation(r),d.focus(),t.confirmButtonColor&&i.setFocusStyle(d,t.confirmButtonColor)):13===o?("INPUT"===d.tagName&&(d=a,a.focus()),d=-1===u?a:void 0):27===o&&t.allowEscapeKey===!0?(d=l,s.fireClick(d,r)):d=void 0}};n["default"]=r,t.exports=n["default"]},{"./handle-dom":25,"./handle-swal-dom":27}],27:[function(e,t,n){"use strict";var s=function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(n,"__esModule",{value:!0});var i=e("./utils"),r=e("./handle-dom"),o=e("./default-params"),a=s(o),l=e("./injected-html"),c=s(l),d=".sweet-alert",u=".sweet-overlay",f=function(){var e=document.createElement("div");for(e.innerHTML=c["default"];e.firstChild;)document.body.appendChild(e.firstChild)},p=function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){var e=document.querySelector(d);return e||(f(),e=p()),e}),h=function(){var e=p();return e?e.querySelector("input"):void 0},m=function(){return document.querySelector(u)},v=function(e,t){var n=i.hexToRgb(t);e.style.boxShadow="0 0 2px rgba("+n+", 0.8), inset 0 0 0 1px rgba(0, 0, 0, 0.05)"},g=function(e){var t=p();r.fadeIn(m(),10),r.show(t),r.addClass(t,"showSweetAlert"),r.removeClass(t,"hideSweetAlert"),window.previousActiveElement=document.activeElement;var n=t.querySelector("button.confirm");n.focus(),setTimeout(function(){r.addClass(t,"visible")},500);var s=t.getAttribute("data-timer");if("null"!==s&&""!==s){var i=e;t.timeout=setTimeout(function(){var e=(i||null)&&"true"===t.getAttribute("data-has-done-function");e?i(null):sweetAlert.close()},s)}},b=function(){var e=p(),t=h();r.removeClass(e,"show-input"),t.value=a["default"].inputValue,t.setAttribute("type",a["default"].inputType),t.setAttribute("placeholder",a["default"].inputPlaceholder),y()},y=function(e){if(e&&13===e.keyCode)return!1;var t=p(),n=t.querySelector(".sa-input-error");r.removeClass(n,"show");var s=t.querySelector(".sa-error-container");r.removeClass(s,"show")},_=function(){var e=p();e.style.marginTop=r.getTopMargin(p())};n.sweetAlertInitialize=f,n.getModal=p,n.getOverlay=m,n.getInput=h,n.setFocusStyle=v,n.openModal=g,n.resetInput=b,n.resetInputError=y,n.fixVerticalPosition=_},{"./default-params":23,"./handle-dom":25,"./injected-html":28,"./utils":30}],28:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var s='<div class="sweet-overlay" tabIndex="-1"></div><div class="sweet-alert"><div class="sa-icon sa-error">\n      <span class="sa-x-mark">\n        <span class="sa-line sa-left"></span>\n        <span class="sa-line sa-right"></span>\n      </span>\n    </div><div class="sa-icon sa-warning">\n      <span class="sa-body"></span>\n      <span class="sa-dot"></span>\n    </div><div class="sa-icon sa-info"></div><div class="sa-icon sa-success">\n      <span class="sa-line sa-tip"></span>\n      <span class="sa-line sa-long"></span>\n\n      <div class="sa-placeholder"></div>\n      <div class="sa-fix"></div>\n    </div><div class="sa-icon sa-custom"></div><h2>Title</h2>\n    <p>Text</p>\n    <fieldset>\n      <input type="text" tabIndex="3" />\n      <div class="sa-input-error"></div>\n    </fieldset><div class="sa-error-container">\n      <div class="icon">!</div>\n      <p>Not valid!</p>\n    </div><div class="sa-button-container">\n      <button class="cancel" tabIndex="2">Cancel</button>\n      <div class="sa-confirm-button-container">\n        <button class="confirm" tabIndex="1">OK</button><div class="la-ball-fall">\n          <div></div>\n          <div></div>\n          <div></div>\n        </div>\n      </div>\n    </div></div>';n["default"]=s,t.exports=n["default"]},{}],29:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var s=e("./utils"),i=e("./handle-swal-dom"),r=e("./handle-dom"),o=["error","warning","info","success","input","prompt"],a=function(e){var t=i.getModal(),n=t.querySelector("h2"),a=t.querySelector("p"),l=t.querySelector("button.cancel"),c=t.querySelector("button.confirm");if(n.innerHTML=e.html?e.title:r.escapeHtml(e.title).split("\n").join("<br>"),a.innerHTML=e.html?e.text:r.escapeHtml(e.text||"").split("\n").join("<br>"),e.text&&r.show(a),e.customClass)r.addClass(t,e.customClass),t.setAttribute("data-custom-class",e.customClass);else{var d=t.getAttribute("data-custom-class");r.removeClass(t,d),t.setAttribute("data-custom-class","")}if(r.hide(t.querySelectorAll(".sa-icon")),e.type&&!s.isIE8()){var u=function(){for(var n=!1,s=0;s<o.length;s++)if(e.type===o[s]){n=!0;break}if(!n)return logStr("Unknown alert type: "+e.type),{v:!1};var a=["success","error","warning","info"],l=void 0;-1!==a.indexOf(e.type)&&(l=t.querySelector(".sa-icon.sa-"+e.type),r.show(l));var c=i.getInput();switch(e.type){case"success":r.addClass(l,"animate"),r.addClass(l.querySelector(".sa-tip"),"animateSuccessTip"),r.addClass(l.querySelector(".sa-long"),"animateSuccessLong");break;case"error":r.addClass(l,"animateErrorIcon"),r.addClass(l.querySelector(".sa-x-mark"),"animateXMark");break;case"warning":r.addClass(l,"pulseWarning"),r.addClass(l.querySelector(".sa-body"),"pulseWarningIns"),r.addClass(l.querySelector(".sa-dot"),"pulseWarningIns");break;case"input":case"prompt":c.setAttribute("type",e.inputType),c.value=e.inputValue,c.setAttribute("placeholder",e.inputPlaceholder),r.addClass(t,"show-input"),setTimeout(function(){c.focus(),c.addEventListener("keyup",swal.resetInputError)},400)}}();if("object"==typeof u)return u.v}if(e.imageUrl){var f=t.querySelector(".sa-icon.sa-custom");f.style.backgroundImage="url("+e.imageUrl+")",r.show(f);var p=80,h=80;if(e.imageSize){var m=e.imageSize.toString().split("x"),v=m[0],g=m[1];v&&g?(p=v,h=g):logStr("Parameter imageSize expects value with format WIDTHxHEIGHT, got "+e.imageSize)}f.setAttribute("style",f.getAttribute("style")+"width:"+p+"px; height:"+h+"px")}t.setAttribute("data-has-cancel-button",e.showCancelButton),e.showCancelButton?l.style.display="inline-block":r.hide(l),t.setAttribute("data-has-confirm-button",e.showConfirmButton),e.showConfirmButton?c.style.display="inline-block":r.hide(c),e.cancelButtonText&&(l.innerHTML=r.escapeHtml(e.cancelButtonText)),e.confirmButtonText&&(c.innerHTML=r.escapeHtml(e.confirmButtonText)),e.confirmButtonColor&&(c.style.backgroundColor=e.confirmButtonColor,c.style.borderLeftColor=e.confirmLoadingButtonColor,c.style.borderRightColor=e.confirmLoadingButtonColor,i.setFocusStyle(c,e.confirmButtonColor)),t.setAttribute("data-allow-outside-click",e.allowOutsideClick);var b=e.doneFunction?!0:!1;t.setAttribute("data-has-done-function",b),e.animation?"string"==typeof e.animation?t.setAttribute("data-animation",e.animation):t.setAttribute("data-animation","pop"):t.setAttribute("data-animation","none"),t.setAttribute("data-timer",e.timer)};n["default"]=a,t.exports=n["default"]},{"./handle-dom":25,"./handle-swal-dom":27,"./utils":30}],30:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var s=function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},i=function(e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?parseInt(t[1],16)+", "+parseInt(t[2],16)+", "+parseInt(t[3],16):null},r=function(){return window.attachEvent&&!window.addEventListener},o=function(e){window.console&&window.console.log("SweetAlert: "+e)},a=function(e,t){e=String(e).replace(/[^0-9a-f]/gi,""),e.length<6&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),t=t||0;var n,s,i="#";for(s=0;3>s;s++)n=parseInt(e.substr(2*s,2),16),n=Math.round(Math.min(Math.max(0,n+n*t),255)).toString(16),i+=("00"+n).substr(n.length);return i};n.extend=s,n.hexToRgb=i,n.isIE8=r,n.logStr=o,n.colorLuminance=a},{}],31:[function(e,t,n){"use strict";var s=function(e){return e&&e.__esModule?e:{"default":e}};Object.defineProperty(n,"__esModule",{value:!0});var i,r,o,a,l=e("./modules/handle-dom"),c=e("./modules/utils"),d=e("./modules/handle-swal-dom"),u=e("./modules/handle-click"),f=e("./modules/handle-key"),p=s(f),h=e("./modules/default-params"),m=s(h),v=e("./modules/set-params"),g=s(v);n["default"]=o=a=function(){function e(e){var n=t;return void 0===n[e]?m["default"][e]:n[e]}var t=arguments[0];if(l.addClass(document.body,"stop-scrolling"),d.resetInput(),void 0===t)return c.logStr("SweetAlert expects at least 1 attribute!"),!1;var n=c.extend({},m["default"]);switch(typeof t){case"string":n.title=t,n.text=arguments[1]||"",n.type=arguments[2]||"";break;case"object":if(void 0===t.title)return c.logStr('Missing "title" argument!'),!1;n.title=t.title;for(var s in m["default"])n[s]=e(s);n.confirmButtonText=n.showCancelButton?"Confirm":m["default"].confirmButtonText,n.confirmButtonText=e("confirmButtonText"),n.doneFunction=arguments[1]||null;break;default:return c.logStr('Unexpected type of argument! Expected "string" or "object", got '+typeof t),!1}g["default"](n),d.fixVerticalPosition(),d.openModal(arguments[1]);for(var o=d.getModal(),f=o.querySelectorAll("button"),h=["onclick","onmouseover","onmouseout","onmousedown","onmouseup","onfocus"],v=function(e){return u.handleButton(e,n,o)},b=0;b<f.length;b++)for(var y=0;y<h.length;y++){var _=h[y];f[b][_]=v}d.getOverlay().onclick=v,i=window.onkeydown;var w=function(e){return p["default"](e,n,o)};window.onkeydown=w,window.onfocus=function(){setTimeout(function(){void 0!==r&&(r.focus(),r=void 0)},0)},a.enableButtons()},o.setDefaults=a.setDefaults=function(e){if(!e)throw new Error("userParams is required");if("object"!=typeof e)throw new Error("userParams has to be a object");c.extend(m["default"],e)},o.close=a.close=function(){var e=d.getModal();l.fadeOut(d.getOverlay(),5),l.fadeOut(e,5),l.removeClass(e,"showSweetAlert"),l.addClass(e,"hideSweetAlert"),l.removeClass(e,"visible");var t=e.querySelector(".sa-icon.sa-success");l.removeClass(t,"animate"),l.removeClass(t.querySelector(".sa-tip"),"animateSuccessTip"),l.removeClass(t.querySelector(".sa-long"),"animateSuccessLong");var n=e.querySelector(".sa-icon.sa-error");l.removeClass(n,"animateErrorIcon"),l.removeClass(n.querySelector(".sa-x-mark"),"animateXMark");var s=e.querySelector(".sa-icon.sa-warning");return l.removeClass(s,"pulseWarning"),l.removeClass(s.querySelector(".sa-body"),"pulseWarningIns"),l.removeClass(s.querySelector(".sa-dot"),"pulseWarningIns"),setTimeout(function(){var t=e.getAttribute("data-custom-class");l.removeClass(e,t)},300),l.removeClass(document.body,"stop-scrolling"),window.onkeydown=i,window.previousActiveElement&&window.previousActiveElement.focus(),r=void 0,clearTimeout(e.timeout),!0},o.showInputError=a.showInputError=function(e){var t=d.getModal(),n=t.querySelector(".sa-input-error");l.addClass(n,"show");var s=t.querySelector(".sa-error-container");l.addClass(s,"show"),s.querySelector("p").innerHTML=e,setTimeout(function(){o.enableButtons()},1),t.querySelector("input").focus()},o.resetInputError=a.resetInputError=function(e){if(e&&13===e.keyCode)return!1;var t=d.getModal(),n=t.querySelector(".sa-input-error");l.removeClass(n,"show");var s=t.querySelector(".sa-error-container");l.removeClass(s,"show")},o.disableButtons=a.disableButtons=function(){var e=d.getModal(),t=e.querySelector("button.confirm"),n=e.querySelector("button.cancel");t.disabled=!0,n.disabled=!0},o.enableButtons=a.enableButtons=function(){var e=d.getModal(),t=e.querySelector("button.confirm"),n=e.querySelector("button.cancel");t.disabled=!1,n.disabled=!1},"undefined"!=typeof window?window.sweetAlert=window.swal=o:c.logStr("SweetAlert is a frontend module!"),t.exports=n["default"]},{"./modules/default-params":23,"./modules/handle-click":24,"./modules/handle-dom":25,"./modules/handle-key":26,"./modules/handle-swal-dom":27,"./modules/set-params":29,"./modules/utils":30}],32:[function(e,t){(function(){function e(e,t){var n,s;for(n in t)s=t[n],void 0!==s&&(e[n]=s);return e}var n=function(){},s=function(t,s){var i;return i=s&&s.hasOwnProperty("constructor")?s.constructor:function(){return t.apply(this,arguments)},n.prototype=t.prototype,i.prototype=new n,s&&e(i.prototype,s),i.prototype.constructor=i,i.__super__=t.prototype,i},i={version:"0.1.15"};i.Stack=function(){this.commands=[],this.stackPosition=-1,this.savePosition=-1},e(i.Stack.prototype,{execute:function(e){this._clearRedo(),e.execute(),this.commands.push(e),this.stackPosition++,this.changed()},undo:function(){this.commands[this.stackPosition].undo(),this.stackPosition--,this.changed()},canUndo:function(){return this.stackPosition>=0},redo:function(){this.stackPosition++,this.commands[this.stackPosition].redo(),this.changed()},canRedo:function(){return this.stackPosition<this.commands.length-1},save:function(){this.savePosition=this.stackPosition,this.changed()},dirty:function(){return this.stackPosition!=this.savePosition},_clearRedo:function(){this.commands=this.commands.slice(0,this.stackPosition+1)},changed:function(){}}),i.Command=function(e){this.name=e};var r=new Error("override me!");e(i.Command.prototype,{execute:function(){throw r},undo:function(){throw r},redo:function(){this.execute()}}),i.Command.extend=function(e){var t=s(this,e);return t.extend=i.Command.extend,t},"function"==typeof define&&define.amd?define(i):"undefined"!=typeof t&&t.exports?t.exports=i:this.Undo=i}).call(this)},{}],33:[function(e,t){var n,s,i,r,o,a,l;l=e("../helper/setCaret.coffee"),n=e("../helper/selector.coffee").$,s=n(".js-editable"),i=n(".js-toolbar"),r=n(".js-tooltip-link"),o=function(e,t){var n,s,i,r,o,a;return n=document.body.getBoundingClientRect(),r=t.getBoundingClientRect(),i=r.left-n.left,o=r.top-n.top,a=r.width/2,s=r.height,e.innerHTML=""+t.href,e.style.display="block",e.style.top=o+s+"px",e.style.left=i+a+"px",e.style.marginLeft="-"+e.offsetWidth/2+"px"},a=function(e){return e.style.display="none"},t.exports=function(e){var t,n,s,i,c,d,u,f,p,h;if(h=window.getSelection(),c=h.anchorNode,32===e.which){if(u=/https?:\/\/([\da-z\.-]+)\.([a-z\.]{2,6})([\/\w \.-]*)*\/?/g,"A"===c.parentNode)return n=c.splitText(h.anchorOffset);if(u.test(c.textContent))return e.preventDefault(),f=c.textContent.match(u)[0],s=document.createElement("A"),d=c.textContent.indexOf(f),t=c.splitText(d+f.length),n=c.splitText(d),s.innerHTML=f,s.href=f,c.parentNode.replaceChild(s,n),i=document.createTextNode("Â "),""===(null!=(p=s.nextSibling)?p.nodeValue:void 0)?s.parentNode.appendChild(i):s.parentNode.insertBefore(i,s.nextSibling),s.addEventListener("mouseover",function(){return o(r,this)}),s.addEventListener("mouseleave",function(){return a(r)}),l(i,1)}}},{"../helper/selector.coffee":17,"../helper/setCaret.coffee":18}],34:[function(e,t){var n,s,i;i=e("../helper/setCaret.coffee"),n=e("../helper/selector.coffee").$,s="",t.exports=function(){var e,t,n,r,o,a;return o=window.getSelection(),e=o.anchorNode,t=o.anchorOffset,a=e.textContent,n=/^(B|I|STRONG|EM|A|SPAN)$/,r=function(r,o){var l,c,d,u,f,p,h,m,v,g,b,y,_,w,L,C,x,N,j;if(n.test(e.parentNode)&&(e=e.parentNode,n.test(e.parentNode)&&(e=e.parentNode,n.test(e.parentNode)&&(e=e.parentNode,n.test(e.parentNode)&&(e=e.parentNode)))),"PRE"===(null!=(v=e.parentNode)?v.nodeName:void 0));else if(r.test(a)){if(j=document.createElement("DIV"),"sups"===o){if(N=a.match(r)[0],m="+-=()0123456789AaÃ†á´‚ÉÉ‘É’BbcÉ•DdÃ°EeÆŽÉ™É›ÉœÉœfGgÉ¡É£hHÉ¦IiÉªÉ¨áµ»É©jJÊÉŸKklLÊŸá¶…É­MmÉ±NnÉ´É²É³Å‹OoÉ”á´–á´—ÉµÈ¢PpÉ¸rRÉ¹É»ÊsÊ‚ÊƒTtÆ«Uuá´œá´Ê‰É¥É¯É°ÊŠvVÊ‹ÊŒwWxyzÊÊ‘Ê’ê¯á´¥Î²Î³Î´Î¸Ï†Ï‡Ð½áƒœÊ•âµ¡",x="âºâ»â¼â½â¾â°Â¹Â²Â³â´âµâ¶â·â¸â¹á´¬áµƒá´­áµ†áµ„áµ…á¶›á´®áµ‡á¶œá¶á´°áµˆá¶žá´±áµ‰á´²áµŠáµ‹á¶ŸáµŒá¶ á´³áµá¶¢Ë Ê°á´´Ê±á´µâ±á¶¦á¶¤á¶§á¶¥Ê²á´¶á¶¨á¶¡á´·áµË¡á´¸á¶«á¶ªá¶©á´¹áµá¶¬á´ºâ¿á¶°á¶®á¶¯áµ‘á´¼áµ’áµ“áµ”áµ•á¶±á´½á´¾áµ–á¶²Ê³á´¿Ê´ÊµÊ¶Ë¢á¶³á¶´áµ€áµ—á¶µáµáµ˜á¶¸áµ™á¶¶á¶£áµšá¶­á¶·áµ›â±½á¶¹á¶ºÊ·áµ‚Ë£Ê¸á¶»á¶¼á¶½á¶¾ê°áµœáµáµžáµŸá¶¿áµ áµ¡áµ¸áƒ¼Ë¤âµ¯",s===N){for(g=N.split("^"),_=g[0],C=g[1],h="",c=0,u=C.length;u>c;c++)y=C[c],h+=x[m.indexOf(y)];j.innerHTML=a.replace(r,_+h+"&#8202;&#8202;"),l=j.firstChild,e.parentNode.replaceChild(l,e),i(l,t)}return s=N}if("subs"===o){if(N=a.match(r)[0],m="+-=()0123456789aeÉ™hijklmnoprstuvxÎ²Î³ÏÏ†Ï‡",L="â‚Šâ‚‹â‚Œâ‚â‚Žâ‚€â‚â‚‚â‚ƒâ‚„â‚…â‚†â‚‡â‚ˆâ‚‰â‚â‚‘â‚”â‚•áµ¢â±¼â‚–â‚—â‚˜â‚™â‚’â‚šáµ£â‚›â‚œáµ¤áµ¥â‚“áµ¦áµ§áµ¨áµ©áµª",s===N){for(b=N.split("~"),_=b[0],w=b[1],p="",d=0,f=w.length;f>d;d++)y=w[d],p+=L[m.indexOf(y)];j.innerHTML=a.replace(r,_+p+"&#8202;&#8202;"),l=j.firstChild,e.parentNode.replaceChild(l,e),i(l,t)}return s=N}return a=a.replace(r,o),j.innerHTML=a,l=j.firstChild,e.parentNode.replaceChild(l,e),i(l,t)}},r(/\.\.\./g,"&#8202;&hellip;&#8202;"),r(/\-\-/g,"&#8202;&mdash;&#8202;"),r(/1\/2/g,"&#8202;&#8202;&frac12;"),r(/1\/4/g,"&#8202;&#8202;&frac14;"),r(/3\/4/g,"&#8202;&#8202;&frac34;"),r(/(\d|Â½|Â¼|Â¾)"/g,"$1&Prime;"),r(/(\d|Â½|Â¼|Â¾)'/g,"$1&prime;"),r(/(\d+)-(\d+)/g,"$1&ndash;$2"),r(/(\w+)\^([0123456789AaÃ†á´‚ÉÉ‘É’BbcÉ•DdÃ°EeÆŽÉ™É›ÉœÉœfGgÉ¡É£hHÉ¦IiÉªÉ¨áµ»É©jJÊÉŸKklLÊŸá¶…É­MmÉ±NnÉ´É²É³Å‹OoÉ”á´–á´—ÉµÈ¢PpÉ¸rRÉ¹É»ÊsÊ‚ÊƒTtÆ«Uuá´œá´Ê‰É¥É¯É°ÊŠvVÊ‹ÊŒwWxyzÊÊ‘Ê’ê¯á´¥Î²Î³Î´Î¸Ï†Ï‡Ð½áƒœÊ•âµ¡+=()-]+)/g,"sups"),r(/(\w+)\~([0123456789aeÉ™hijklmnoprstuvxÎ²Î³ÏÏ†Ï‡+=()-]+)/g,"subs"),r(/"(\w)/g,"&ldquo;$1"),r(/(\S)"/g,"$1&rdquo;"),r(/'(\w)/g,"&lsquo;$1"),r(/(\S)'/g,"$1&rsquo;"),r(/(\w)â€˜(\w)/g,"$1&rsquo;$2")}},{"../helper/selector.coffee":17,"../helper/setCaret.coffee":18}],35:[function(e,t){var n,s,i,r;r=e("../helper/setCaret.coffee"),n=e("../helper/selector.coffee").$,s=n(".js-editable"),i=n(".js-toolbar"),t.exports=function(){var e,t,n,s,i,r,o;return i=window.getSelection(),t=i.anchorNode,n=i.anchorOffset,null!==t?(e=t.parentNode,r=t.textContent,o=t.parentNode.innerHTML,s=/^(B|I|STRONG|EM|A|SPAN)$/,s.test(e.nodeName)&&(e=e.parentNode,s.test(e.nodeName)&&(e=e.parentNode,s.test(e.nodeName)&&(e=e.parentNode,s.test(e.nodeName)&&(e=e.parentNode)))),/^(P|BLOCKQUOTE|H2|H3)$/.test(e.nodeName)?(/^("|â€œ)$/.test(e.textContent[0])?e.classList.add("is-indent2"):e.classList.remove("is-indent2"),/^('|â€˜)$/.test(e.textContent[0])?e.classList.add("is-indent1"):e.classList.remove("is-indent1")):void 0):void 0
}},{"../helper/selector.coffee":17,"../helper/setCaret.coffee":18}],36:[function(e){var t,n,s,i,r,o,a,l,c,d,u;r=e("../helper/getCaret.coffee"),u=e("../helper/setCaret.coffee"),c=e("../helper/selector.coffee"),t=c.$,n=c.$$,d=e("../helper/elementList.coffee"),l=d.p,o=d.h2,a=d.h3,i=d.blockquote,s=t(".js-editable"),s.addEventListener("drop",function(){return setTimeout(function(){var e,t,s,i,r;for(e=n(".js-editable span"),r=[],s=0,i=e.length;i>s;s++)t=e[s],r.push(t.outerHTML=t.innerHTML);return r},100)}),s.addEventListener("keyup",function(e){var t,n;return 13===e.keyCode&&(n=window.getSelection(),t=n.anchorNode.offsetTop||n.anchorNode.parentNode.offsetTop)?window.scrollTo(0,t+100):void 0}),s.addEventListener("dragstart",function(e){var t,n;(null!=(t=e.target)?null!=(n=t.classList)?n.contains("is-img"):void 0:void 0)&&e.preventDefault()}),s.addEventListener("keydown",function(e){var t,n,i,r;if(r=window.getSelection(),n=r.anchorNode,i=/^(B|I|EM|STRONG|A|SPAN)$/,i.test(n.parentNode.nodeName)&&(n=n.parentNode,i.test(n.parentNode.nodeName)&&(n=n.parentNode,i.test(n.parentNode.nodeName)&&(n=n.parentNode,i.test(n.parentNode.nodeName)&&(n=n.parentNode)))),t=l(),t.innerHTML="<br>","FIGCAPTION"===n.parentNode.nodeName||"FIGCAPTION"===n.nodeName){if(13===e.which)return e.preventDefault();if(r.anchorOffset===n.textContent.length&&46===e.which)return e.preventDefault();if(0===r.anchorOffset&&8===e.which)return e.preventDefault()}else if("LI"===n.nodeName){if(8===e.which&&null==n.nextSibling)return e.preventDefault(),null!=n.parentNode.nextSibling?s.insertBefore(t,n.parentNode.nextSibling):s.appendChild(t),n.parentNode.removeChild(n),u(t,0)}else{if(n.parentNode.classList.contains("is-placeholder"))return n.parentNode.classList.remove("is-placeholder"),n.parentNode.classList.remove("b-graf--placeholder"),n.parentNode.innerHTML="<br>";if(13===e.which&&!e.shiftKey&&r.anchorOffset===n.parentNode.lastChild.textContent.length&&"LI"!==n.parentNode.nodeName)return e.preventDefault(),null!=n.parentNode.nextSibling?s.insertBefore(t,n.parentNode.nextSibling):s.appendChild(t),u(t,0)}}),s.addEventListener("keyup",function(e){var t,i,r,o,a,c,d,f,p,h,m,v,g,b,y,_,w,L,C,x,N,j,k,T;for(i=n(".js-editable span"),h=0,g=i.length;g>h;h++)d=i[h],(null!=(w=d.classList)?w.contains("is-drop-cap"):void 0)?console.log:(null!=(L=d.classList)?L.contains("is-small-caps"):void 0)?console.log:d.outerHTML=d.innerHTML;for(t=n(".js-editable font"),m=0,b=t.length;b>m;m++)o=t[m],o.outerHTML=o.innerHTML;for(r=n(".js-editable *[style]"),v=0,y=r.length;y>v;v++)f=r[v],f.removeAttribute("style");if(T=window.getSelection(),p=T.anchorNode,!e.ctrlKey&&!e.metaKey){if(13===e.which){if(e.shiftKey)return;/^(DIV|P|BLOCKQUOTE|PRE)$/.test(p.nodeName)?(a=l(),a.innerHTML="<br>",s.replaceChild(a,p),u(a,0)):"DIV"===p.parentNode.nodeName?(a=l(),a.innerHTML="<br>",s.replaceChild(a,p.parentNode),u(a,0)):"LI"===p.parentNode.nodeName?p.parentNode.parentNode.lastChild===p.parentNode&&"<br>"===p.parentNode.innerHTML&&(p.parentNode.parentNode.removeChild(p.parentNode),a=l(),a.innerHTML="<br>",s.appendChild(a),u(a,0)):/^(H2|H3|BLOCKQUOTE|PRE)$/.test(p.parentNode.nodeName)&&(c=p.parentNode.previousSibling,""===c.textContent&&(a=l(),a.innerHTML="<br>",s.replaceChild(a,c)))}else{if(/^(H2|H3|BLOCKQUOTE|P|PRE)$/.test(p.nodeName))return;if("DIV"===p.parentNode.nodeName&&p!==s)return a=l(),a.innerHTML="<br>",s.replaceChild(a,p),u(a,0),void 0}return _={paragraph:"content&hellip;"},a="<p class='b-graf b-graf--placeholder is-placeholder'>"+_.paragraph+"<br></p>",""===s.textContent?(s.innerHTML=a,u(s.firstChild,0)):(null!=(C=s.firstChild)?null!=(x=C.classList)?x.contains("is-placeholder"):void 0:void 0)||("#text"===s.firstChild.nodeName&&1===s.childNodes.length?(s.innerHTML=a,u(s.firstChild,0)):""===s.firstChild.innerHTML?(s.firstChild.innerHTML=a,u(s.firstChild,0)):"<p></p>"===s.firstChild.innerHTML?(s.firstChild.innerHTML="<br>",u(s.firstChild,0)):"DIV"===s.firstChild.nodeName&&(s.firstChild.innerHTML=a,u(s.firstChild,0))),"#text"===(null!=(N=s.childNodes[s.childNodes.length-3])?N.nodeName:void 0)&&s.removeChild(s.childNodes[s.childNodes.length-3]),"#text"===(null!=(j=s.childNodes[s.childNodes.length-2])?j.nodeName:void 0)&&s.removeChild(s.childNodes[s.childNodes.length-2]),"#text"===(null!=(k=s.childNodes[s.childNodes.length-1])?k.nodeName:void 0)?s.removeChild(s.childNodes[s.childNodes.length-1]):void 0}})},{"../helper/elementList.coffee":15,"../helper/getCaret.coffee":16,"../helper/selector.coffee":17,"../helper/setCaret.coffee":18}],37:[function(e){var t,n,s,i,r,o,a,l,c,d,u,f,p,h,m,v,g,b,y;l=e("../helper/getCaret.coffee"),b=e("../helper/setCaret.coffee"),v=e("../helper/selector.coffee"),t=v.$,n=v.$$,g=e("../helper/elementList.coffee"),h=g.p,c=g.h2,d=g.h3,i=g.blockquote1,r=g.blockquote2,a=g.code,y=g.ul,p=g.ol,f=g.hr,s=t(".js-editable"),u=e("./hangingPunc.coffee"),o=e("./charTransform.coffee"),m=function(e){var t;return e||(e=""),t=e.replace(/</g,"&lt;").replace(/"(\w)/g,"&ldquo;$1").replace(/(\S)"/g,"$1&rdquo;").replace(/'(\w)/g,"&lsquo;$1").replace(/(\S)'/g,"$1&rsquo;")},s.addEventListener("paste",function(e){var t,n,o,l,u,v,g,_,w,L,C,x,N,j,k,T,S,E,A,O,R,M,H;if(e.preventDefault(),O=window.getSelection(),w=O.anchorNode,t=w.parentNode,L=/^(B|I|STRONG|EM|A)$/,L.test(t.nodeName)&&(t=t.parentNode,L.test(t.nodeName)&&(t=t.parentNode,L.test(t.nodeName)&&(t=t.parentNode))),C=e.clipboardData.getData("text/html"),N=!0,g="",""===C&&(S=e.clipboardData.getData("text/plain"),C=S,N=!1,g=m(C)),o=document.createElement("DIV"),o.innerHTML=C,N)for(E=o.childNodes,x=0,k=E.length;k>x;x++)if(n=E[x],/^(H1|H2|H3|H4|H5|H6)$/.test(n.nodeName))v=/^(H1|H2)$/.test(n.nodeName)?c():/^(H3|H4)$/.test(n.nodeName)?d():i(),/^("|â€œ)$/.test(n.textContent[0])?v.classList.add("is-indent2"):v.classList.remove("is-indent2"),/^('|â€˜)$/.test(n.textContent[0])?v.classList.add("is-indent1"):v.classList.remove("is-indent1"),H=m(n.textContent),v.innerHTML=H,M=document.createElement("DIV"),M.appendChild(v),g+=M.innerHTML;else if(/^(P|BLOCKQUOTE|PRE|UL|OL)$/.test(n.nodeName)){for("P"===n.nodeName?l=h():"BLOCKQUOTE"===n.nodeName?l=r():"PRE"===n.nodeName?l=a():"UL"===n.nodeName?l=y():"OL"===n.nodeName&&(l=p()),/^("|â€œ)$/.test(n.textContent[0])?l.classList.add("is-indent2"):l.classList.remove("is-indent2"),/^('|â€˜)$/.test(n.textContent[0])?l.classList.add("is-indent1"):l.classList.remove("is-indent1"),M=document.createElement("DIV"),A=n.childNodes,j=0,T=A.length;T>j;j++)u=A[j],H=m(u.textContent),/^(B|STRONG|EM|I|A|LI)$/.test(u.nodeName)?(R=u.nodeName.toLowerCase(),l.innerHTML+="A"===u.nodeName?"<"+R+" href="+u.href+">"+H+"</"+R+">":"<"+R+">"+H+"</"+R+">"):l.innerHTML+="BR"===u.nodeName?"<br>":""+H;M.appendChild(l),g+=M.innerHTML}else"HR"===n.nodeName?(l=f(),M=document.createElement("DIV"),M.appendChild(l),g+=M.innerHTML):/^(#text|#comment)$/.test(n.nodeName)||(M=document.createElement("DIV"),H=m(n.textContent),/^(B|STRONG|EM|I|A|LI)$/.test(n.nodeName)?(R=n.nodeName.toLowerCase(),M.innerHTML+="A"===n.nodeName?"<"+R+" href="+n.href+">"+H+"</"+R+">":"<"+R+">"+H+"</"+R+">"):M.innerHTML+=""+H,g+=M.innerHTML);return O.deleteFromDocument(),N&&(_=h(),_.innerHTML="<br>",""===s.textContent?s.appendChild(_):t===s.lastChild?s.appendChild(_):t.parentNode===s&&null!=t.nextSibling?s.insertBefore(_,t.nextSibling):t===s&&(t=w,s.insertBefore(_,w.nextSibling)),b(_,0)),document.execCommand("insertHTML",!1,g)})},{"../helper/elementList.coffee":15,"../helper/getCaret.coffee":16,"../helper/selector.coffee":17,"../helper/setCaret.coffee":18,"./charTransform.coffee":34,"./hangingPunc.coffee":35}],38:[function(e,t){var n,s,i,r,o,a;n=e("undo.js"),o=new n.Stack,i=e("../helper/setCaret.coffee"),r=e("../helper/setSelection.coffee"),a=e("../domParse.coffee").toDom,s=n.Command.extend({constructor:function(e,t,n){return this.editable=e,this.oldValue=t,this.newValue=n},execute:function(){},undo:function(){return a(JSON.parse(this.oldValue)),this.editable.blur()},redo:function(){return a(JSON.parse(this.newValue)),this.editable.blur()}}),t.exports={stack:o,editCommand:s}},{"../domParse.coffee":14,"../helper/setCaret.coffee":18,"../helper/setSelection.coffee":19,"undo.js":32}],39:[function(e){var t,n,s,i,r,o,a,l,c,d,u,f,p,h;for(c=e("./hangingPunc.coffee"),f=e("../helper/selector.coffee"),t=f.$,n=f.$$,i=t(".js-editable"),a=t(".js-toolbar"),o=t(".js-title-input"),r=n(".is-img"),o.addEventListener("focus",function(){var e,s,i,r;for(r=n(".js-toolbar button"),s=0,i=r.length;i>s;s++)e=r[s],e.classList.add("is-disabled");return t(".js-center").classList.remove("is-disabled"),t(".js-help").classList.remove("is-disabled")}),i.addEventListener("blur",function(){var e,s,r,o,a;if(s=window.getSelection().anchorNode,i.contains(s)){for(a=n(".js-toolbar button"),r=0,o=a.length;o>r;r++)e=a[r],e.classList.add("is-disabled"),e.classList.remove("is-active");return t(".js-help").classList.remove("is-disabled")}}),l=function(e,t,n){var s,i,r,o,a;for(i=t.split(" "),a=[],r=0,o=i.length;o>r;r++)s=i[r],a.push(e.addEventListener(s,n,!1));return a},i.addEventListener("blur",function(){var e,t,s,i,r;for(i=n(".js-toolbar button"),r=[],t=0,s=i.length;s>t;t++)e=i[t],e.classList.remove("is-active"),r.push(e.classList.add("is-disabled"));return r}),i.addEventListener("focus",function(){var e,t,s,i,r;for(i=n(".js-toolbar button"),r=[],t=0,s=i.length;s>t;t++)e=i[t],r.push(e.classList.remove("is-disabled"));return r}),p=n(".is-disabled"),d=0,u=p.length;u>d;d++)s=p[d],s.addEventListener("click",function(e){return e.preventDefault()});a.addEventListener("click",function(e){return c(),h(e)}),l(i,"keyup click",function(e){return h(e)}),h=function(e){var s,i,r,o,a,l,c,d,u,f,p,h,m,v,g,b,y,_,w,L,C,x,N;if("click"===e.type&&(a=e.target,a.classList.contains("is-img"))){for(v=n(".js-tooltip-image button"),u=0,p=v.length;p>u;u++)i=v[u],i.classList.remove("is-active");a.parentNode.classList.contains("b-figure--left")?t(".js-img-left").classList.add("is-active"):a.parentNode.classList.contains("b-figure--right")?t(".js-img-right").classList.add("is-active"):a.parentNode.classList.contains("b-figure--center")?t(".js-img-center").classList.add("is-active"):a.parentNode.classList.contains("b-figure--full")&&t(".js-img-full").classList.add("is-active"),a.classList.contains("is-link")&&t(".js-img-link").classList.add("is-active")}if(C=window.getSelection(),m=document.createRange(),l=C.anchorNode,d=C.focusNode,null!==l)return s=l.parentNode,o=d.parentNode,c=/^(B|I|STRONG|EM|A|SPAN)$/,N=function(e,n){return e.test(s.nodeName||e.test(l.nodeName))?t(n).classList.add("is-active"):e.test(s.parentNode.nodeName)?t(n).classList.add("is-active"):e.test(s.parentNode.parentNode.nodeName)?t(n).classList.add("is-active"):t(n).classList.remove("is-active")},N(/^(B|STRONG)$/,".js-bold"),N(/^(EM|I)$/,".js-italic"),N(/^(A)$/,".js-link"),c.test(s.nodeName)&&(s=s.parentNode,c.test(s.nodeName)&&(s=s.parentNode,c.test(s.nodeName)&&(s=s.parentNode,c.test(s.nodeName)&&(s=s.parentNode)))),c.test(o.nodeName)&&(o=o.parentNode,c.test(o.nodeName)&&(o=o.parentNode,c.test(o.nodeName)&&(o=o.parentNode,c.test(o.nodeName)&&(o=o.parentNode)))),x=function(e,n){return s.nodeName===e||l.nodeName===e?t(n).classList.add("is-active"):t(n).classList.remove("is-active")},x("H2",".js-heading1"),x("H3",".js-heading2"),x("PRE",".js-code"),s.classList.contains("is-center")?t(".js-center").classList.add("is-active"):t(".js-center").classList.remove("is-active"),(null!=(b=s.firstChild.classList)?b.contains("is-drop-cap"):void 0)?t(".js-drop-cap").classList.add("is-active"):t(".js-drop-cap").classList.remove("is-active"),"BLOCKQUOTE"===s.nodeName||"BLOCKQUOTE"===l.nodeName?s.classList.contains("is-second")?(t(".js-quote1").classList.add("is-active"),t(".js-quote2").classList.remove("is-active")):(t(".js-quote2").classList.add("is-active"),t(".js-quote1").classList.remove("is-active")):(t(".js-quote1").classList.remove("is-active"),t(".js-quote2").classList.remove("is-active")),"LI"===s.nodeName?"HR"===(null!=(y=s.parentNode)?null!=(_=y.nextSibling)?_.nodeName:void 0:void 0)?t(".js-hr").classList.add("is-active"):t(".js-hr").classList.remove("is-active"):"HR"===(null!=(w=s.nextSibling)?w.nodeName:void 0)?t(".js-hr").classList.add("is-active"):t(".js-hr").classList.remove("is-active"),"LI"===s.nodeName?(t(".js-heading1").classList.add("is-disabled"),t(".js-heading2").classList.add("is-disabled"),t(".js-quote1").classList.add("is-disabled"),t(".js-quote2").classList.add("is-disabled"),t(".js-code").classList.add("is-disabled")):(null!=(L=s.firstChild.classList)?L.contains("is-drop-cap"):void 0)?(t(".js-heading1").classList.add("is-disabled"),t(".js-heading2").classList.add("is-disabled"),t(".js-quote1").classList.add("is-disabled"),t(".js-quote2").classList.add("is-disabled"),t(".js-code").classList.add("is-disabled")):(t(".js-heading1").classList.remove("is-disabled"),t(".js-heading2").classList.remove("is-disabled"),t(".js-quote1").classList.remove("is-disabled"),t(".js-quote2").classList.remove("is-disabled"),t(".js-code").classList.remove("is-disabled")),"P"!==s.nodeName?t(".js-drop-cap").classList.add("is-disabled"):/^[a-zA-Z0-9]/.test(s.textContent[0])?t(".js-drop-cap").classList.remove("is-disabled"):t(".js-drop-cap").classList.add("is-disabled"),/^(H2|H3)$/.test(s.nodeName)?(t(".js-link").classList.add("is-disabled"),t(".js-bold").classList.add("is-disabled"),t(".js-italic").classList.add("is-disabled")):(t(".js-link").classList.remove("is-disabled"),t(".js-bold").classList.remove("is-disabled"),t(".js-italic").classList.remove("is-disabled")),"FIGCAPTION"===s.nodeName&&(t(".js-heading1").classList.add("is-disabled"),t(".js-heading2").classList.add("is-disabled"),t(".js-quote1").classList.add("is-disabled"),t(".js-quote2").classList.add("is-disabled"),t(".js-code").classList.add("is-disabled"),t(".js-center").classList.add("is-disabled")),"PRE"===s.nodeName?t(".js-link").classList.add("is-disabled"):void 0;for(g=n(".is-active"),f=0,h=g.length;h>f;f++)r=g[f],r.classList.remove("is-active"),r.classList.add("is-disabled")}},{"../helper/selector.coffee":17,"./hangingPunc.coffee":35}],40:[function(e,t){var n,s;n=e("./selector.coffee").$,s=LANG_CATALOG,t.exports={__:function(e){return s[e]||""},__n:function(e,t,n){return 1===n?s[e].one.replace(/%s|%d/g,n)||"":s[e].other.replace(/%s|%d/g,n)||""}}},{"./selector.coffee":41}],41:[function(e,t){var n,s;n=function(e){return document.querySelector(e)},s=function(e){return document.querySelectorAll(e)},t.exports={$:n,$$:s}},{}],42:[function(e){var t,n,s,i,r,o;t=e("../helper/selector.coffee").$,r=e("superagent"),o=e("sweetalert"),s=e("horsey"),i="http://localhost:80/fr-img/",n=t(".js-add-to-collection"),n&&(n.onclick=function(){var e,n,a,l,c,d;return n=this.getAttribute("data-article-id"),l="",c=[],o({title:"Add to collection",type:"input",text:"search collection",closeOnConfirm:!1,showCancelButton:!0,showConfirmButton:!0,showLoaderOnConfirm:!0,customClass:"js-modal-collection"},function(e){var t;return e?(t={articleId:n,collectionId:l,_csrf:CSRF},r.post("/c/add-article").set("Accept","application/json").send(t).end(function(e,t){var n;return n=JSON.parse(t.text),n.error?o({title:"Error",type:"error",text:n.message||(n.message="Not success")}):o({title:"Success",type:"success",text:"Your article has been added to <a href='/c/"+n.collection.username+"'><b class='text-green'>"+n.collection.name+"</b></a>"})})):o.close()}),e=t(".js-modal-collection").querySelector("input"),d=[],a=s(e,{render:function(e,t){return e.innerHTML="<span class='i-user__ava'>\n  <img src='"+i+"col/"+t._id+"-50.jpg'>\n</span>\n<span>\n  "+t.text+" &middot; ("+t.value+") &middot; <b>"+t.follower_count+"</b>\n</span>"},suggestions:function(e,t){return r.get("/s/collections?q="+e).set("Accept","application/json").end(function(e,n){var s,i,r,o;for(i=JSON.parse(n.text),d=[],r=0,o=i.length;o>r;r++)s=i[r],s.value=""+s.username,s.text=s.name,delete s.username,delete s.name,d.push(s);return t(d)})}}),e.addEventListener("horsey-selected",function(){var t,n,s,i,r;for(s=e.value,r=[],n=0,i=d.length;i>n;n++)t=d[n],t.value===s?r.push(l=t._id):r.push(void 0);return r})})},{"../helper/selector.coffee":41,horsey:73,superagent:117,sweetalert:128}],43:[function(e,t){var n,s,i,r;i=e("../helper/selector.coffee"),n=i.$,s=i.$$,r=e("sweetalert"),t.exports={"delete":function(){var e,t,n,i,o;for(i=s(".js-delete-article"),o=[],t=0,n=i.length;n>t;t++)e=i[t],o.push(e.onclick=function(e){return r({title:"Confirmation",text:"Are you sure?",showCancelButton:!0,showConfirmButton:!0},function(t){var n;return t?(n=e.target.parentNode.querySelector(".js-delete-article-form"),n.submit()):void 0})});return o},publish:function(){var e,t,n,i,o;for(i=s(".js-publish-article"),o=[],t=0,n=i.length;n>t;t++)e=i[t],o.push(e.onclick=function(e){return r({title:"Confirmation",text:"Are you sure?",showCancelButton:!0,showConfirmButton:!0},function(t){var n;return t?(n=e.target.parentNode.querySelector(".js-publish-article-form"),n.submit()):void 0})});return o}}},{"../helper/selector.coffee":41,sweetalert:128}],44:[function(e){var t,n,s,i,r,o,a,l;t=e("../helper/selector.coffee").$,r=e("horsey"),l=e("superagent"),n=t(".js-auto-user"),a=e("../../../../code/framesia/configClient.coffee"),o=a.imgUrl,s=a.assetUrl,n&&(i={anchor:"@",render:function(e,t){return e.innerHTML="<span class='i-user__ava'>\n  <img src='"+o+"ava/"+t._id+"-50.jpg'>\n</span>\n<span>\n  "+t.text+" &middot; ("+t.value+")\n</span>"},filter:function(e,t){return t},suggestions:function(e,t){var n,s,i;return e=e.replace(/@/g,""),s=e.split(" "),i=s.length-1,n=s[i],l.get("/s/users?q="+n).set("Accept","application/json").end(function(e,n){var s,i,r,o,a;for(o=JSON.parse(n.text),a=[],s=0,i=o.length;i>s;s++)r=o[s],r.value="@"+r.username,r.text=r.name,delete r.username,delete r.name,a.push(r);return t(a)})}},r(n,i))},{"../../../../code/framesia/configClient.coffee":129,"../helper/selector.coffee":41,horsey:73,superagent:117}],45:[function(e){var t,n,s,i,r,o,a,l,c,d,u,f,p;t=e("../helper/selector.coffee").$,n=t(".js-article"),u=e("superagent"),n&&(p=null,a=300,i=new Date,f=0,c=0,d=1*n.getAttribute("data-reading-time"),s=n.getAttribute("data-article-id"),s&&(socket.emit("view-article",{articleId:s}),o=0,l=0,r=function(){var e,t,r,a;return r=n.getBoundingClientRect(),a=r.top,t=r.height,e=new Date,0===l&&(i=new Date),l++,f=(window.innerHeight-a)/n.offsetHeight*100,c=(e-i)/d*100,f>40&&c>40?(0===o&&socket.emit("read-article",{articleId:s}),o++):void 0},r(),window.addEventListener("scroll",function(){return clearTimeout(p),p=setTimeout(function(){return r()},a)})))},{"../helper/selector.coffee":41,superagent:117}],46:[function(e){var t,n,s,i,r,o;t=e("../helper/selector.coffee").$,i=t(".js-username-user"),n=t(".js-username-col"),s=t(".js-username-exist"),r=e("superagent"),i&&(o=i.value,i.onkeyup=function(){var e;return e=this.value,e!==o&&/[a-zA-Z0-9-]{3,16}/.test(e)?r.get("/u/"+this.value+"?check=true").end(function(e,t){var n;return n=JSON.parse(t.text),n?s.classList.remove("is-hidden"):s.classList.add("is-hidden")}):void 0}),n&&(o=n.value,n.onkeyup=function(){var e;return e=this.value,e!==o&&/[a-zA-Z0-9-]{3,30}/.test(e)?r.get("/c/"+this.value+"?check=true").end(function(e,t){var n;return n=JSON.parse(t.text),n?s.classList.remove("is-hidden"):s.classList.add("is-hidden")}):void 0})},{"../helper/selector.coffee":41,superagent:117}],47:[function(e){var t,n,s,i;t=e("../helper/selector.coffee").$,n=t(".js-switch1"),s=t(".js-switch2"),null!=n&&(n.onchange=function(){return n.checked?s.classList.remove("is-hidden"):(s.classList.add("is-hidden"),s.querySelector("input").checked=!1)}),null!=(i=t(".js-delete-col"))&&(i.onclick=function(){return t(".js-form-delete-col").classList.toggle("is-hidden")})},{"../helper/selector.coffee":41}],48:[function(e){var t,n,s,i,r,o,a,l,c,d,u,f,p,h,m,v,g,b,y,_,w,L,C,x,N,j,k,T,S,E,A,O,R,M,H,I,P,$,B,U,q,D,F,z,G;for(G=e("../helper/selector.coffee"),t=G.$,n=G.$$,c=n(".js-remove-main-featured"),x=t(".js-input-remove-main-featured"),g=t(".js-form-remove-main-featured"),A=0,H=c.length;H>A;A++)E=c[A],E.onclick=function(){var e;return e=this.getAttribute("data-article-id"),x.value=e,g.submit()};for(l=n(".js-remove-featured"),C=t(".js-input-remove-featured"),v=t(".js-form-remove-featured"),O=0,I=l.length;I>O;O++)S=l[O],S.onclick=function(){var e;return e=this.getAttribute("data-article-id"),C.value=e,v.submit()};for(i=n(".js-main-featured"),y=t(".js-input-main-featured"),f=t(".js-form-main-featured"),R=0,P=i.length;P>R;R++)N=i[R],N.onclick=function(){var e;return e=this.getAttribute("data-article-id"),y.value=e,f.submit()};for(r=n(".js-make-featured"),_=t(".js-input-make-featured"),p=t(".js-form-make-featured"),M=0,$=r.length;$>M;M++)j=r[M],j.onclick=function(){var e;return e=this.getAttribute("data-article-id"),_.value=e,p.submit()};for(a=n(".js-remove-article"),L=t(".js-input-remove-article"),m=t(".js-form-remove-article"),D=0,B=a.length;B>D;D++)T=a[D],T.onclick=function(){var e;return e=this.getAttribute("data-article-id"),L.value=e,m.submit()};for(s=n(".js-accept-article"),b=t(".js-input-accept-article"),u=t(".js-form-accept-article"),F=0,U=s.length;U>F;F++)d=s[F],d.onclick=function(){var e;return e=this.getAttribute("data-article-id"),b.value=e,u.submit()};for(o=n(".js-reject-article"),w=t(".js-input-reject-article"),h=t(".js-form-reject-article"),z=0,q=o.length;q>z;z++)k=o[z],k.onclick=function(){var e;return e=this.getAttribute("data-article-id"),w.value=e,h.submit()}},{"../helper/selector.coffee":41}],49:[function(e){var t,n,s,i,r,o,a,l,c,d,u,f,p,h,m,v,g,b,y,_,w;t=e("../helper/selector.coffee").$,w=e("superagent"),h=t(".js-make-admin"),d=t(".js-input-make-admin"),i=t(".js-form-make-admin"),null!=h&&(h.onclick=function(){var e;return e=this.getAttribute("data-user-id"),d.value=e,i.submit()}),v=t(".js-remove-admin"),u=t(".js-input-remove-admin"),o=t(".js-form-remove-admin"),null!=v&&(v.onclick=function(){var e;return e=this.getAttribute("data-user-id"),u.value=e,o.submit()}),g=t(".js-remove-member"),f=t(".js-input-remove-member"),a=t(".js-form-remove-member"),null!=g&&(g.onclick=function(){var e;return e=this.getAttribute("data-user-id"),f.value=e,a.submit()}),n=t(".js-accept-request"),c=t(".js-input-accept-request"),s=t(".js-form-accept-request"),null!=n&&(n.onclick=function(){var e;return e=this.getAttribute("data-user-id"),c.value=e,s.submit()}),b=t(".js-remove-request"),p=t(".js-input-remove-request"),l=t(".js-form-remove-request"),null!=b&&(b.onclick=function(){var e;return e=this.getAttribute("data-user-id"),p.value=e,l.submit()}),m=t(".js-quit-collection"),r=t(".js-form-quit-collection"),null!=m&&(m.onclick=function(){return r.submit()}),y=t(".js-request-join"),y&&(_=y.getAttribute("data-collection-id"),w.get("/c/request-join/"+_).set("Accept","application/json").end(function(e,t){var n;return n=JSON.parse(t.text),n.requested?$follow.innerHTML="Requested":void 0}),y.onclick=function(){return this.setAttribute("disabled",!0),w.post("/c/request-join/"+_).send({_csrf:CSRF}).set("Accept","application/json").end(function(e,t){var n;return y.removeAttribute("disabled"),n=JSON.parse(t.text),n.error?void 0:y.innerHTML="Requested"})})},{"../helper/selector.coffee":41,superagent:117}],50:[function(e){var t,n,s,i,r,o,a,l;l=e("superagent"),s=e("../helper/selector.coffee"),t=s.$,n=s.$$,null!=(i=t(".js-article-comment"))&&(i.onclick=function(){return document.body.classList.contains("is-show")?(t(".js-comment").classList.remove("is-show"),document.body.classList.remove("is-show")):(t(".js-comment").classList.add("is-show"),document.body.classList.add("is-show"))}),null!=(r=t(".js-comment-close"))&&(r.onclick=function(){return t(".js-article-comment").click()}),null!=(o=t(".js-comment-input"))&&(o.onkeydown=function(e){var n;return n=200-this.value.length,t(".js-comment-limit").textContent=n,8===e.keyCode||46===e.keyCode?!0:0>=n?!1:!0}),null!=(a=t(".js-comment-submit"))&&(a.onclick=function(){var e,n,s,i;return e=t(".js-comment-input"),n=t(".js-comment-submit"),i=e.value,s=e.getAttribute("data-article-id"),e.disabled=!0,n.disabled=!0,l.post("/c").send({content:i,article_id:s,_csrf:CSRF}).set("Accept","application/json").end(function(){return n.disabled=!1,e.disabled=!1,e.value="",t(".js-load-more-comment-feed2").click()})})},{"../helper/selector.coffee":41,superagent:117}],51:[function(e,t){var n,s,i;i=e("../helper/selector.coffee"),n=i.$,s=i.$$,t.exports=function(){var e,t,n,i,r,o,a;for(o=s("form"),a=[],n=0,r=o.length;r>n;n++)e=o[n],t=e.getAttribute("method"),"post"===(null!=t?t.toLowerCase():void 0)?"_csrf"!==e.firstChild.getAttribute("name")?(i="<input type='hidden' name='_csrf' value='"+CSRF+"'>",a.push(e.innerHTML=i+e.innerHTML)):a.push(void 0):a.push(void 0);return a}},{"../helper/selector.coffee":41}],52:[function(e){var t,n,s,i,r;t=e("../helper/selector.coffee").$,document.onclick=function(e){var n,s,i,r,o,a,l,c,d,u,f,p,h,m,v,g;return(null!=(n=e.target.parentNode)?null!=(s=n.classList)?s.contains("js-down-article"):void 0:void 0)||(null!=(d=e.target.classList)?d.contains("js-down-article"):void 0)?!1:(null!=(u=e.target.parentNode)?null!=(f=u.classList)?f.contains("js-down-user"):void 0:void 0)||(null!=(p=e.target.classList)?p.contains("js-down-user"):void 0)?!1:(null!=(h=e.target.parentNode)?null!=(m=h.classList)?m.contains("js-down-editor"):void 0:void 0)||(null!=(v=e.target.classList)?v.contains("js-down-editor"):void 0)?!1:(null!=(g=e.target.parentNode)?null!=(i=g.classList)?i.contains("js-down-notif"):void 0:void 0)||(null!=(r=e.target.classList)?r.contains("js-down-notif"):void 0)?!1:(null!=(o=t(".js-drop-user"))&&o.classList.add("is-hidden"),null!=(a=t(".js-drop-editor"))&&a.classList.add("is-hidden"),null!=(l=t(".js-drop-article"))&&l.classList.add("is-hidden"),null!=(c=t(".js-drop-notif"))?c.classList.add("is-hidden"):void 0)},null!=(n=t(".js-down-editor"))&&(n.onclick=function(){var e,n,s;return null!=(e=t(".js-drop-user"))&&null!=(n=e.classList)&&n.add("is-hidden"),null!=(s=t(".js-drop-notif"))&&s.classList.add("is-hidden"),t(".js-drop-editor").classList.toggle("is-hidden")}),null!=(s=t(".js-down-user"))&&(s.onclick=function(){var e,n,s;return null!=(e=t(".js-drop-editor"))&&e.classList.add("is-hidden"),null!=(n=t(".js-drop-article"))&&n.classList.add("is-hidden"),null!=(s=t(".js-drop-notif"))&&s.classList.add("is-hidden"),t(".js-drop-user").classList.toggle("is-hidden")}),null!=(i=t(".js-down-article"))&&(i.onclick=function(){var e,n,s;return null!=(e=t(".js-drop-user"))&&null!=(n=e.classList)&&n.add("is-hidden"),null!=(s=t(".js-drop-notif"))&&s.classList.add("is-hidden"),t(".js-drop-article").classList.toggle("is-hidden")}),null!=(r=t(".js-down-notif"))&&(r.onclick=function(){var e,n,s,i;return null!=(e=t(".js-drop-user"))&&null!=(n=e.classList)&&n.add("is-hidden"),null!=(s=t(".js-drop-editor"))&&s.classList.add("is-hidden"),null!=(i=t(".js-drop-article"))&&i.classList.add("is-hidden"),t(".js-drop-notif").classList.toggle("is-hidden")})},{"../helper/selector.coffee":41}],53:[function(e){var t,n,s,i,r,o,a,l,c,d,u,f,p,h,m,v,g,b,y,_,w,L,C,x,N,j,k,T,S;if(S=e("superagent"),N=e("../helper/selector.coffee"),t=N.$,n=N.$$,j=e("../helper/langCatalog.coffee"),d=j.__,u=j.__n,k=e("../../../../code/framesia/configClient.coffee"),y=k.imgUrl,f=k.assetUrl,h=e("../../../../code/framesia/views/blocks/tag.jade"),m=e("../../../../code/framesia/views/blocks/post3.jade"),v=e("../../../../code/framesia/views/blocks/col-list.jade"),g=e("../../../../code/framesia/views/blocks/user-list.jade"),i=t(".js-topic-feed"),r=t(".js-topic-spinner"),o=t(".js-trenda-feed"),a=t(".js-trenda-spinner"),s=t(".js-colright-feed"),l=t(".js-user-feed"),c=t(".js-user-spinner"),w=function(){var e,t;return t="/t/topics",e=i.getAttribute("data-query"),e&&(t="/s/topics?q="+e),S.get(t).set("Accept","application/json").end(function(e,t){var n,s,o;return o=JSON.parse(t.text),s={tags:o},n=h(s),i.innerHTML=n,i.classList.remove("is-empty"),r.classList.add("is-hidden")})},i&&w(),L=function(){var e,t;return e=o.getAttribute("data-username"),t=e?"/u/"+e+"/feed-loved-articles":"/t/articles",S.get(t).set("Accept","application/json").end(function(e,t){var n,s,i;return i=JSON.parse(t.text),s={post:i},n=m(s),""===n&&(n="<div class='i-block-empty'> "+d("No articles")+"</div>"),o.innerHTML=n,o.classList.remove("is-empty"),a.classList.add("is-hidden")})},o&&L(),C=function(e){var t,n,s,i,r;return r=e.getAttribute("data-username"),t=e.getAttribute("data-col-contr"),n=e.getAttribute("data-col-follow"),s=e.getAttribute("data-query"),t?i="/u/"+r+"/feed-collections":n?i="/u/"+r+"/feed-following-collections":s&&(i="/s/collections?q="+s+"&all=true"),S.get(i).set("Accept","application/json").end(function(t,n){var i,r,o;return o=JSON.parse(n.text),s&&(o.collections=o),r=o,r.IMG_URL=y,i=v(r),""===i&&(i="<div class='i-block-empty'> "+d("No collections")+"</div>"),e.innerHTML=i,e.classList.remove("is-empty"),e.parentNode.querySelector(".spinner").classList.add("is-hidden")})},s)for(T=n(".js-colright-feed"),b=0,_=T.length;_>b;b++)p=T[b],C(p);x=function(){var e,t;return e=l.getAttribute("data-query"),e&&(t="/s/users?q="+e),S.get(t).set("Accept","application/json").end(function(e,t){var n,s,i;return i=JSON.parse(t.text),s={users:i,IMG_URL:y},n=g(s),l.innerHTML=n,l.classList.remove("is-empty"),c.classList.add("is-hidden")})},l&&x()},{"../../../../code/framesia/configClient.coffee":129,"../../../../code/framesia/views/blocks/col-list.jade":131,"../../../../code/framesia/views/blocks/post3.jade":137,"../../../../code/framesia/views/blocks/tag.jade":139,"../../../../code/framesia/views/blocks/user-list.jade":140,"../helper/langCatalog.coffee":40,"../helper/selector.coffee":41,superagent:117}],54:[function(e){var t,n,s,i;t=e("../helper/selector.coffee").$,s=e("blueimp-load-image-npm"),t(".js-first-time-ava")&&(n=t(".js-first-time-ava"),i=function(e){return n.src=e.toDataURL("image/jpeg",.9),t(".js-first-time-ava-data").value=e.toDataURL("image/jpeg",.9)},s(n.src,i,{canvas:!0,maxWidth:200,maxHeight:200,crop:!0,crossOrigin:"anonymous"}),n.onclick=function(){return t(".js-first-time-ava-input").click()},t(".js-first-time-ava-input").onchange=function(e){return s(e.target.files[0],i,{canvas:!0,maxWidth:200,maxHeight:200,crop:!0})})},{"../helper/selector.coffee":41,"blueimp-load-image-npm":71}],55:[function(e){var t,n,s;s=e("superagent"),t=e("../helper/selector.coffee").$,n=t(".js-follow"),n&&(s.get("/f/"+n.getAttribute("data-follow-type")+"/"+n.getAttribute("data-follow-id")).end(function(e,t){var s;return s=JSON.parse(t.text),s.following?(n.classList.add("is-following"),n.innerHTML="Following"):(n.classList.remove("is-following"),n.innerHTML="Follow")}),n.onmouseover=function(){return n.classList.contains("is-following")?n.innerHTML="Unfollow":void 0},n.onmouseleave=function(){return n.classList.contains("is-following")?n.innerHTML="Following":void 0},n.onclick=function(){var e,t;return e=this.getAttribute("data-follow-id"),t=this.getAttribute("data-follow-type"),this.setAttribute("disabled",!0),this.classList.add("is-disabled"),s.post("/f").send({followId:e,followType:t,_csrf:CSRF}).end(function(e,t){var s;return n.removeAttribute("disabled"),n.classList.remove("is-disabled"),s=JSON.parse(t.text),s.following?(n.classList.add("is-following"),n.innerHTML="Following"):(n.classList.remove("is-following"),n.innerHTML="Follow")})})},{"../helper/selector.coffee":41,superagent:117}],56:[function(e){var t,n,s,i;i=e("superagent"),t=e("../helper/selector.coffee").$,n=t(".js-article-button"),n&&(s=n.getAttribute("data-article-id"),i.get("/p/"+s+"/my-activity").set("Accept","application/json").end(function(e,n){var s;return s=JSON.parse(n.text),s.loved&&t(".js-article-love").classList.add("is-loving"),s.commented&&t(".js-article-comment").classList.add("is-comment"),s.responded&&t(".js-article-response").classList.add("is-response"),s.reposted?t(".js-article-repost").classList.add("is-repost"):void 0}))},{"../helper/selector.coffee":41,superagent:117}],57:[function(e){var t,n,s,i,r,o,a,l,c,d,u,f,p,h,m,v;v=e("superagent"),t=e("../helper/selector.coffee").$,p=e("../helper/langCatalog.coffee"),r=p.__,o=p.__n,f=e("./love.coffee"),m=e("./repost.coffee"),l=e("../../../../code/framesia/views/blocks/post.jade"),c=e("../../../../code/framesia/views/blocks/post4.jade"),h=e("../../../../code/framesia/configClient.coffee"),d=h.imgUrl,a=h.assetUrl,n=t(".js-article-feed"),s=t(".js-article-spinner"),i=t(".js-load-more-article-feed"),u=function(){var e,t,c,u,p,h,g,b,y;
return c=n.getAttribute("data-home"),h=n.getAttribute("data-stream"),u=n.getAttribute("data-article-id"),t=n.getAttribute("data-collection-name"),p=n.getAttribute("data-query"),i.classList.add("is-hidden"),b=l,u?y="/p/profile-feed/"+u:t?y="/c/"+t+"/feed-articles":p?y="/s/posts?q="+p:h?y="/p/stream-feed":c&&(y="/p/home-feed"),n.classList.contains("is-empty")?e=!0:p?(g=n.childNodes.length,y+="&last="+g):(g=n.lastChild.getAttribute("data-published-at"),y+="?last="+g),s.classList.remove("is-hidden"),v.get(y).set("Accept","application/json").end(function(t,l){var c,u,p;return p=JSON.parse(l.text),u={post:p,__:r,__n:o,ASSET_URL:a,IMG_URL:d},c=b(u),n.innerHTML+=c,n.classList.remove("is-empty"),i.classList.remove("is-hidden"),""===c&&(e===!0&&(c="<div class='i-block-empty'> "+r("No articles")+"</div>"),i.classList.add("is-hidden")),s.classList.add("is-hidden"),f.article(),m()})},n&&(u(),i.onclick=function(){return u()})},{"../../../../code/framesia/configClient.coffee":129,"../../../../code/framesia/views/blocks/post.jade":135,"../../../../code/framesia/views/blocks/post4.jade":138,"../helper/langCatalog.coffee":40,"../helper/selector.coffee":41,"./love.coffee":62,"./repost.coffee":66,superagent:117}],58:[function(e){var t,n,s,i,r,o,a,l,c,d,u,f,p,h,m;m=e("superagent"),t=e("../helper/selector.coffee").$,p=e("../helper/langCatalog.coffee"),r=p.__,o=p.__n,a=e("./article.coffee"),d=e("./csrf.coffee"),u=e("../../../../code/framesia/views/blocks/post-item.jade"),h=e("../../../../code/framesia/configClient.coffee"),f=h.imgUrl,c=h.assetUrl,n=t(".js-article2-feed"),s=t(".js-article2-spinner"),i=t(".js-load-more-article2-feed"),l=function(){var e,t,l,p;return t=n.getAttribute("data-draft"),i.classList.add("is-hidden"),p=t?"/me/feed-drafts":"/me/feed-articles",n.classList.contains("is-empty")?e=!0:(l=n.lastChild.getAttribute("data-edited-at"),p+="?last="+l),s.classList.remove("is-hidden"),m.get(p).set("Accept","application/json").end(function(t,l){var p,h,m;return m=JSON.parse(l.text),h={post:m,__:r,__n:o,ASSET_URL:c,IMG_URL:f},p=u(h),i.classList.remove("is-hidden"),""===p&&(e===!0&&(p="<div class='i-block-empty'> "+r("No articles")+"</div>"),i.classList.add("is-hidden")),n.innerHTML+=p,n.classList.remove("is-empty"),s.classList.add("is-hidden"),d(),a["delete"](),a.publish()})},n&&(l(),i.onclick=function(){return l()})},{"../../../../code/framesia/configClient.coffee":129,"../../../../code/framesia/views/blocks/post-item.jade":134,"../helper/langCatalog.coffee":40,"../helper/selector.coffee":41,"./article.coffee":43,"./csrf.coffee":51,superagent:117}],59:[function(e){var t,n,s,i,r,o,a,l,c,d,u,f,p,h,m,v,g,b,y;y=e("superagent"),v=e("../helper/selector.coffee"),t=v.$,n=v.$$,g=e("../helper/langCatalog.coffee"),l=g.__,c=g.__n,m=e("./love.coffee"),f=e("../../../../code/framesia/views/blocks/comment-list.jade"),b=e("../../../../code/framesia/configClient.coffee"),p=b.imgUrl,u=b.assetUrl,s=t(".js-comment-feed"),i=t(".js-comment-spinner"),r=t(".js-comment-spinner2"),o=t(".js-load-more-comment-feed"),a=t(".js-load-more-comment-feed2"),d=null!=s?s.getAttribute("data-article-id"):void 0,h=function(e){var h,v,g,b;return s.classList.contains("is-empty")?(b="/c/a/"+d,v=!0):(g=s.lastChild.getAttribute("id"),b="/c/a/"+d+"?last="+g),e===!0?(h=s.firstChild.getAttribute("id"),b="/c/a/"+d+"?first="+h,a.classList.add("is-hidden"),r.classList.remove("is-hidden")):(o.classList.add("is-hidden"),i.classList.remove("is-hidden")),y.get(b).end(function(d,h){var g,b,_,w,L,C,x,N,j,k,T,S,E;for(_=JSON.parse(h.text),k={is_login:_.is_login,comments:_.comments,__:l,__n:c,ASSET_URL:u,IMG_URL:p},w=f(k),e===!0?a.classList.remove("is-hidden"):o.classList.remove("is-hidden"),""===w&&(v===!0&&(w="<div class='i-block-empty'> "+l("No comment")+"</div>"),e===!0?a.classList.add("is-hidden"):o.classList.add("is-hidden")),e===!0?(s.innerHTML=w+s.innerHTML,r.classList.add("is-hidden")):(s.innerHTML+=w,i.classList.add("is-hidden")),s.classList.remove("is-empty"),m.comment(),T=n(".js-comment-reply"),L=C=0,N=T.length;N>C;L=++C)b=T[L],b.onclick=function(){var e,n,s,i;return i=this.getAttribute("data-username"),n=this.getAttribute("data-comment-id"),s=this,e=t(".js-comment-input"),e.value="@"+i+" ",e.focus()};for(S=n(".js-comment-delete"),E=[],L=x=0,j=S.length;j>x;L=++x)g=S[L],E.push(g.onclick=function(){var e;return e=this.getAttribute("data-comment-id"),s.removeChild(this.parentNode.parentNode.parentNode),0===s.childNodes.length&&s.classList.add("is-empty"),y.post("/c/delete/"+e).send({_csrf:CSRF}).end(function(){return console.log})});return E})},s&&(h(),o.onclick=function(){return h()},a.onclick=function(){return h(!0)})},{"../../../../code/framesia/configClient.coffee":129,"../../../../code/framesia/views/blocks/comment-list.jade":132,"../helper/langCatalog.coffee":40,"../helper/selector.coffee":41,"./love.coffee":62,superagent:117}],60:[function(e){var t,n,s,i,r,o,a,l,c,d,u,f,p,h,m;m=e("superagent"),t=e("../helper/selector.coffee").$,f=e("../helper/langCatalog.coffee"),r=f.__,o=f.__n,u=e("./love.coffee"),h=e("./repost.coffee"),l=e("../../../../code/framesia/views/blocks/post2.jade"),p=e("../../../../code/framesia/configClient.coffee"),c=p.imgUrl,a=p.assetUrl,s=t(".js-loved-article-feed"),i=t(".js-loved-article-spinner"),n=t(".js-load-more-loved-article-feed"),d=function(){var e,t,d,f;return f=s.getAttribute("data-username"),n.classList.add("is-hidden"),d=f?"/u/"+f+"/feed-loved-articles":"/me/feed-loved-articles",s.classList.contains("is-empty")?e=!0:(t=s.lastChild.getAttribute("data-love-id"),d+="?last="+t),i.classList.remove("is-hidden"),m.get(d).set("Accept","application/json").end(function(t,d){var f,p,m;return m=JSON.parse(d.text),p={post:m,__:r,__n:o,ASSET_URL:a,IMG_URL:c},f=l(p),s.innerHTML+=f,s.classList.remove("is-empty"),n.classList.remove("is-hidden"),""===f&&(e===!0&&(f="<div class='i-block-empty'> "+r("No articles")+"</div>"),n.classList.add("is-hidden")),i.classList.add("is-hidden"),u.article(),h()})},s&&(d(),n.onclick=function(){return d()})},{"../../../../code/framesia/configClient.coffee":129,"../../../../code/framesia/views/blocks/post2.jade":136,"../helper/langCatalog.coffee":40,"../helper/selector.coffee":41,"./love.coffee":62,"./repost.coffee":66,superagent:117}],61:[function(e){var t,n,s,i;t=e("../helper/selector.coffee").$,n=t(".b-header"),s=0,i="down",window.addEventListener("scroll",function(){var e,t;return t=window.pageYOffset||document.documentElement.scrollTop,e=t>s?"down":"up",i!==e&&("down"===e?(n.classList.remove("is-fixed"),t>100&&(n.style.top="-60px")):(n.classList.add("is-fixed"),n.style.top="0")),s=t,i=e})},{"../helper/selector.coffee":41}],62:[function(e,t){var n,s,i,r;r=e("superagent"),i=e("../helper/selector.coffee"),n=i.$,s=i.$$,t.exports={article:function(){var e,t,n,i,o;for(i=s(".js-article-love"),o=[],t=0,n=i.length;n>t;t++)e=i[t],o.push(e.onclick=function(){var e,t,n;return e=this.getAttribute("data-article-id"),t=1*this.firstChild.innerHTML,n=this,r.post("/l").send({to:e,love_type:"Post",_csrf:CSRF}).set("Accept","application/json").end(function(e,s){var i;return i=JSON.parse(s.text),i.err===!1?i.loving===!0?(n.classList.add("is-loving"),n.firstChild.innerHTML=t+1):(n.classList.remove("is-loving"),n.firstChild.innerHTML=t-1):void 0})});return o},comment:function(){var e,t,n,i,o;for(i=s(".js-comment-love"),o=[],t=0,n=i.length;n>t;t++)e=i[t],o.push(e.onclick=function(){var e,t,n;return e=this.getAttribute("data-comment-id"),t=1*this.firstChild.innerHTML,n=this,console.log("o"),r.post("/l").send({to:e,love_type:"Comment",_csrf:CSRF}).set("Accept","application/json").end(function(e,s){var i;return i=JSON.parse(s.text),i.err===!1?i.loving===!0?(n.classList.add("is-loving"),n.firstChild.innerHTML=t+1):(n.classList.remove("is-loving"),n.firstChild.innerHTML=t-1):void 0})});return o}}},{"../helper/selector.coffee":41,superagent:117}],63:[function(e){var t,n,s,i,r,o,a,l,c,d,u,f,p,h,m,v;if(h=e("../helper/selector.coffee"),t=h.$,n=h.$$,a=t(".js-article, .js-draft"),i=t(".js-close-toc"),l=t(".js-toc"),r=t(".b-header"),a&&(c=a.getAttribute("data-article-id"),console.log(c),c))for(window.addEventListener("scroll",function(){var e;return e=r.classList.contains("is-fixed"),e?l.classList.add("is-with-header"):l.classList.remove("is-with-header")}),s=n("h2, h3"),d=0,u=0,f=s.length;f>u;u++)o=s[u],p=o.nodeName,("H2"===p||"H3"===p)&&(d++,v=o.textContent,m=v.toString().toLowerCase().replace(/\s+/g,"-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/-+$/,"")+("--"+d),o.setAttribute("id",m),l.innerHTML+="H3"===p?"<div>\n  <a href='#"+m+"'>"+v+"</a>\n</div>":"<b><div>\n  <a href='#"+m+"'>"+v+"</a>\n</div></b>")},{"../helper/selector.coffee":41}],64:[function(e){var t,n,s,i,r,o,a,l,c,d,u,f,p,h,m,v,g,b,y,_,w,L,C;L=e("superagent"),g=e("../helper/selector.coffee"),t=g.$,n=g.$$,b=e("../helper/langCatalog.coffee"),l=b.__,c=b.__n,u=e("../../../../code/framesia/views/blocks/notif.jade"),y=e("../../../../code/framesia/configClient.coffee"),p=y.imgUrl,d=y.assetUrl,o=t(".js-notif-feed"),a=t(".js-notif-spinner"),i=t(".js-menotif-feed"),r=t(".js-menotif-spinner"),C="/me/feed-notif",m=function(){return L.get(C).end(function(e,n){var s,i,r,f,h,m;return s=JSON.parse(n.text),r={notifs:s.notifs,__:l,__n:c,ASSET_URL:d,IMG_URL:p},i=u(r),""===i&&(i="<div class='i-block-empty'> "+l("No notif")+"</div>"),o.classList.remove("is-empty"),a.classList.add("is-hidden"),o.innerHTML=i,(null!=(f=s.notifs[0])?f.is_read:void 0)===!1?null!=(h=t(".js-down-notif"))?h.classList.add("is-notif"):void 0:null!=(m=t(".js-down-notif"))?m.classList.remove("is-notif"):void 0})},o&&(f=0,h=0,m(),null!=(_=t(".js-down-notif"))&&_.addEventListener("click",function(){return this.classList.contains("is-notif")&&(f=0,h=0),0===f?(m(),f++):void 0}),null!=(w=t(".js-drop-notif"))&&w.addEventListener("mouseover",function(){var e,n,s,i;return 0!==h||(h++,n=this.querySelector(".b-notif__item"),e=this.querySelectorAll(".b-notif__item"),i=n.getAttribute("data-notif-id"),s=n.classList.contains("is-read"))?void 0:L.post("/me/read-notif").send({_csrf:CSRF}).end(function(){var n,s,i,r;for(h=0,t(".js-down-notif").classList.remove("is-notif"),r=[],s=0,i=e.length;i>s;s++)n=e[s],r.push(n.classList.add("is-read"));return r})})),s=t(".js-load-more-menotif-feed"),v=function(){var e,t;return s.classList.add("is-hidden"),i.classList.contains("is-empty")?(C=C,e=!0):(t=i.lastChild.getAttribute("data-notif-id"),C="/me/feed-notif?last="+t),r.classList.remove("is-hidden"),L.get(C).end(function(t,n){var o,a,f;return o=JSON.parse(n.text),f={notifs:o.notifs,__:l,__n:c,ASSET_URL:d,IMG_URL:p},a=u(f),s.classList.remove("is-hidden"),""===a&&(e===!0&&(a="<div class='i-block-empty'> "+l("No articles")+"</div>"),s.classList.add("is-hidden")),i.classList.remove("is-empty"),r.classList.add("is-hidden"),i.innerHTML+=a})},i&&(v(),s.onclick=function(){return v()})},{"../../../../code/framesia/configClient.coffee":129,"../../../../code/framesia/views/blocks/notif.jade":133,"../helper/langCatalog.coffee":40,"../helper/selector.coffee":41,superagent:117}],65:[function(e){var t,n,s,i,r,o;r=e("superagent"),t=e("../helper/selector.coffee").$,o=e("sweetalert"),i=t(".js-report-article"),n=t(".js-form-report-article"),s=t(".js-input-report-article"),i&&(i.onclick=function(){return o({title:"Why?",type:"input",inputPlaceholder:"Why you report this article? 10 - 200 char",showCancelButton:!0,showConfirmButton:!0},function(e){return e===!1?!1:e.length>200?(o.showInputError("Too long"),!1):e.length<5?(o.showInputError("Too short"),!1):(s.value=e,n.submit(),!0)})})},{"../helper/selector.coffee":41,superagent:117,sweetalert:128}],66:[function(e,t){var n,s,i,r;r=e("superagent"),i=e("../helper/selector.coffee"),n=i.$,s=i.$$,t.exports=function(){var e,t,n,i,o;for(i=s(".js-article-repost"),o=[],t=0,n=i.length;n>t;t++)e=i[t],o.push(e.onclick=function(){var e,t,n;return e=this.getAttribute("data-article-id"),t=1*this.firstChild.innerHTML,n=this,r.post("/p/repost-article").send({article_id:e,_csrf:CSRF}).set("Accept","application/json").end(function(e,s){var i;return i=JSON.parse(s.text),i.err===!1?i.repost===!0?(n.classList.add("is-repost"),n.firstChild.innerHTML=t+1):(n.classList.remove("is-repost"),n.firstChild.innerHTML=t-1):void 0})});return o}},{"../helper/selector.coffee":41,superagent:117}],67:[function(e,t){var n,s,i,r;r=e("superagent"),i=e("../helper/selector.coffee"),n=i.$,s=i.$$,t.exports=function(){var e;return e=n(".js-article-repost-link"),e?e.onclick=function(){var e,t;return e=this.getAttribute("data-article-id"),t=this,r.post("/p/repost-article-link").send({article_id:e,_csrf:CSRF}).set("Accept","application/json").end(function(e,n){var s;return s=JSON.parse(n.text),s.err===!1?(t.classList.remove("i-button--green"),t.firstChild.innerHTML="Reposted"):void 0})}:void 0}},{"../helper/selector.coffee":41,superagent:117}],68:[function(e){var t,n,s,i,r,o,a,l;t=e("../helper/selector.coffee").$,r=e("superagent"),a=e("sweetalert"),n=e("jsondiffpatch"),l=e("./tag.coffee"),null!=(s=t(".js-save-server"))&&(s.onclick=function(){return o(!1)}),null!=(i=t(".js-save-publish"))&&(i.onclick=function(){return o(!0)}),o=function(e){var s,i,o,c,d,u;return t(".js-save").click(),u="new",i=JSON.parse(localStorage.getItem("article-init")),0===i.data.length?(s=localStorage.getItem("article"),d={_csrf:CSRF,tags:JSON.stringify(l.tags()),data:s,is_published:e,is_response:!1},t(".js-respond")&&(d.is_response=!0,d.response=t(".js-respond").getAttribute("data-article-id"))):(u="edit",s=JSON.parse(localStorage.getItem("article")),c=n.create({objectHash:function(e){return e.type},textDiff:{minLength:6e7}}),o={data:c.diff(i.data,s.data),img:s.img},d={_csrf:CSRF,tags:JSON.stringify(l.tags()),data:JSON.stringify(o),id:window.location.pathname.split("/")[2],is_published:e,title:s.title,isTitleCenter:s.isTitleCenter,isCoverChanged:s.isCoverChanged},s.isCoverChanged&&(d.isCover=s.isCover,d.cover=s.cover)),a({title:"Save?",text:"Send this article? total "+(d.data.length/1024).toFixed(2)+" KB\n<div class='percent'>\n  <div class='percent-loader' width='0'>\n  </div>\n  <div class='percent-text'>\n  </div>\n</div>",closeOnConfirm:!1,showCancelButton:!0,showConfirmButton:!0,showLoaderOnConfirm:!0},function(e){var n;if(e){if("new"===u)n="/p/new-article";else{if("edit"!==u)return!1;n="/p/edit-article"}return""===d.title?a("Error","Untitled","error"):t(".js-title-input").value.length<3?a("Error","Title too short!","error"):t(".js-editable").textContent.length<20?a("Error","Article too short!","error"):r.post(n).send(d).set("Accept","application/json").on("progress",function(e){var n,s;return e.percent?(s=0,n=0,100===e.percent&&0===n?s=0:(s=Math.floor(e.percent),n=1),t(".percent-text").innerHTML=s+"%",t(".percent-loader").width=s+"%"):void 0}).end(function(e,t){var n,s;return s=JSON.parse(t.text),n="href='/p/"+s.articleId+"/edit'",/^\/p\/[0-9a-f]+\/edit\/?$/.test(window.location.pathname)&&(n="onclick='window.location.reload()'"),a({title:"Success",text:'<a class="text-green" '+n+' style="cursor:pointer;">Continue editing</a> or go to <a class="text-green" href=\''+s.urlBack+"'>your article</a> or go to <a  class=\"text-green\" href='/'>Home</a>",type:"success",allowOutsideClick:!1})})}return a.close()})}},{"../helper/selector.coffee":41,"./tag.coffee":69,jsondiffpatch:114,superagent:117,sweetalert:128}],69:[function(e,t){var n,s,i,r,o,a,l,c,d,u,f;n=e("../helper/selector.coffee").$,c=3,l=e("insignia"),a=e("horsey"),d=e("superagent"),i=n(".tags-wrap"),i&&(o=i.getAttribute("data-tags"),o&&(i.value=JSON.parse(o).join(",")),u={delimiter:",",parse:function(e){return e},validate:function(e,t){var n,s,i,r;if(t.length<c){for(s=!1,n=0,i=t.length;i>n;n++)r=t[n],r.toLowerCase()===e.toLowerCase()&&(s=!0);if(!s)return!0}}},f=l(i,u),i.addEventListener("keypress",function(e){return 13===e.keyCode?(e.preventDefault(),f.convert()):void 0}),r={suggestions:function(e,t){return e?d.get("/s/topics?q="+e).end(function(e,n){var s,i,r,o,a,l,c,d,u,f;for(d=JSON.parse(n.text),u=[],f=!0,s=0,r=d.length;r>s;s++){for(a=d[s],c=a._id.toLowerCase(),i=0,o=u.length;o>i;i++)l=u[i],l===c&&(f=!1);f===!0&&u.push(c)}return t(u)}):void 0}},a(i,r),i.addEventListener("horsey-selected",function(){return f.convert()}),s=n(".js-collection-tag"),s&&i.addEventListener("insignia-converted",function(){return s.value=f.value()})),t.exports=f},{"../helper/selector.coffee":41,horsey:73,insignia:92,superagent:117}],70:[function(e){var t;(t=function(){var t,n,s,i,r,o,a,l,c,d,u,f,p,h,m,v,g,b,y,_,w,L,C,x,N,j,k,T,S;for(S=e("sweetalert"),k=e("superagent"),L=e("./helper/selector.coffee"),t=L.$,n=L.$$,S.setDefaults({title:"Framesia",text:"Framesia",html:!0,showCancelButton:!1,showConfirmButton:!1,animation:"slide-from-top",allowOutsideClick:!0,closeOnConfirm:!0}),w=e("./include/love.coffee"),N=e("./include/repost.coffee"),j=e("./include/repostLink.coffee"),d=e("./include/article.coffee"),u=e("./include/csrf.coffee"),N(),j(),w.article(),w.comment(),d["delete"](),d.publish(),u(),e("./include/headerFix.coffee"),e("./include/drop.coffee"),e("./include/firstTime.coffee"),e("./include/tag.coffee"),e("./include/feedRight.coffee"),e("./include/notif.coffee"),e("./include/comment.coffee"),e("./include/follow.coffee"),e("./include/checkRead.coffee"),e("./include/checkUsername.coffee"),e("./include/saveArticle.coffee"),e("./include/getArticle.coffee"),e("./include/autocompleteUser.coffee"),e("./include/collection.coffee"),e("./include/collectionPeople.coffee"),e("./include/collectionArticle.coffee"),e("./include/addCollection.coffee"),e("./include/getComment.coffee"),e("./include/getLovedArticles.coffee"),e("./include/getArticles2.coffee"),e("./include/getArticles.coffee"),e("./include/report.coffee"),e("./include/makeTableOfContent.coffee"),s=n(".is-cover-full img"),f=0,g=s.length;g>f;f++)l=s[f],r=l.parentNode,p=l.getAttribute("src"),l.classList.add("is-hidden"),r.style.backgroundImage="url('"+p+"')",r.style.backgroundSize="cover";for(i=n(".is-cover-slide img"),h=0,b=i.length;b>h;h++)c=i[h],r=c.parentNode,p=c.getAttribute("src"),c.classList.add("is-hidden"),r.style.backgroundImage="url('"+p+"')",r.style.backgroundSize="cover";if(t(".b-article__cover.is-cover-not-full")&&(t(".b-article__cover.is-cover-not-full").parentNode.style.background="#fff"),t(".js-editable")){for(C=n("figure"),m=0,y=C.length;y>m;m++)a=C[m],a.editable=!1;for(x=n("figcaption"),v=0,_=x.length;_>v;v++)o=x[v],o.editable=!0;e("./editor/main.coffee")}return window.location.hash&&"#_=_"===window.location.hash?window.history&&window.history.replaceState?window.history.replaceState("",document.title,window.location.pathname):(T={top:document.body.scrollTop,left:document.body.scrollLeft},window.location.hash="",document.body.scrollTop=T.top,document.body.scrollLeft=T.left):void 0})()},{"./editor/main.coffee":20,"./helper/selector.coffee":41,"./include/addCollection.coffee":42,"./include/article.coffee":43,"./include/autocompleteUser.coffee":44,"./include/checkRead.coffee":45,"./include/checkUsername.coffee":46,"./include/collection.coffee":47,"./include/collectionArticle.coffee":48,"./include/collectionPeople.coffee":49,"./include/comment.coffee":50,"./include/csrf.coffee":51,"./include/drop.coffee":52,"./include/feedRight.coffee":53,"./include/firstTime.coffee":54,"./include/follow.coffee":55,"./include/getArticle.coffee":56,"./include/getArticles.coffee":57,"./include/getArticles2.coffee":58,"./include/getComment.coffee":59,"./include/getLovedArticles.coffee":60,"./include/headerFix.coffee":61,"./include/love.coffee":62,"./include/makeTableOfContent.coffee":63,"./include/notif.coffee":64,"./include/report.coffee":65,"./include/repost.coffee":66,"./include/repostLink.coffee":67,"./include/saveArticle.coffee":68,"./include/tag.coffee":69,superagent:117,sweetalert:128}],71:[function(e,t,n){arguments[4][21][0].apply(n,arguments)},{"./load-image":72,dup:21}],72:[function(e,t,n){arguments[4][22][0].apply(n,arguments)},{dup:22}],73:[function(e,t){"use strict";function n(e){var t,n;for(n=0;n<w.length;n++)if(t=w[n],t.el===e)return t.api;return null}function s(e,t){function s(e){K(!0),Ct=Nt.attachment=e,ot="INPUT"===Ct.tagName||"TEXTAREA"===Ct.tagName,at=ot||d(Ct),K()}function a(){rt&&rt.refresh()}function x(t){if("function"==typeof gt){f.remove(Ct,"focus",x);var n=ot?e.value:e.innerHTML;if(n!==xt.value){xt.counter++,xt.value=n;var s=xt.counter;gt(n,function(e){xt.counter===s&&N(e,t)})}}}function N(e,t){j(),e.forEach(k),Nt.suggestions=e,t&&R(),D()}function j(){for(P();_t.lastChild;)_t.removeChild(_t.lastChild)}function k(t){function n(){var e=ht(t);T(e),B(),Ct.focus(),f.fabricate(Ct,"horsey-selected",e)}function s(){var n=ot?e.value:e.innerHTML;S(n,t)?r.className=r.className.replace(/ sey-hide/g,""):f.fabricate(r,"horsey-hide")}function i(){O(r)||(r.className+=" sey-hide",wt===r&&P())}var r=l("li","sey-item");return ft(r,t),f.add(r,"click",n),f.add(r,"horsey-filter",s),f.add(r,"horsey-hide",i),_t.appendChild(r),Nt.suggestions.push(t),r}function T(e){return dt.anchor?(E()?Nt.appendText:Nt.appendHTML)(e):(yt(e),void 0)}function S(e,t){if(dt.anchor){var n=(E()?Nt.filterAnchoredText:Nt.filterAnchoredHTML)(e,t);return n?bt(n.input,n.suggestion):!1}return bt(e,t)}function E(){return i(Ct)}function A(){return-1!==_t.className.indexOf("sey-show")}function O(e){return-1!==e.className.indexOf("sey-hide")}function R(){A()||(_t.className+=" sey-show",rt.refresh(),f.fabricate(Ct,"horsey-show"))}function M(e){var t=1===e.which&&!e.metaKey&&!e.ctrlKey;t!==!1&&H()}function H(){A()?B():R()}function I(e){P(),e&&(wt=e,wt.className+=" sey-selected")}function P(){wt&&(wt.className=wt.className.replace(/ sey-selected/g,""),wt=null)}function $(e,t){var n=_t.children.length;if(t>n)return P(),void 0;if(0!==n){var s=e?"lastChild":"firstChild",i=e?"previousSibling":"nextSibling",r=wt&&wt[i]||_t[s];I(r),O(r)&&$(e,t?t+1:1)}}function B(){rt.sleep(),_t.className=_t.className.replace(/ sey-show/g,""),P(),f.fabricate(Ct,"horsey-hide")}function U(e){var t=A(),n=e.which||e.keyCode;n===y?(at&&dt.autoShowOnUpDown&&R(),t&&($(),q(e))):n===b?(at&&dt.autoShowOnUpDown&&R(),t&&($(!0),q(e))):n===m?at&&dt.autoShowOnUpDown&&R():t&&(n===v?(wt?f.fabricate(wt,"click"):B(),q(e)):n===g&&(B(),q(e)))}function q(e){e.stopPropagation(),e.preventDefault()}function D(){if(A()){x(!0),f.fabricate(Ct,"horsey-filter");for(var e=_t.firstChild,t=0;e;)t>=vt&&f.fabricate(e,"horsey-hide"),vt>t&&(f.fabricate(e,"horsey-filter"),-1===e.className.indexOf("sey-hide")&&t++),e=e.nextSibling;wt||$(),wt||B()}}function F(e){var t=e.which||e.keyCode;t!==v&&Lt()}function z(e){var t=e.which||e.keyCode;t!==v&&setTimeout(R,0)}function G(e){var t=e.target;if(t===Ct)return!0;for(;t;){if(t===_t||t===Ct)return!0;t=t.parentNode}}function J(e){var t=e.which||e.keyCode;t===_&&B()}function W(e){G(e)||B()}function K(e){var t=e?"remove":"add";rt&&(rt.destroy(),rt=null),e||(rt=p(_t,Ct,{caret:at&&"INPUT"!==Ct.tagName}),A()||rt.sleep()),e||at&&L.activeElement!==Ct?f[t](Ct,"focus",x):x(),at?(f[t](Ct,"keypress",z),f[t](Ct,"keypress",Lt),f[t](Ct,"keydown",F),f[t](Ct,"paste",Lt),f[t](Ct,"keydown",U),dt.autoHideOnBlur&&f[t](Ct,"keydown",J)):(f[t](Ct,"click",M),f[t](C,"keydown",U)),dt.autoHideOnClick&&f[t](L,"click",W),mt&&f[t](mt,"submit",B)}function V(){K(!0),ut.contains(_t)&&ut.removeChild(_t),w.splice(w.indexOf(jt),1)}function X(t){ot?e.value=t:e.innerHTML=t}function Q(e,t){e.innerText=e.textContent=pt(t)}function Z(e,t){var n=pt(t)||"",s=ht(t)||"",i=e.toLowerCase();return h(i,n.toLowerCase())||h(i,s.toLowerCase())}function Y(e,t){for(var n="",s=!1,i=t.start;s===!1&&i>=0;)n=e.substr(i-1,t.start-i+1),s=lt.test(n),i--;return{text:s?n:null,start:i}}function et(t,n){var s=u(e),i=Y(t,s).text;return i?{input:i,suggestion:n}:void 0}function tt(t){var n=e.value,s=u(e),i=Y(n,s),r=n.substr(0,i.start),o=n.substr(i.start+i.text.length+(s.end-s.start)),a=r+t+" ";e.value=a+o,u(e,{start:a.length,end:a.length})}function nt(){throw new Error("Anchoring in editable elements is disabled by default.")}function st(){throw new Error("Anchoring in editable elements is disabled by default.")}var it=n(e);if(it)return it;var rt,ot,at,lt,ct,dt=t||{},ut=dt.appendTo||L.body,ft=dt.render||Q,pt=dt.getText||o,ht=dt.getValue||r,mt=dt.form,vt="number"==typeof dt.limit?dt.limit:1/0,gt=dt.suggestions,bt=dt.filter||Z,yt=dt.set||X,_t=l("ul","sey-list"),wt=null,Lt=c(D),Ct=e,xt={counter:0,value:null};void 0===dt.autoHideOnBlur&&(dt.autoHideOnBlur=!0),void 0===dt.autoHideOnClick&&(dt.autoHideOnClick=!0),void 0===dt.autoShowOnUpDown&&(dt.autoShowOnUpDown="INPUT"===e.tagName),dt.anchor&&(lt=new RegExp("^"+dt.anchor),ct=new RegExp(dt.anchor+"$"));var Nt={add:k,anchor:dt.anchor,clear:j,show:R,hide:B,toggle:H,destroy:V,refreshPosition:a,appendText:tt,appendHTML:st,filterAnchoredText:et,filterAnchoredHTML:nt,defaultAppendText:tt,defaultFilter:Z,defaultGetText:o,defaultGetValue:r,defaultRenderer:Q,defaultSetter:X,retarget:s,attachment:Ct,list:_t,suggestions:[]},jt={el:e,api:Nt};return s(e),w.push(jt),ut.appendChild(_t),e.setAttribute("autocomplete","off"),Array.isArray(gt)&&N(gt,!1),Nt}function i(e){return"INPUT"===e.tagName||"TEXTAREA"===e.tagName}function r(e){return a("value",e)}function o(e){return a("text",e)}function a(e,t){return t&&void 0!==t[e]?t[e]:t}function l(e,t){var n=L.createElement(e);return n.className=t,n}function c(e){return function(){setTimeout(e,0)}}function d(e){var t=e.getAttribute("contentEditable");return"false"===t?!1:"true"===t?!0:e.parentElement?d(e.parentElement):!1}var u=e("sell"),f=e("crossvent"),p=e("bullseye"),h=e("fuzzysearch"),m=8,v=13,g=27,b=38,y=40,_=9,w=[],L=document,C=L.documentElement;s.find=n,t.exports=s},{bullseye:74,crossvent:86,fuzzysearch:88,sell:89}],74:[function(e,t){"use strict";function n(e,t,n){function o(){v.sleeping=!0}function a(){return l()}function l(e){var n=t.getBoundingClientRect(),s=document.body.scrollTop||document.documentElement.scrollTop;return g?(e=g.read(),{x:(e.absolute?0:n.left)+e.x,y:(e.absolute?0:n.top)+s+e.y+20}):{x:n.left,y:n.top+s}}function c(e){d(e)}function d(n){if(h)throw new Error("Bullseye can't refresh after being destroyed. Create another instance instead.");if(g&&!n)return v.sleeping=!1,g.refresh(),void 0;var s=l(n);g||t===e||(s.y+=t.offsetHeight),e.style.left=s.x+"px",e.style.top=s.y+"px"}function u(){g&&g.destroy(),s.remove(window,"resize",m),h=!0}var f=n,p=t&&t.tagName;p||2!==arguments.length||(f=t),p||(t=e),f||(f={});var h=!1,m=i(d,30),v={update:f.autoupdateToCaret!==!1&&c},g=f.caret&&r(t,v);return d(),f.tracking!==!1&&s.add(window,"resize",m),{read:a,refresh:d,destroy:u,sleep:o}}var s=e("crossvent"),i=e("./throttle"),r=e("./tailormade");t.exports=n},{"./tailormade":83,"./throttle":84,crossvent:86}],75:[function(e,t){(function(n){"use strict";var s,i=n.document,r=e("./getSelectionRaw"),o=e("./getSelectionNullOp"),a=e("./getSelectionSynthetic"),l=e("./isHost");s=l.method(n,"getSelection")?r:"object"==typeof i.selection&&i.selection?a:o,t.exports=s}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./getSelectionNullOp":76,"./getSelectionRaw":77,"./getSelectionSynthetic":78,"./isHost":79}],76:[function(e,t){"use strict";function n(){}function s(){return{removeAllRanges:n,addRange:n}}t.exports=s},{}],77:[function(e,t){(function(e){"use strict";function n(){return e.getSelection()}t.exports=n}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],78:[function(e,t){(function(n){"use strict";function s(e){var t=this,n=e.createRange();this._selection=e,this._ranges=[],"Control"===e.type?f(t):d(n)?u(t,n):a(t)}function i(e,t){for(var n,s=y.createControlRange(),i=0,r=t.length;r>i;++i){n=c(t[i]);try{s.add(n)}catch(o){throw new Error("setRanges(): Element could not be added to control selection")}}s.select(),f(e)}function r(e,t){var n=e.getAllRanges();e.removeAllRanges();for(var s=0,i=n.length;i>s;++s)h(t,n[s])||e.addRange(n[s]);e.rangeCount||a(e)}function o(e,t){var n="start",s="end";e.anchorNode=t[n+"Container"],e.anchorOffset=t[n+"Offset"],e.focusNode=t[s+"Container"],e.focusOffset=t[s+"Offset"]}function a(e){e.anchorNode=e.focusNode=null,e.anchorOffset=e.focusOffset=0,e.rangeCount=0,e.isCollapsed=!0,e._ranges.length=0}function l(e){if(!e.length||1!==e[0].nodeType)return!1;for(var t=1,n=e.length;n>t;++t)if(!m(e[0],e[t]))return!1;return!0}function c(e){var t=e.getNodes();if(!l(t))throw new Error("getSingleElementFromRange(): range did not consist of a single element");return t[0]}function d(e){return e&&void 0!==e.text}function u(e,t){e._ranges=[t],o(e,t,!1),e.rangeCount=1,e.isCollapsed=t.collapsed}function f(e){if(e._ranges.length=0,"None"===e._selection.type)a(e);else{var t=e._selection.createRange();if(d(t))u(e,t);else{e.rangeCount=t.length;for(var n,s=0;s<e.rangeCount;++s)n=b.createRange(),n.selectNode(t.item(s)),e._ranges.push(n);e.isCollapsed=1===e.rangeCount&&e._ranges[0].collapsed,o(e,e._ranges[e.rangeCount-1],!1)}}}function p(e,t){for(var n=e._selection.createRange(),s=c(t),i=y.createControlRange(),r=0,o=n.length;o>r;++r)i.add(n.item(r));try{i.add(s)}catch(a){throw new Error("addRange(): Element could not be added to control selection")}i.select(),f(e)}function h(e,t){return e.startContainer===t.startContainer&&e.startOffset===t.startOffset&&e.endContainer===t.endContainer&&e.endOffset===t.endOffset}function m(e,t){for(var n=t;n.parentNode;){if(n.parentNode===e)return!0;n=n.parentNode}return!1}function v(){return new s(n.document.selection)}var g=e("./rangeToTextRange"),b=n.document,y=b.body,_=s.prototype;_.removeAllRanges=function(){var e;try{this._selection.empty(),"None"!==this._selection.type&&(e=y.createTextRange(),e.select(),this._selection.empty())}catch(t){}a(this)},_.addRange=function(e){"Control"===this._selection.type?p(this,e):(g(e).select(),this._ranges[0]=e,this.rangeCount=1,this.isCollapsed=this._ranges[0].collapsed,o(this,e,!1))},_.setRanges=function(e){this.removeAllRanges();var t=e.length;t>1?i(this,e):t&&this.addRange(e[0])},_.getRangeAt=function(e){if(0>e||e>=this.rangeCount)throw new Error("getRangeAt(): index out of bounds");return this._ranges[e].cloneRange()},_.removeRange=function(e){if("Control"!==this._selection.type)return r(this,e),void 0;for(var t,n=this._selection.createRange(),s=c(e),i=y.createControlRange(),o=!1,a=0,l=n.length;l>a;++a)t=n.item(a),t!==s||o?i.add(n.item(a)):o=!0;i.select(),f(this)},_.eachRange=function(e,t){var n=0,s=this._ranges.length;for(n=0;s>n;++n)if(e(this.getRangeAt(n)))return t},_.getAllRanges=function(){var e=[];return this.eachRange(function(t){e.push(t)}),e},_.setSingleRange=function(e){this.removeAllRanges(),this.addRange(e)},t.exports=v}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./rangeToTextRange":80}],79:[function(e,t){"use strict";function n(e,t){var n=typeof e[t];return"function"===n||!("object"!==n||!e[t])||"unknown"===n}function s(e,t){return"undefined"!=typeof e[t]}function i(e){return function(t,n){for(var s=n.length;s--;)if(!e(t,n[s]))return!1;return!0}}t.exports={method:n,methods:i(n),property:s,properties:i(s)}},{}],80:[function(e,t){(function(e){"use strict";function n(e){if(e.collapsed)return i({node:e.startContainer,offset:e.startOffset},!0);var t=i({node:e.startContainer,offset:e.startOffset},!0),n=i({node:e.endContainer,offset:e.endOffset},!1),s=o.createTextRange();return s.setEndPoint("StartToStart",t),s.setEndPoint("EndToEnd",n),s}function s(e){var t=e.nodeType;return 3===t||4===t||8===t}function i(e,t){var n,i,a,l,c=e.offset,d=o.createTextRange(),u=s(e.node);return u?(n=e.node,i=n.parentNode):(l=e.node.childNodes,n=c<l.length?l[c]:null,i=e.node),a=r.createElement("span"),a.innerHTML="&#feff;",n?i.insertBefore(a,n):i.appendChild(a),d.moveToElementText(a),d.collapse(!t),i.removeChild(a),u&&d[t?"moveStart":"moveEnd"]("character",c),d}var r=e.document,o=r.body;t.exports=n}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})
},{}],81:[function(e,t){"use strict";var n=e("./getSelection"),s=e("./setSelection");t.exports={get:n,set:s}},{"./getSelection":75,"./setSelection":82}],82:[function(e,t){(function(n){"use strict";function s(e){function t(){var t=i(),n=o.createRange();e.startContainer&&(e.endContainer?n.setEnd(e.endContainer,e.endOffset):n.setEnd(e.startContainer,e.startOffset),n.setStart(e.startContainer,e.startOffset),t.removeAllRanges(),t.addRange(n))}function n(){r(e).select()}o.createRange?t():n()}var i=e("./getSelection"),r=e("./rangeToTextRange"),o=n.document;t.exports=s}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./getSelection":75,"./rangeToTextRange":80}],83:[function(e,t){(function(n){"use strict";function s(e,t){function n(){}function s(){return(w?p:h)()}function o(){return C.sleeping?void 0:(C.update||n)(s())}function p(){var t=i(e),n=g(),s=m(n,t.start);return u.body.removeChild(n.mirror),s}function h(){var e=l();if(e.rangeCount){var t=e.getRangeAt(0),n="P"===t.startContainer.nodeName&&0===t.startOffset;if(n)return{x:t.startContainer.offsetLeft,y:t.startContainer.offsetTop,absolute:!0};if(t.getClientRects){var s=t.getClientRects();if(s.length>0)return{x:s[0].left,y:s[0].top,absolute:!0}}}return{x:0,y:0}}function m(t,n){var s=u.createElement("span"),i=t.mirror,r=t.computed;return b(i,v(e).substring(0,n)),"INPUT"===e.tagName&&(i.textContent=i.textContent.replace(/\s/g,"Â ")),b(s,v(e).substring(n)||"."),i.appendChild(s),{x:s.offsetLeft+parseInt(r.borderLeftWidth),y:s.offsetTop+parseInt(r.borderTopWidth)}}function v(e){return w?e.value:e.innerHTML}function g(){function t(e){i[e]=n[e]}var n=d.getComputedStyle?getComputedStyle(e):e.currentStyle,s=u.createElement("div"),i=s.style;return u.body.appendChild(s),"INPUT"!==e.tagName&&(i.wordWrap="break-word"),i.whiteSpace="pre-wrap",i.position="absolute",i.visibility="hidden",c.forEach(t),f?(i.width=parseInt(n.width)-2+"px",e.scrollHeight>parseInt(n.height)&&(i.overflowY="scroll")):i.overflow="hidden",{mirror:s,computed:n}}function b(e,t){w?e.textContent=t:e.innerHTML=t}function y(t){var n=t?"remove":"add";r[n](e,"keydown",L),r[n](e,"keyup",L),r[n](e,"input",L),r[n](e,"paste",L),r[n](e,"change",L)}function _(){y(!0)}var w="INPUT"===e.tagName||"TEXTAREA"===e.tagName,L=a(o,30),C=t||{};return y(),{read:s,refresh:L,destroy:_}}var i=e("sell"),r=e("crossvent"),o=e("seleccion"),a=e("./throttle"),l=o.get,c=["direction","boxSizing","width","height","overflowX","overflowY","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","paddingTop","paddingRight","paddingBottom","paddingLeft","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","lineHeight","fontFamily","textAlign","textTransform","textIndent","textDecoration","letterSpacing","wordSpacing"],d=n,u=document,f=null!==d.mozInnerScreenX&&void 0!==d.mozInnerScreenX;t.exports=s}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./throttle":84,crossvent:86,seleccion:81,sell:89}],84:[function(e,t){"use strict";function n(e,t){var n,s=-1/0;return function(){function i(){clearTimeout(n),n=null;var r=s+t,o=Date.now();o>r?(s=o,e()):n=setTimeout(i,r-o)}n||i()}}t.exports=n},{}],85:[function(e,t){(function(e){function n(){try{var e=new s("cat",{detail:{foo:"bar"}});return"cat"===e.type&&"bar"===e.detail.foo}catch(t){}return!1}var s=e.CustomEvent;t.exports=n()?s:"function"==typeof document.createEvent?function(e,t){var n=document.createEvent("CustomEvent");return t?n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail):n.initCustomEvent(e,!1,!1,void 0),n}:function(e,t){var n=document.createEventObject();return n.type=e,t?(n.bubbles=Boolean(t.bubbles),n.cancelable=Boolean(t.cancelable),n.detail=t.detail):(n.bubbles=!1,n.cancelable=!1,n.detail=void 0),n}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],86:[function(e,t){(function(n){"use strict";function s(e,t,n,s){return e.addEventListener(t,n,s)}function i(e,t,n){return e.attachEvent("on"+t,c(e,t,n))}function r(e,t,n,s){return e.removeEventListener(t,n,s)}function o(e,t,n){return e.detachEvent("on"+t,d(e,t,n))}function a(e,t,n){function s(){var e;return h.createEvent?(e=h.createEvent("Event"),e.initEvent(t,!0,!0)):h.createEventObject&&(e=h.createEventObject()),e}function i(){return new f(t,{detail:n})}var r=-1===p.indexOf(t)?i():s();e.dispatchEvent?e.dispatchEvent(r):e.fireEvent("on"+t,r)}function l(e,t,s){return function(t){var i=t||n.event;i.target=i.target||i.srcElement,i.preventDefault=i.preventDefault||function(){i.returnValue=!1},i.stopPropagation=i.stopPropagation||function(){i.cancelBubble=!0},i.which=i.which||i.keyCode,s.call(e,i)}}function c(e,t,n){var s=d(e,t,n)||l(e,t,n);return g.push({wrapper:s,element:e,type:t,fn:n}),s}function d(e,t,n){var s=u(e,t,n);if(s){var i=g[s].wrapper;return g.splice(s,1),i}}function u(e,t,n){var s,i;for(s=0;s<g.length;s++)if(i=g[s],i.element===e&&i.type===t&&i.fn===n)return s}var f=e("custom-event"),p=e("./eventmap"),h=document,m=s,v=r,g=[];n.addEventListener||(m=i,v=o),t.exports={add:m,remove:v,fabricate:a}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./eventmap":87,"custom-event":85}],87:[function(e,t){(function(e){"use strict";var n=[],s="",i=/^on/;for(s in e)i.test(s)&&n.push(s.slice(2));t.exports=n}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],88:[function(e,t){"use strict";function n(e,t){var n=t.length,s=e.length;if(s>n)return!1;if(s===n)return e===t;e:for(var i=0,r=0;s>i;i++){for(var o=e.charCodeAt(i);n>r;)if(t.charCodeAt(r++)===o)continue e;return!1}return!0}t.exports=n},{}],89:[function(e,t){"use strict";function n(e){return{start:e.selectionStart,end:e.selectionEnd}}function s(e){function t(t,s){return n!==e&&(n?n.focus():e.blur()),{start:t,end:s}}var n=document.activeElement;n!==e&&e.focus();var s=document.selection.createRange(),o=s.getBookmark(),a=e.value,l=i(a),c=s.parentElement();if(null===c||!r(c))return t(0,0);s.text=l+s.text+l;var d=e.value;return e.value=a,s.moveToBookmark(o),s.select(),t(d.indexOf(l),d.lastIndexOf(l)-l.length)}function i(e){var t;do t="@@marker."+Math.random()*new Date;while(-1!==e.indexOf(t));return t}function r(e){return"INPUT"===e.tagName&&"text"===e.type||"TEXTAREA"===e.tagName}function o(e,t){e.selectionStart=l(e,t.start),e.selectionEnd=l(e,t.end)}function a(e,t){var n=e.createTextRange();"end"===t.start&&"end"===t.end?(n.collapse(!1),n.select()):(n.collapse(!0),n.moveEnd("character",l(e,t.end)),n.moveStart("character",l(e,t.start)),n.select())}function l(e,t){return"end"===t?e.value.length:t||0}function c(e,t){return 2===arguments.length&&u(e,t),d(e)}var d=n,u=o;document.selection&&document.selection.createRange&&(d=s,u=a),t.exports=c},{}],90:[function(e,t){"use strict";var n=e("crossvent"),s=e("./dom"),i=e("./text"),r=["fontFamily","fontSize","fontWeight","fontStyle","letterSpacing","textTransform","wordSpacing","textIndent","webkitBoxSizing","mozBoxSizing","boxSizing","padding","border"],o=20;t.exports=function(e){function t(){var e,t,n=d();for(t=0;t<r.length;t++)e=n[r[t]],void 0!==e&&null!==e&&(u.style[r[t]]=e);u.disabled="disabled",u.style.whiteSpace="pre",u.style.position="absolute",u.style.top=u.style.left="-9999em"}function a(){var t=e.value;if(t!==u.value){i(u,t);var n=u.offsetWidth+o;e.style.width=n+"px"}}function l(t){var s=t?"remove":"add";n[s](e,"keydown",a),n[s](e,"keyup",a),n[s](e,"input",a),n[s](e,"paste",a),n[s](e,"change",a)}function c(){l(!0),u.parentElement.removeChild(u),e.style.width=""}function d(){return window.getComputedStyle?window.getComputedStyle(e):e.currentStyle}var u=s("span");return document.body.appendChild(u),t(),l(),{remap:t,refresh:a,destroy:c}}},{"./dom":91,"./text":100,crossvent:94}],91:[function(e,t){"use strict";t.exports=function(e,t){var n=document.createElement(e);return t&&(n.className=t),n}},{}],92:[function(e,t){"use strict";function n(e){var t,n;for(n=0;n<L.length;n++)if(t=L[n],t.el===e)return t.api;return null}function s(e,t){function s(t){var n=t?"remove":"add";i[n](e,"keydown",A),i[n](e,"keypress",O),i[n](e,"paste",R),i[n](it,"click",k),tt&&i[n](document.documentElement,"focus",j,!0)}function x(){return s(!0),e.value=F(),e.className=e.className.replace(_,""),it.className=it.className.replace(y,""),nt.parentElement.removeChild(nt),st.parentElement.removeChild(st),L.splice(L.indexOf(at),1),rt.destroy(),ot.destroyed=!0,ot.destroy=N(ot),ot.tags=ot.value=N(null),ot}function N(e){return function(){return e}}function j(t){t.target!==e&&(W=!0,S(!0),W=!1)}function k(t){var n=t.target;if(b.test(n.className))return B(n.parentElement,{start:"end",end:"end",remove:!0}),T(),void 0;for(var s=n,i=g.test(s.className);i===!1&&s.parentElement;)s=s.parentElement,i=g.test(s.className);i?B(s,w):n!==e&&(T(),e.focus())}function T(){B(st.lastChild,w),M([V],!0)}function S(t){return M([V],t),t&&q(st,E),i.fabricate(e,"insignia-converted"),ot}function E(e,t){nt.appendChild(t)}function A(t){var n=c(e),s=t.which||t.keyCode||t.charCode;if(s===h)nt.firstChild?B(nt.firstChild,{}):c(e,{start:0,end:0});else if(s===p)st.lastChild?B(st.lastChild,w):c(e,w);else if(s===m&&0===n.start&&nt.lastChild)B(nt.lastChild,w);else if(s!==f||0!==n.start||0!==n.end&&n.end===e.value.length||!nt.lastChild){if(s!==v||n.end!==e.value.length||!st.firstChild)return;B(st.firstChild,{})}else B(nt.lastChild,w);return t.preventDefault(),!1}function O(e){var t=e.which||e.keyCode||e.charCode;return String.fromCharCode(t)===V?(S(),e.preventDefault(),!1):void 0}function R(){setTimeout(function(){M()},0)}function M(t,n){var s=c(e),r=n?1/0:s.start,o=e.value.slice(0,r).concat(t||[]).split(V);if(!(o.length<1)){var a,l=o.pop()+e.value.slice(r),d=o.join(V).length;for(a=0;a<o.length;a++)$(nt,o[a]);H(),e.value=l,s.start-=d,s.end-=d,W!==!0&&c(e,s),rt.refresh(),i.fabricate(e,"insignia-evaluated")}}function H(){function e(e,n){Z(e,a(t))?t.push(e):n.parentElement.removeChild(n)}var t=[];q(nt,e),q(st,e)}function I(e,t){o(e,t)}function P(e){return o(e)}function $(e,t){var n=t.trim();if(0!==n.length){var s=r("span","nsg-tag");Y(s,Q(n)),K.deletion&&s.appendChild(r("span","nsg-tag-remove")),e.appendChild(s)}}function B(t,n){if(t){M([V],!0);var s=t.parentElement;if(s===nt)for(;s.lastChild!==t;)st.insertBefore(s.lastChild,st.firstChild);else for(;s.firstChild!==t;)nt.appendChild(s.firstChild);t.parentElement.removeChild(t),e.value=n.remove?"":et(t),e.focus(),c(e,n),rt.refresh()}}function U(){var t,n=e.parentElement.children;for(t=0;t<n.length;t++)if(n[t]!==e&&n[t].nodeType===u)return!0;return!1}function q(e,t){var n,s,i=a(e.children);for(n=0;n<i.length;n++)s=i[n],t(et(s),s,n)}function D(){function t(e){if(e){var t=Q(e);Z(t,a(s))&&s.push(t)}}var n,s=[],i=e.value.split(V);for(q(nt,t),n=0;n<i.length;n++)t(i[n]);return q(st,t),s}function F(){return D().join(V)}function z(e){return e.trim().toLowerCase()}function G(e,t){return-1===t.indexOf(e)}var J=n(e);if(J)return J;var W=document.activeElement!==e,K=t||{},V=K.delimiter||C;if(1!==V.length)throw new Error("Insignia expected a single-character delimiter string");var X=U(e);if(X||!d.test(e.tagName))throw new Error("Insignia expected an input element without any siblings");var Q=K.parse||z,Z=K.validate||G,Y=K.render||I,et=K.readTag||P,tt=K.convertOnFocus!==!1,nt=r("span","nsg-tags nsg-tags-before"),st=r("span","nsg-tags nsg-tags-after"),it=e.parentElement;e.className+=" nsg-input",it.className+=" nsg-editor",it.insertBefore(nt,e),it.insertBefore(st,e.nextSibling),s();var rt=l(e),ot={tags:D,value:F,convert:S,destroy:x},at={el:e,api:ot};return M([V],!0),L.push(at),W=!1,ot}e("./polyfills/String.prototype.trim"),e("./polyfills/Array.prototype.indexOf");var i=e("crossvent"),r=e("./dom"),o=e("./text"),a=e("./slice"),l=e("./autosize"),c=e("./selection"),d=/^input$/i,u=1,f=8,p=35,h=36,m=37,v=39,g=/\bnsg-tag\b/,b=/\bnsg-tag-remove\b/,y=/\bnsg-editor\b/g,_=/\bnsg-input\b/g,w={start:"end",end:"end"},L=[],C=" ";s.find=n,t.exports=s},{"./autosize":90,"./dom":91,"./polyfills/Array.prototype.indexOf":96,"./polyfills/String.prototype.trim":97,"./selection":98,"./slice":99,"./text":100,crossvent:94}],93:[function(e,t,n){arguments[4][85][0].apply(n,arguments)},{dup:85}],94:[function(e,t){(function(n){"use strict";function s(e,t,n,s){return e.addEventListener(t,n,s)}function i(e,t,n){return e.attachEvent("on"+t,c(e,t,n))}function r(e,t,n,s){return e.removeEventListener(t,n,s)}function o(e,t,n){var s=d(e,t,n);return s?e.detachEvent("on"+t,s):void 0}function a(e,t,n){function s(){var e;return h.createEvent?(e=h.createEvent("Event"),e.initEvent(t,!0,!0)):h.createEventObject&&(e=h.createEventObject()),e}function i(){return new f(t,{detail:n})}var r=-1===p.indexOf(t)?i():s();e.dispatchEvent?e.dispatchEvent(r):e.fireEvent("on"+t,r)}function l(e,t,s){return function(t){var i=t||n.event;i.target=i.target||i.srcElement,i.preventDefault=i.preventDefault||function(){i.returnValue=!1},i.stopPropagation=i.stopPropagation||function(){i.cancelBubble=!0},i.which=i.which||i.keyCode,s.call(e,i)}}function c(e,t,n){var s=d(e,t,n)||l(e,t,n);return g.push({wrapper:s,element:e,type:t,fn:n}),s}function d(e,t,n){var s=u(e,t,n);if(s){var i=g[s].wrapper;return g.splice(s,1),i}}function u(e,t,n){var s,i;for(s=0;s<g.length;s++)if(i=g[s],i.element===e&&i.type===t&&i.fn===n)return s}var f=e("custom-event"),p=e("./eventmap"),h=n.document,m=s,v=r,g=[];n.addEventListener||(m=i,v=o),t.exports={add:m,remove:v,fabricate:a}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./eventmap":95,"custom-event":93}],95:[function(e,t,n){arguments[4][87][0].apply(n,arguments)},{dup:87}],96:[function(){"use strict";Array.prototype.indexOf||(Array.prototype.indexOf=function(e,t){if(void 0===this||null===this)throw new TypeError;var n=this.length;for(t=+t||0,1/0===Math.abs(t)?t=0:0>t&&(t+=n,0>t&&(t=0));n>t;t++)if(this[t]===e)return t;return-1})},{}],97:[function(){"use strict";if(!String.prototype.trim){var e=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;String.prototype.trim=function(){return this.replace(e,"")}}},{}],98:[function(e,t){"use strict";function n(e){return{start:e.selectionStart,end:e.selectionEnd}}function s(e){function t(t,s){return n!==e&&(n?n.focus():e.blur()),{start:t,end:s}}var n=document.activeElement;n!==e&&e.focus();var s=document.selection.createRange(),o=s.getBookmark(),a=e.value,l=i(a),c=s.parentElement();if(null===c||!r(c))return t(0,0);s.text=l+s.text+l;var d=e.value;return e.value=a,s.moveToBookmark(o),s.select(),t(d.indexOf(l),d.lastIndexOf(l)-l.length)}function i(e){var t;do t="@@marker."+Math.random()*new Date;while(-1!==e.indexOf(t));return t}function r(e){return f.test(e.tagName)&&"text"===e.type||p.test(e.tagName)}function o(e,t){e.selectionStart=l(e,t.start),e.selectionEnd=l(e,t.end)}function a(e,t){var n=e.createTextRange();"end"===t.start&&"end"===t.end?(n.collapse(!1),n.select()):(n.collapse(!0),n.moveEnd("character",t.end),n.moveStart("character",t.start),n.select())}function l(e,t){return"end"===t?e.value.length:t||0}function c(e,t){return 2===arguments.length&&u(e,t),d(e)}var d=n,u=o,f=/input/i,p=/textarea/i;document.selection&&document.selection.createRange&&(d=s,u=a),t.exports=c},{}],99:[function(e,t){"use strict";function n(e){var t,n=[];for(t=0;t<e.length;t++)n.push(e[t]);return n}t.exports=n},{}],100:[function(e,t){"use strict";function n(e,t){return 2===arguments.length&&(e.innerText=e.textContent=t),"string"==typeof e.innerText?e.innerText:e.textContent}t.exports=n},{}],101:[function(e,t,n){var s=e("../pipe").Pipe,i=function(){};i.prototype.setResult=function(e){return this.result=e,this.hasResult=!0,this},i.prototype.exit=function(){return this.exiting=!0,this},i.prototype.switchTo=function(e,t){return"string"==typeof e||e instanceof s?this.nextPipe=e:(this.next=e,t&&(this.nextPipe=t)),this},i.prototype.push=function(e,t){return e.parent=this,"undefined"!=typeof t&&(e.childName=t),e.root=this.root||this,e.options=e.options||this.options,this.children?(this.children[this.children.length-1].next=e,this.children.push(e)):(this.children=[e],this.nextAfterChildren=this.next||null,this.next=e),e.next=this,this},n.Context=i},{"../pipe":115}],102:[function(e,t,n){var s=e("./context").Context,i=function(e,t){this.left=e,this.right=t,this.pipe="diff"};i.prototype=new s,n.DiffContext=i},{"./context":101}],103:[function(e,t,n){var s=e("./context").Context,i=function(e,t){this.left=e,this.delta=t,this.pipe="patch"};i.prototype=new s,n.PatchContext=i},{"./context":101}],104:[function(e,t,n){var s=e("./context").Context,i=function(e){this.delta=e,this.pipe="reverse"};i.prototype=new s,n.ReverseContext=i},{"./context":101}],105:[function(e,t){t.exports=function(e,t){var n;return"string"==typeof t&&(n=/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2})(?:\.(\d*))?(Z|([+\-])(\d{2}):(\d{2}))$/.exec(t))?new Date(Date.UTC(+n[1],+n[2]-1,+n[3],+n[4],+n[5],+n[6],+(n[7]||0))):t}},{}],106:[function(e,t,n){var s=e("./processor").Processor,i=e("./pipe").Pipe,r=e("./contexts/diff").DiffContext,o=e("./contexts/patch").PatchContext,a=e("./contexts/reverse").ReverseContext,l=e("./filters/trivial"),c=e("./filters/nested"),d=e("./filters/arrays"),u=e("./filters/dates"),f=e("./filters/texts"),p=function(e){this.processor=new s(e),this.processor.pipe(new i("diff").append(c.collectChildrenDiffFilter,l.diffFilter,u.diffFilter,f.diffFilter,c.objectsDiffFilter,d.diffFilter).shouldHaveResult()),this.processor.pipe(new i("patch").append(c.collectChildrenPatchFilter,d.collectChildrenPatchFilter,l.patchFilter,f.patchFilter,c.patchFilter,d.patchFilter).shouldHaveResult()),this.processor.pipe(new i("reverse").append(c.collectChildrenReverseFilter,d.collectChildrenReverseFilter,l.reverseFilter,f.reverseFilter,c.reverseFilter,d.reverseFilter).shouldHaveResult())};p.prototype.options=function(){return this.processor.options.apply(this.processor,arguments)},p.prototype.diff=function(e,t){return this.processor.process(new r(e,t))},p.prototype.patch=function(e,t){return this.processor.process(new o(e,t))},p.prototype.reverse=function(e){return this.processor.process(new a(e))},p.prototype.unpatch=function(e,t){return this.patch(e,this.reverse(t))},n.DiffPatcher=p},{"./contexts/diff":102,"./contexts/patch":103,"./contexts/reverse":104,"./filters/arrays":108,"./filters/dates":109,"./filters/nested":111,"./filters/texts":112,"./filters/trivial":113,"./pipe":115,"./processor":116}],107:[function(e,t,n){n.isBrowser="undefined"!=typeof window},{}],108:[function(e,t,n){function s(e,t,n,s){for(var i=0;n>i;i++)for(var r=e[i],o=0;s>o;o++){var a=t[o];if(r===a)return!0}}function i(e,t,n,s,i){var r=e[n],o=t[s];if(r===o)return!0;if("object"!=typeof r||"object"!=typeof o)return!1;var a=i.objectHash;if(!a)return i.matchByPosition&&n===s;var l,c;return"number"==typeof n?(i.hashCache1=i.hashCache1||[],l=i.hashCache1[n],"undefined"==typeof l&&(i.hashCache1[n]=l=a(r,n))):l=a(r),"undefined"==typeof l?!1:("number"==typeof s?(i.hashCache2=i.hashCache2||[],c=i.hashCache2[s],"undefined"==typeof c&&(i.hashCache2[s]=c=a(o,s))):c=a(o),"undefined"==typeof c?!1:l===c)}var r=e("../contexts/diff").DiffContext,o=e("../contexts/patch").PatchContext,a=e("../contexts/reverse").ReverseContext,l=e("./lcs"),c=3,d="function"==typeof Array.isArray?Array.isArray:function(e){return e instanceof Array},u="function"==typeof Array.prototype.indexOf?function(e,t){return e.indexOf(t)}:function(e,t){for(var n=e.length,s=0;n>s;s++)if(e[s]===t)return s;return-1},f=function(e){if(e.leftIsArray){var t,n,o,a,d={objectHash:e.options&&e.options.objectHash,matchByPosition:e.options&&e.options.matchByPosition},f=0,p=0,h=e.left,m=e.right,v=h.length,g=m.length;for(v>0&&g>0&&!d.objectHash&&"boolean"!=typeof d.matchByPosition&&(d.matchByPosition=!s(h,m,v,g));v>f&&g>f&&i(h,m,f,f,d);)t=f,a=new r(e.left[t],e.right[t]),e.push(a,t),f++;for(;v>p+f&&g>p+f&&i(h,m,v-1-p,g-1-p,d);)n=v-1-p,o=g-1-p,a=new r(e.left[n],e.right[o]),e.push(a,o),p++;var b;if(f+p===v){if(v===g)return e.setResult(void 0).exit(),void 0;for(b=b||{_t:"a"},t=f;g-p>t;t++)b[t]=[m[t]];return e.setResult(b).exit(),void 0}if(f+p===g){for(b=b||{_t:"a"},t=f;v-p>t;t++)b["_"+t]=[h[t],0,0];return e.setResult(b).exit(),void 0}delete d.hashCache1,delete d.hashCache2;var y=h.slice(f,v-p),_=m.slice(f,g-p),w=l.get(y,_,i,d),L=[];for(b=b||{_t:"a"},t=f;v-p>t;t++)u(w.indices1,t-f)<0&&(b["_"+t]=[h[t],0,0],L.push(t));var C=!0;e.options&&e.options.arrays&&e.options.arrays.detectMove===!1&&(C=!1);var x=!1;e.options&&e.options.arrays&&e.options.arrays.includeValueOnMove&&(x=!0);var N=L.length;for(t=f;g-p>t;t++){var j=u(w.indices2,t-f);if(0>j){var k=!1;if(C&&N>0)for(var T=0;N>T;T++)if(n=L[T],i(y,_,n-f,t-f,d)){b["_"+n].splice(1,2,t,c),x||(b["_"+n][0]=""),o=t,a=new r(e.left[n],e.right[o]),e.push(a,o),L.splice(T,1),k=!0;break}k||(b[t]=[m[t]])}else n=w.indices1[j]+f,o=w.indices2[j]+f,a=new r(e.left[n],e.right[o]),e.push(a,o)}e.setResult(b).exit()}};f.filterName="arrays";var p={numerically:function(e,t){return e-t},numericallyBy:function(e){return function(t,n){return t[e]-n[e]}}},h=function(e){if(e.nested&&"a"===e.delta._t){var t,n,s=e.delta,i=e.left,r=[],a=[],l=[];for(t in s)if("_t"!==t)if("_"===t[0]){if(0!==s[t][2]&&s[t][2]!==c)throw new Error("only removal or move can be applied at original array indices, invalid diff type: "+s[t][2]);r.push(parseInt(t.slice(1),10))}else 1===s[t].length?a.push({index:parseInt(t,10),value:s[t][0]}):l.push({index:parseInt(t,10),delta:s[t]});for(r=r.sort(p.numerically),t=r.length-1;t>=0;t--){n=r[t];var d=s["_"+n],u=i.splice(n,1)[0];d[2]===c&&a.push({index:d[1],value:u})}a=a.sort(p.numericallyBy("index"));var f=a.length;for(t=0;f>t;t++){var h=a[t];i.splice(h.index,0,h.value)}var m,v=l.length;if(v>0)for(t=0;v>t;t++){var g=l[t];m=new o(e.left[g.index],g.delta),e.push(m,g.index)}return e.children?(e.exit(),void 0):(e.setResult(e.left).exit(),void 0)}};h.filterName="arrays";var m=function(e){if(e&&e.children&&"a"===e.delta._t){for(var t,n=e.children.length,s=0;n>s;s++)t=e.children[s],e.left[t.childName]=t.result;e.setResult(e.left).exit()}};m.filterName="arraysCollectChildren";var v=function(e){if(!e.nested)return e.delta[2]===c&&(e.newName="_"+e.delta[1],e.setResult([e.delta[0],parseInt(e.childName.substr(1),10),c]).exit()),void 0;if("a"===e.delta._t){var t,n;for(t in e.delta)"_t"!==t&&(n=new a(e.delta[t]),e.push(n,t));e.exit()}};v.filterName="arrays";var g=function(e,t,n){if("string"==typeof t&&"_"===t[0])return parseInt(t.substr(1),10);if(d(n)&&0===n[2])return"_"+t;var s=+t;for(var i in e){var r=e[i];if(d(r))if(r[2]===c){var o=parseInt(i.substr(1),10),a=r[1];if(a===+t)return o;s>=o&&a>s?s++:o>=s&&s>a&&s--}else if(0===r[2]){var l=parseInt(i.substr(1),10);s>=l&&s++}else 1===r.length&&s>=i&&s--}return s},b=function(e){if(e&&e.children&&"a"===e.delta._t){for(var t,n=e.children.length,s={_t:"a"},i=0;n>i;i++){t=e.children[i];var r=t.newName;"undefined"==typeof r&&(r=g(e.delta,t.childName,t.result)),s[r]!==t.result&&(s[r]=t.result)}e.setResult(s).exit()}};b.filterName="arraysCollectChildren",n.diffFilter=f,n.patchFilter=h,n.collectChildrenPatchFilter=m,n.reverseFilter=v,n.collectChildrenReverseFilter=b},{"../contexts/diff":102,"../contexts/patch":103,"../contexts/reverse":104,"./lcs":110}],109:[function(e,t,n){var s=function(e){e.left instanceof Date?(e.right instanceof Date?e.left.getTime()!==e.right.getTime()?e.setResult([e.left,e.right]):e.setResult(void 0):e.setResult([e.left,e.right]),e.exit()):e.right instanceof Date&&e.setResult([e.left,e.right]).exit()};s.filterName="dates",n.diffFilter=s},{}],110:[function(e,t,n){var s=function(e,t,n,s){return e[n]===t[s]},i=function(e,t,n,s){var i,r,o=e.length,a=t.length,l=[o+1];for(i=0;o+1>i;i++)for(l[i]=[a+1],r=0;a+1>r;r++)l[i][r]=0;for(l.match=n,i=1;o+1>i;i++)for(r=1;a+1>r;r++)l[i][r]=n(e,t,i-1,r-1,s)?l[i-1][r-1]+1:Math.max(l[i-1][r],l[i][r-1]);return l},r=function(e,t,n,s,i,o){if(0===s||0===i)return{sequence:[],indices1:[],indices2:[]};if(e.match(t,n,s-1,i-1,o)){var a=r(e,t,n,s-1,i-1,o);return a.sequence.push(t[s-1]),a.indices1.push(s-1),a.indices2.push(i-1),a}return e[s][i-1]>e[s-1][i]?r(e,t,n,s,i-1,o):r(e,t,n,s-1,i,o)},o=function(e,t,n,o){o=o||{};var a=i(e,t,n||s,o),l=r(a,e,t,e.length,t.length,o);return"string"==typeof e&&"string"==typeof t&&(l.sequence=l.sequence.join("")),l};n.get=o},{}],111:[function(e,t,n){var s=e("../contexts/diff").DiffContext,i=e("../contexts/patch").PatchContext,r=e("../contexts/reverse").ReverseContext,o=function(e){if(e&&e.children){for(var t,n=e.children.length,s=e.result,i=0;n>i;i++)t=e.children[i],"undefined"!=typeof t.result&&(s=s||{},s[t.childName]=t.result);s&&e.leftIsArray&&(s._t="a"),e.setResult(s).exit()}};o.filterName="collectChildren";var a=function(e){if(!e.leftIsArray&&"object"===e.leftType){var t,n;for(t in e.left)n=new s(e.left[t],e.right[t]),e.push(n,t);for(t in e.right)"undefined"==typeof e.left[t]&&(n=new s(void 0,e.right[t]),e.push(n,t));return e.children&&0!==e.children.length?(e.exit(),void 0):(e.setResult(void 0).exit(),void 0)}};a.filterName="objects";var l=function(e){if(e.nested&&!e.delta._t){var t,n;for(t in e.delta)n=new i(e.left[t],e.delta[t]),e.push(n,t);e.exit()}};l.filterName="objects";var c=function(e){if(e&&e.children&&!e.delta._t){for(var t,n=e.children.length,s=0;n>s;s++)t=e.children[s],e.left.hasOwnProperty(t.childName)&&void 0===t.result?delete e.left[t.childName]:e.left[t.childName]!==t.result&&(e.left[t.childName]=t.result);e.setResult(e.left).exit()}};c.filterName="collectChildren";var d=function(e){if(e.nested&&!e.delta._t){var t,n;for(t in e.delta)n=new r(e.delta[t]),e.push(n,t);e.exit()}};d.filterName="objects";var u=function(e){if(e&&e.children&&!e.delta._t){for(var t,n=e.children.length,s={},i=0;n>i;i++)t=e.children[i],s[t.childName]!==t.result&&(s[t.childName]=t.result);e.setResult(s).exit()}};u.filterName="collectChildren",n.collectChildrenDiffFilter=o,n.objectsDiffFilter=a,n.patchFilter=l,n.collectChildrenPatchFilter=c,n.reverseFilter=d,n.collectChildrenReverseFilter=u},{"../contexts/diff":102,"../contexts/patch":103,"../contexts/reverse":104}],112:[function(e,t,n){var s=2,i=60,r=null,o=function(){if(!r){var t;if("undefined"!=typeof diff_match_patch)t="function"==typeof diff_match_patch?new diff_match_patch:new diff_match_patch.diff_match_patch;else if("function"==typeof e)try{var n="diff_match_patch_uncompressed",s=e("../../public/external/"+n);t=new s.diff_match_patch}catch(i){t=null}if(!t){var o=new Error("text diff_match_patch library not found");throw o.diff_match_patch_not_found=!0,o}r={diff:function(e,n){return t.patch_toText(t.patch_make(e,n))},patch:function(e,n){for(var s=t.patch_apply(t.patch_fromText(n),e),i=0;i<s[1].length;i++)if(!s[1][i]){var r=new Error("text patch failed");r.textPatchFailed=!0}return s[0]}}}return r},a=function(e){if("string"===e.leftType){var t=e.options&&e.options.textDiff&&e.options.textDiff.minLength||i;if(e.left.length<t||e.right.length<t)return e.setResult([e.left,e.right]).exit(),void 0;var n=o().diff;e.setResult([n(e.left,e.right),0,s]).exit()}};a.filterName="texts";var l=function(e){if(!e.nested&&e.delta[2]===s){var t=o().patch;e.setResult(t(e.left,e.delta[0])).exit()}};l.filterName="texts";var c=function(e){var t,n,s,i,r,o,a,l,c=null,d=/^@@ +\-(\d+),(\d+) +\+(\d+),(\d+) +@@$/;for(s=e.split("\n"),t=0,n=s.length;n>t;t++){i=s[t];var u=i.slice(0,1);"@"===u?(c=d.exec(i),o=t,a=null,l=null,s[o]="@@ -"+c[3]+","+c[4]+" +"+c[1]+","+c[2]+" @@"):"+"===u?(a=t,s[t]="-"+s[t].slice(1),"+"===s[t-1].slice(0,1)&&(r=s[t],s[t]=s[t-1],s[t-1]=r)):"-"===u&&(l=t,s[t]="+"+s[t].slice(1))}return s.join("\n")},d=function(e){e.nested||e.delta[2]===s&&e.setResult([c(e.delta[0]),0,s]).exit()};d.filterName="texts",n.diffFilter=a,n.patchFilter=l,n.reverseFilter=d},{}],113:[function(e,t,n){var s="function"==typeof Array.isArray?Array.isArray:function(e){return e instanceof Array},i=function(e){if(e.left===e.right)return e.setResult(void 0).exit(),void 0;if("undefined"==typeof e.left){if("function"==typeof e.right)throw new Error("functions are not supported");return e.setResult([e.right]).exit(),void 0}if("undefined"==typeof e.right)return e.setResult([e.left,0,0]).exit(),void 0;if("function"==typeof e.left||"function"==typeof e.right)throw new Error("functions are not supported");return e.leftType=null===e.left?"null":typeof e.left,e.rightType=null===e.right?"null":typeof e.right,e.leftType!==e.rightType?(e.setResult([e.left,e.right]).exit(),void 0):"boolean"===e.leftType||"number"===e.leftType?(e.setResult([e.left,e.right]).exit(),void 0):("object"===e.leftType&&(e.leftIsArray=s(e.left)),"object"===e.rightType&&(e.rightIsArray=s(e.right)),e.leftIsArray!==e.rightIsArray?(e.setResult([e.left,e.right]).exit(),void 0):void 0)};i.filterName="trivial";var r=function(e){return"undefined"==typeof e.delta?(e.setResult(e.left).exit(),void 0):(e.nested=!s(e.delta),e.nested?void 0:1===e.delta.length?(e.setResult(e.delta[0]).exit(),void 0):2===e.delta.length?(e.setResult(e.delta[1]).exit(),void 0):3===e.delta.length&&0===e.delta[2]?(e.setResult(void 0).exit(),void 0):void 0)};r.filterName="trivial";var o=function(e){return"undefined"==typeof e.delta?(e.setResult(e.delta).exit(),void 0):(e.nested=!s(e.delta),e.nested?void 0:1===e.delta.length?(e.setResult([e.delta[0],0,0]).exit(),void 0):2===e.delta.length?(e.setResult([e.delta[1],e.delta[0]]).exit(),void 0):3===e.delta.length&&0===e.delta[2]?(e.setResult([e.delta[0]]).exit(),void 0):void 0)};o.filterName="trivial",n.diffFilter=i,n.patchFilter=r,n.reverseFilter=o},{}],114:[function(e,t,n){var s=e("./environment"),i=e("./diffpatcher").DiffPatcher;n.DiffPatcher=i,n.create=function(e){return new i(e)},n.dateReviver=e("./date-reviver");var r;if(n.diff=function(){return r||(r=new i),r.diff.apply(r,arguments)},n.patch=function(){return r||(r=new i),r.patch.apply(r,arguments)},n.unpatch=function(){return r||(r=new i),r.unpatch.apply(r,arguments)},n.reverse=function(){return r||(r=new i),r.reverse.apply(r,arguments)},s.isBrowser)n.homepage="{{package-homepage}}",n.version="{{package-version}}";else{var o="../package.json",a=e(o);n.homepage=a.homepage,n.version=a.version;var l="./formatters",c=e(l);n.formatters=c,n.console=c.console}},{"./date-reviver":105,"./diffpatcher":106,"./environment":107}],115:[function(e,t,n){var s=function(e){this.name=e,this.filters=[]};s.prototype.process=function(e){if(!this.processor)throw new Error("add this pipe to a processor before using it");for(var t=this.debug,n=this.filters.length,s=e,i=0;n>i;i++){var r=this.filters[i];if(t&&this.log("filter: "+r.filterName),r(s),"object"==typeof s&&s.exiting){s.exiting=!1;break}}!s.next&&this.resultCheck&&this.resultCheck(s)},s.prototype.log=function(e){console.log("[jsondiffpatch] "+this.name+" pipe, "+e)},s.prototype.append=function(){return this.filters.push.apply(this.filters,arguments),this},s.prototype.prepend=function(){return this.filters.unshift.apply(this.filters,arguments),this},s.prototype.indexOf=function(e){if(!e)throw new Error("a filter name is required");for(var t=0;t<this.filters.length;t++){var n=this.filters[t];if(n.filterName===e)return t}throw new Error("filter not found: "+e)},s.prototype.list=function(){for(var e=[],t=0;t<this.filters.length;t++){var n=this.filters[t];e.push(n.filterName)}return e},s.prototype.after=function(e){var t=this.indexOf(e),n=Array.prototype.slice.call(arguments,1);if(!n.length)throw new Error("a filter is required");return n.unshift(t+1,0),Array.prototype.splice.apply(this.filters,n),this},s.prototype.before=function(e){var t=this.indexOf(e),n=Array.prototype.slice.call(arguments,1);if(!n.length)throw new Error("a filter is required");return n.unshift(t,0),Array.prototype.splice.apply(this.filters,n),this},s.prototype.clear=function(){return this.filters.length=0,this},s.prototype.shouldHaveResult=function(e){if(e===!1)return this.resultCheck=null,void 0;
if(!this.resultCheck){var t=this;return this.resultCheck=function(e){if(!e.hasResult){console.log(e);var n=new Error(t.name+" failed");throw n.noResult=!0,n}},this}},n.Pipe=s},{}],116:[function(e,t,n){var s=function(e){this.selfOptions=e,this.pipes={}};s.prototype.options=function(e){return e&&(this.selfOptions=e),this.selfOptions},s.prototype.pipe=function(e,t){if("string"==typeof e){if("undefined"==typeof t)return this.pipes[e];this.pipes[e]=t}if(e&&e.name){if(t=e,t.processor===this)return t;this.pipes[t.name]=t}return t.processor=this,t},s.prototype.process=function(e,t){var n=e;n.options=this.options();for(var s,i,r=t||e.pipe||"default";r;)"undefined"!=typeof n.nextAfterChildren&&(n.next=n.nextAfterChildren,n.nextAfterChildren=null),"string"==typeof r&&(r=this.pipe(r)),r.process(n),i=n,s=r,r=null,n&&n.next&&(n=n.next,r=i.nextPipe||n.pipe||s);return n.hasResult?n.result:void 0},n.Processor=s},{}],117:[function(e,t){function n(){}function s(e){var t={}.toString.call(e);switch(t){case"[object File]":case"[object Blob]":case"[object FormData]":return!0;default:return!1}}function i(e){return e===Object(e)}function r(e){if(!i(e))return e;var t=[];for(var n in e)null!=e[n]&&t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.join("&")}function o(e){for(var t,n,s={},i=e.split("&"),r=0,o=i.length;o>r;++r)n=i[r],t=n.split("="),s[decodeURIComponent(t[0])]=decodeURIComponent(t[1]);return s}function a(e){var t,n,s,i,r=e.split(/\r?\n/),o={};r.pop();for(var a=0,l=r.length;l>a;++a)n=r[a],t=n.indexOf(":"),s=n.slice(0,t).toLowerCase(),i=v(n.slice(t+1)),o[s]=i;return o}function l(e){return e.split(/ *; */).shift()}function c(e){return m(e.split(/ *; */),function(e,t){var n=t.split(/ *= */),s=n.shift(),i=n.shift();return s&&i&&(e[s]=i),e},{})}function d(e,t){t=t||{},this.req=e,this.xhr=this.req.xhr,this.text="HEAD"!=this.req.method&&(""===this.xhr.responseType||"text"===this.xhr.responseType)||"undefined"==typeof this.xhr.responseType?this.xhr.responseText:null,this.statusText=this.req.xhr.statusText,this.setStatusProperties(this.xhr.status),this.header=this.headers=a(this.xhr.getAllResponseHeaders()),this.header["content-type"]=this.xhr.getResponseHeader("content-type"),this.setHeaderProperties(this.header),this.body="HEAD"!=this.req.method?this.parseBody(this.text?this.text:this.xhr.response):null}function u(e,t){var n=this;h.call(this),this._query=this._query||[],this.method=e,this.url=t,this.header={},this._header={},this.on("end",function(){var e=null,t=null;try{t=new d(n)}catch(s){return e=new Error("Parser is unable to parse the response"),e.parse=!0,e.original=s,n.callback(e)}if(n.emit("response",t),e)return n.callback(e,t);if(t.status>=200&&t.status<300)return n.callback(e,t);var i=new Error(t.statusText||"Unsuccessful HTTP response");i.original=e,i.response=t,i.status=t.status,n.callback(i,t)})}function f(e,t){return"function"==typeof t?new u("GET",e).end(t):1==arguments.length?new u("GET",e):new u(e,t)}var p,h=e("emitter"),m=e("reduce");p="undefined"!=typeof window?window:"undefined"!=typeof self?self:this,f.getXHR=function(){if(!(!p.XMLHttpRequest||p.location&&"file:"==p.location.protocol&&p.ActiveXObject))return new XMLHttpRequest;try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(e){}return!1};var v="".trim?function(e){return e.trim()}:function(e){return e.replace(/(^\s*|\s*$)/g,"")};f.serializeObject=r,f.parseString=o,f.types={html:"text/html",json:"application/json",xml:"application/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"},f.serialize={"application/x-www-form-urlencoded":r,"application/json":JSON.stringify},f.parse={"application/x-www-form-urlencoded":o,"application/json":JSON.parse},d.prototype.get=function(e){return this.header[e.toLowerCase()]},d.prototype.setHeaderProperties=function(){var e=this.header["content-type"]||"";this.type=l(e);var t=c(e);for(var n in t)this[n]=t[n]},d.prototype.parse=function(e){return this.parser=e,this},d.prototype.parseBody=function(e){var t=this.parser||f.parse[this.type];return t&&e&&(e.length||e instanceof Object)?t(e):null},d.prototype.setStatusProperties=function(e){1223===e&&(e=204);var t=e/100|0;this.status=this.statusCode=e,this.statusType=t,this.info=1==t,this.ok=2==t,this.clientError=4==t,this.serverError=5==t,this.error=4==t||5==t?this.toError():!1,this.accepted=202==e,this.noContent=204==e,this.badRequest=400==e,this.unauthorized=401==e,this.notAcceptable=406==e,this.notFound=404==e,this.forbidden=403==e},d.prototype.toError=function(){var e=this.req,t=e.method,n=e.url,s="cannot "+t+" "+n+" ("+this.status+")",i=new Error(s);return i.status=this.status,i.method=t,i.url=n,i},f.Response=d,h(u.prototype),u.prototype.use=function(e){return e(this),this},u.prototype.timeout=function(e){return this._timeout=e,this},u.prototype.clearTimeout=function(){return this._timeout=0,clearTimeout(this._timer),this},u.prototype.abort=function(){return this.aborted?void 0:(this.aborted=!0,this.xhr.abort(),this.clearTimeout(),this.emit("abort"),this)},u.prototype.set=function(e,t){if(i(e)){for(var n in e)this.set(n,e[n]);return this}return this._header[e.toLowerCase()]=t,this.header[e]=t,this},u.prototype.unset=function(e){return delete this._header[e.toLowerCase()],delete this.header[e],this},u.prototype.getHeader=function(e){return this._header[e.toLowerCase()]},u.prototype.type=function(e){return this.set("Content-Type",f.types[e]||e),this},u.prototype.accept=function(e){return this.set("Accept",f.types[e]||e),this},u.prototype.auth=function(e,t){var n=btoa(e+":"+t);return this.set("Authorization","Basic "+n),this},u.prototype.query=function(e){return"string"!=typeof e&&(e=r(e)),e&&this._query.push(e),this},u.prototype.field=function(e,t){return this._formData||(this._formData=new p.FormData),this._formData.append(e,t),this},u.prototype.attach=function(e,t,n){return this._formData||(this._formData=new p.FormData),this._formData.append(e,t,n),this},u.prototype.send=function(e){var t=i(e),n=this.getHeader("Content-Type");if(t&&i(this._data))for(var r in e)this._data[r]=e[r];else"string"==typeof e?(n||this.type("form"),n=this.getHeader("Content-Type"),this._data="application/x-www-form-urlencoded"==n?this._data?this._data+"&"+e:e:(this._data||"")+e):this._data=e;return!t||s(e)?this:(n||this.type("json"),this)},u.prototype.callback=function(e,t){var n=this._callback;this.clearTimeout(),n(e,t)},u.prototype.crossDomainError=function(){var e=new Error("Origin is not allowed by Access-Control-Allow-Origin");e.crossDomain=!0,this.callback(e)},u.prototype.timeoutError=function(){var e=this._timeout,t=new Error("timeout of "+e+"ms exceeded");t.timeout=e,this.callback(t)},u.prototype.withCredentials=function(){return this._withCredentials=!0,this},u.prototype.end=function(e){var t=this,i=this.xhr=f.getXHR(),r=this._query.join("&"),o=this._timeout,a=this._formData||this._data;this._callback=e||n,i.onreadystatechange=function(){if(4==i.readyState){var e;try{e=i.status}catch(n){e=0}if(0==e){if(t.timedout)return t.timeoutError();if(t.aborted)return;return t.crossDomainError()}t.emit("end")}};var l=function(e){e.total>0&&(e.percent=e.loaded/e.total*100),t.emit("progress",e)};this.hasListeners("progress")&&(i.onprogress=l);try{i.upload&&this.hasListeners("progress")&&(i.upload.onprogress=l)}catch(c){}if(o&&!this._timer&&(this._timer=setTimeout(function(){t.timedout=!0,t.abort()},o)),r&&(r=f.serializeObject(r),this.url+=~this.url.indexOf("?")?"&"+r:"?"+r),i.open(this.method,this.url,!0),this._withCredentials&&(i.withCredentials=!0),"GET"!=this.method&&"HEAD"!=this.method&&"string"!=typeof a&&!s(a)){var d=this.getHeader("Content-Type"),u=f.serialize[d?d.split(";")[0]:""];u&&(a=u(a))}for(var p in this.header)null!=this.header[p]&&i.setRequestHeader(p,this.header[p]);return this.emit("request",this),i.send(a),this},u.prototype.then=function(e,t){return this.end(function(n,s){n?t(n):e(s)})},f.Request=u,f.get=function(e,t,n){var s=f("GET",e);return"function"==typeof t&&(n=t,t=null),t&&s.query(t),n&&s.end(n),s},f.head=function(e,t,n){var s=f("HEAD",e);return"function"==typeof t&&(n=t,t=null),t&&s.send(t),n&&s.end(n),s},f.del=function(e,t){var n=f("DELETE",e);return t&&n.end(t),n},f.patch=function(e,t,n){var s=f("PATCH",e);return"function"==typeof t&&(n=t,t=null),t&&s.send(t),n&&s.end(n),s},f.post=function(e,t,n){var s=f("POST",e);return"function"==typeof t&&(n=t,t=null),t&&s.send(t),n&&s.end(n),s},f.put=function(e,t,n){var s=f("PUT",e);return"function"==typeof t&&(n=t,t=null),t&&s.send(t),n&&s.end(n),s},t.exports=f},{emitter:118,reduce:119}],118:[function(e,t){function n(e){return e?s(e):void 0}function s(e){for(var t in n.prototype)e[t]=n.prototype[t];return e}t.exports=n,n.prototype.on=n.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks[e]=this._callbacks[e]||[]).push(t),this},n.prototype.once=function(e,t){function n(){s.off(e,n),t.apply(this,arguments)}var s=this;return this._callbacks=this._callbacks||{},n.fn=t,this.on(e,n),this},n.prototype.off=n.prototype.removeListener=n.prototype.removeAllListeners=n.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n=this._callbacks[e];if(!n)return this;if(1==arguments.length)return delete this._callbacks[e],this;for(var s,i=0;i<n.length;i++)if(s=n[i],s===t||s.fn===t){n.splice(i,1);break}return this},n.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks[e];if(n){n=n.slice(0);for(var s=0,i=n.length;i>s;++s)n[s].apply(this,t)}return this},n.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks[e]||[]},n.prototype.hasListeners=function(e){return!!this.listeners(e).length}},{}],119:[function(e,t){t.exports=function(e,t,n){for(var s=0,i=e.length,r=3==arguments.length?n:e[s++];i>s;)r=t.call(null,r,e[s],++s,e);return r}},{}],120:[function(e,t,n){arguments[4][23][0].apply(n,arguments)},{dup:23}],121:[function(e,t,n){arguments[4][24][0].apply(n,arguments)},{"./handle-dom":122,"./handle-swal-dom":124,"./utils":127,dup:24}],122:[function(e,t,n){arguments[4][25][0].apply(n,arguments)},{dup:25}],123:[function(e,t,n){arguments[4][26][0].apply(n,arguments)},{"./handle-dom":122,"./handle-swal-dom":124,dup:26}],124:[function(e,t,n){arguments[4][27][0].apply(n,arguments)},{"./default-params":120,"./handle-dom":122,"./injected-html":125,"./utils":127,dup:27}],125:[function(e,t,n){arguments[4][28][0].apply(n,arguments)},{dup:28}],126:[function(e,t,n){arguments[4][29][0].apply(n,arguments)},{"./handle-dom":122,"./handle-swal-dom":124,"./utils":127,dup:29}],127:[function(e,t,n){arguments[4][30][0].apply(n,arguments)},{dup:30}],128:[function(e,t,n){arguments[4][31][0].apply(n,arguments)},{"./modules/default-params":120,"./modules/handle-click":121,"./modules/handle-dom":122,"./modules/handle-key":123,"./modules/handle-swal-dom":124,"./modules/set-params":126,"./modules/utils":127,dup:31}],129:[function(e,t){var n,s,i,r;r="asset.framesia.com",i="https://framesia.com/",n="https://"+r+"/asset/frms/",s="https://"+r+"/fr-img/",t.exports={siteUrl:i,assetUrl:n,imgUrl:s}},{}],130:[function(e,t,n){(function(s){!function(e){if("object"==typeof n&&"undefined"!=typeof t)t.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var i;"undefined"!=typeof window?i=window:"undefined"!=typeof s?i=s:"undefined"!=typeof self&&(i=self),i.jade=e()}}(function(){return function t(n,s,i){function r(a,l){if(!s[a]){if(!n[a]){var c="function"==typeof e&&e;if(!l&&c)return c(a,!0);if(o)return o(a,!0);var d=new Error("Cannot find module '"+a+"'");throw d.code="MODULE_NOT_FOUND",d}var u=s[a]={exports:{}};n[a][0].call(u.exports,function(e){var t=n[a][1][e];return r(t?t:e)},u,u.exports,t,n,s,i)}return s[a].exports}for(var o="function"==typeof e&&e,a=0;a<i.length;a++)r(i[a]);return r}({1:[function(e,t,n){"use strict";function s(e){return null!=e&&""!==e}function i(e){return(Array.isArray(e)?e.map(i):e&&"object"==typeof e?Object.keys(e).filter(function(t){return e[t]}):[e]).filter(s).join(" ")}n.merge=function r(e,t){if(1===arguments.length){for(var n=e[0],i=1;i<e.length;i++)n=r(n,e[i]);return n}var o=e["class"],a=t["class"];(o||a)&&(o=o||[],a=a||[],Array.isArray(o)||(o=[o]),Array.isArray(a)||(a=[a]),e["class"]=o.concat(a).filter(s));for(var l in t)"class"!=l&&(e[l]=t[l]);return e},n.joinClasses=i,n.cls=function(e,t){for(var s=[],r=0;r<e.length;r++)t&&t[r]?s.push(n.escape(i([e[r]]))):s.push(i(e[r]));var o=i(s);return o.length?' class="'+o+'"':""},n.style=function(e){return e&&"object"==typeof e?Object.keys(e).map(function(t){return t+":"+e[t]}).join(";"):e},n.attr=function(e,t,s,i){return"style"===e&&(t=n.style(t)),"boolean"==typeof t||null==t?t?" "+(i?e:e+'="'+e+'"'):"":0==e.indexOf("data")&&"string"!=typeof t?(-1!==JSON.stringify(t).indexOf("&")&&console.warn("Since Jade 2.0.0, ampersands (`&`) in data attributes will be escaped to `&amp;`"),t&&"function"==typeof t.toISOString&&console.warn("Jade will eliminate the double quotes around dates in ISO form after 2.0.0")," "+e+"='"+JSON.stringify(t).replace(/'/g,"&apos;")+"'"):s?(t&&"function"==typeof t.toISOString&&console.warn("Jade will stringify dates in ISO form after 2.0.0")," "+e+'="'+n.escape(t)+'"'):(t&&"function"==typeof t.toISOString&&console.warn("Jade will stringify dates in ISO form after 2.0.0")," "+e+'="'+t+'"')},n.attrs=function(e,t){var s=[],r=Object.keys(e);if(r.length)for(var o=0;o<r.length;++o){var a=r[o],l=e[a];"class"==a?(l=i(l))&&s.push(" "+a+'="'+l+'"'):s.push(n.attr(a,l,!1,t))}return s.join("")},n.escape=function(e){var t=String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;");return t===""+e?e:t},n.rethrow=function o(t,n,s,i){if(!(t instanceof Error))throw t;if(!("undefined"==typeof window&&n||i))throw t.message+=" on line "+s,t;try{i=i||e("fs").readFileSync(n,"utf8")}catch(r){o(t,null,s)}var a=3,l=i.split("\n"),c=Math.max(s-a,0),d=Math.min(l.length,s+a),a=l.slice(c,d).map(function(e,t){var n=t+c+1;return(n==s?"  > ":"    ")+n+"| "+e}).join("\n");throw t.path=n,t.message=(n||"Jade")+":"+s+"\n"+a+"\n\n"+t.message,t}},{fs:2}],2:[function(){},{}]},{},[1])(1)})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{fs:1}],131:[function(e,t){var n=e("jade/runtime");t.exports=function(e){var t,s=[],i=e||{};return function(e,i){i&&function(){var r=i;if("number"==typeof r.length)for(var o=0,a=r.length;a>o;o++){var l=r[o];s.push('<br/><span height="100%" class="i-user__ava--sq"><img'+n.attr("src",""+e+"col/"+l._id+"-50.jpg",!0,!1)+'/></span><span class="i-user--footer__name text-green"><a'+n.attr("href","/c/"+l.username,!0,!1)+">"+n.escape(null==(t=l.name)?"":t)+'</a></span><p class="i-user--footer__desc">'+n.escape(null==(t=l.description)?"":t)+'</p><p class="i-user--footer__username"><a'+n.attr("href","/c/"+l.username,!0,!1)+">/"+n.escape(null==(t=l.username)?"":t)+'</a></p><div class="divider"></div><br/>')}else{var a=0;for(var o in r){a++;var l=r[o];s.push('<br/><span height="100%" class="i-user__ava--sq"><img'+n.attr("src",""+e+"col/"+l._id+"-50.jpg",!0,!1)+'/></span><span class="i-user--footer__name text-green"><a'+n.attr("href","/c/"+l.username,!0,!1)+">"+n.escape(null==(t=l.name)?"":t)+'</a></span><p class="i-user--footer__desc">'+n.escape(null==(t=l.description)?"":t)+'</p><p class="i-user--footer__username"><a'+n.attr("href","/c/"+l.username,!0,!1)+">/"+n.escape(null==(t=l.username)?"":t)+'</a></p><div class="divider"></div><br/>')}}}.call(this)}.call(this,"IMG_URL"in i?i.IMG_URL:"undefined"!=typeof IMG_URL?IMG_URL:void 0,"collections"in i?i.collections:"undefined"!=typeof collections?collections:void 0,"undefined"in i?i.undefined:void 0),s.join("")}},{"jade/runtime":130}],132:[function(e,t){var n=e("jade/runtime");t.exports=function(e){var t,s=[],i={},r=e||{};return function(e,r,o,a,l,c,d){i.time=t=function(i){this&&this.block,this&&this.attributes||{};i=new e(i);var r=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],c=o.floor((1*new e-1*i)/1e3),d=o.floor(c/60),u=o.floor(d/60),f=o.floor(u/24),p=r[i.getMonth()],h=i.getFullYear(),i=i.getDate();f>7?s.push("<span>at "+n.escape(null==(t=i)?"":t)+" "+n.escape(null==(t=p)?"":t)+" "+n.escape(null==(t=h)?"":t)+"</span>"):f>=1?s.push("<span>"+n.escape(null==(t=l("%d day ago","%d days ago",f))?"":t)+"</span>"):u>=1?s.push("<span>"+n.escape(null==(t=l("%d hour ago","%d hours ago",u))?"":t)+"</span>"):d>=1?s.push("<span>"+n.escape(null==(t=l("%d minute ago","%d minutes ago",d))?"":t)+"</span>"):s.push("<span>"+n.escape(null==(t=a("Just now"))?"":t)+"</span>")},function(){var e=c;if("number"==typeof e.length)for(var o=0,a=e.length;a>o;o++){var l=e[o];s.push("<div"+n.attr("id",""+l._id,!0,!1)+' class="b-comment__item"><div class="i-user--inline"><span class="i-user--inline__ava"><img'+n.attr("src",""+r+"ava/"+l.user._id+"-50.jpg",!0,!1)+'/></span><span class="i-user--inline__name"><a'+n.attr("href","/"+l.user.username,!0,!1)+">"+n.escape(null==(t=l.user.name)?"":t)+'</a></span><span class="b-comment__date i-user--inline__mod">'),i.time(l.created_at),s.push("</span></div>"),l.is_published||s.push('<button class="i-button i-button--small i-button--w-green pull-right is-private">Private</button>'),s.push('<div class="b-comment__content">'+(null==(t=l.content.replace(/@([a-z0-9_]{3,16})/g,"<a href='/$1'>@$1</a>"))?"":t)+'<div class="b-post__button-wrap">'),d?(s.push("<button"+n.attr("data-comment-id",""+l._id,!0,!1)+n.cls(["b-post__button","js-comment-love",""+(l.is_loving?"is-loving":"")],[null,null,!0])+"><b>"+n.escape(null==(t=l.love_count)?"":t)+'</b><i class="f-icon-love"></i></button><button'+n.attr("data-username",""+l.user.username,!0,!1)+n.attr("data-comment-id",""+l._id,!0,!1)+' class="b-post__button js-comment-reply"><i class="f-icon-reply"></i></button>'),l.is_yours&&s.push("<button"+n.attr("data-comment-id",""+l._id,!0,!1)+' class="b-post__button i-button--small js-comment-delete pull-right"><i class="icon-del"></i></button>')):s.push('<button class="b-post__button"><b>'+n.escape(null==(t=l.love_count)?"":t)+'</b><i class="f-icon-love"></i></button>'),s.push("</div></div></div>")}else{var a=0;for(var o in e){a++;var l=e[o];s.push("<div"+n.attr("id",""+l._id,!0,!1)+' class="b-comment__item"><div class="i-user--inline"><span class="i-user--inline__ava"><img'+n.attr("src",""+r+"ava/"+l.user._id+"-50.jpg",!0,!1)+'/></span><span class="i-user--inline__name"><a'+n.attr("href","/"+l.user.username,!0,!1)+">"+n.escape(null==(t=l.user.name)?"":t)+'</a></span><span class="b-comment__date i-user--inline__mod">'),i.time(l.created_at),s.push("</span></div>"),l.is_published||s.push('<button class="i-button i-button--small i-button--w-green pull-right is-private">Private</button>'),s.push('<div class="b-comment__content">'+(null==(t=l.content.replace(/@([a-z0-9_]{3,16})/g,"<a href='/$1'>@$1</a>"))?"":t)+'<div class="b-post__button-wrap">'),d?(s.push("<button"+n.attr("data-comment-id",""+l._id,!0,!1)+n.cls(["b-post__button","js-comment-love",""+(l.is_loving?"is-loving":"")],[null,null,!0])+"><b>"+n.escape(null==(t=l.love_count)?"":t)+'</b><i class="f-icon-love"></i></button><button'+n.attr("data-username",""+l.user.username,!0,!1)+n.attr("data-comment-id",""+l._id,!0,!1)+' class="b-post__button js-comment-reply"><i class="f-icon-reply"></i></button>'),l.is_yours&&s.push("<button"+n.attr("data-comment-id",""+l._id,!0,!1)+' class="b-post__button i-button--small js-comment-delete pull-right"><i class="icon-del"></i></button>')):s.push('<button class="b-post__button"><b>'+n.escape(null==(t=l.love_count)?"":t)+'</b><i class="f-icon-love"></i></button>'),s.push("</div></div></div>")}}}.call(this)}.call(this,"Date"in r?r.Date:"undefined"!=typeof Date?Date:void 0,"IMG_URL"in r?r.IMG_URL:"undefined"!=typeof IMG_URL?IMG_URL:void 0,"Math"in r?r.Math:"undefined"!=typeof Math?Math:void 0,"__"in r?r.__:"undefined"!=typeof __?__:void 0,"__n"in r?r.__n:"undefined"!=typeof __n?__n:void 0,"comments"in r?r.comments:"undefined"!=typeof comments?comments:void 0,"is_login"in r?r.is_login:"undefined"!=typeof is_login?is_login:void 0,"undefined"in r?r.undefined:void 0),s.join("")}},{"jade/runtime":130}],133:[function(e,t){var n=e("jade/runtime");t.exports=function(e){var t,s=[],i={},r=e||{};return function(e,r,o,a,l,c){i.time=t=function(i){this&&this.block,this&&this.attributes||{};i=new e(i);var r=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],c=o.floor((1*new e-1*i)/1e3),d=o.floor(c/60),u=o.floor(d/60),f=o.floor(u/24),p=r[i.getMonth()],h=i.getFullYear(),i=i.getDate();f>7?s.push("<span>at "+n.escape(null==(t=i)?"":t)+" "+n.escape(null==(t=p)?"":t)+" "+n.escape(null==(t=h)?"":t)+"</span>"):f>=1?s.push("<span>"+n.escape(null==(t=l("%d day ago","%d days ago",f))?"":t)+"</span>"):u>=1?s.push("<span>"+n.escape(null==(t=l("%d hour ago","%d hours ago",u))?"":t)+"</span>"):d>=1?s.push("<span>"+n.escape(null==(t=l("%d minute ago","%d minutes ago",d))?"":t)+"</span>"):s.push("<span>"+n.escape(null==(t=a("Just now"))?"":t)+"</span>")},function(){var e=c;if("number"==typeof e.length)for(var o=0,l=e.length;l>o;o++){var d=e[o],u="",f="",p="";switch(d.notif_type){case"love-post":u="/p/"+d.object.post_id.slug,f=a("loved your article"),p=d.object.post_id.title;break;case"love-comment":u="/p/"+d.object.post_id.slug+"?comment="+d.object.comment_id,f=a("loved your comment"),p=d.object.comment_id.content;break;case"follow":u="/u/"+d.from.username,f=a("following you");break;case"comment":u="/p/"+d.object.post_id.slug+"?comment="+d.object.comment_id,f=a("commented your article"),p=d.object.comment_id.content;break;case"mention-comment":u="/p/"+d.object.post_id.slug+"?comment="+d.object.comment_id,f=a("mentioned you"),p=d.object.comment_id.content;break;case"repost":u="/p/"+d.object.post_id.slug,f=a("reposted your article"),p=d.object.post_id.title;break;case"respond":u="/p/"+d.object.post_id.slug,f=a("responded your article"),p=d.object.post_id.title;break;case"":u="/p/"+d.object.post_id.slug,f=a("responded your article"),p=d.object.post_id.title}s.push("<div"+n.attr("data-notif-id",""+d._id,!0,!1)+n.cls(["b-notif__item",""+(1==d.is_read?"is-read":"")],[null,!0])+"><a"+n.attr("href",""+u,!0,!1)+'><span class="i-user--inline__ava"><img'+n.attr("src",""+r+"ava/"+d.from._id+"-50.jpg",!0,!1)+'/></span><span class="b-notif__user">'+n.escape(null==(t=d.from.name)?"":t)+" </span><span> "+n.escape(null==(t=f)?"":t)+"</span><span> &middot;  </span>"),i.time(d.created_at),s.push('<br/><div class="b-notif__data"><b>'+n.escape(null==(t=p)?"":t)+'</b></div><div class="clear"></div></a></div>')}else{var l=0;for(var o in e){l++;var d=e[o],u="",f="",p="";switch(d.notif_type){case"love-post":u="/p/"+d.object.post_id.slug,f=a("loved your article"),p=d.object.post_id.title;break;case"love-comment":u="/p/"+d.object.post_id.slug+"?comment="+d.object.comment_id,f=a("loved your comment"),p=d.object.comment_id.content;break;case"follow":u="/u/"+d.from.username,f=a("following you");break;case"comment":u="/p/"+d.object.post_id.slug+"?comment="+d.object.comment_id,f=a("commented your article"),p=d.object.comment_id.content;break;case"mention-comment":u="/p/"+d.object.post_id.slug+"?comment="+d.object.comment_id,f=a("mentioned you"),p=d.object.comment_id.content;break;case"repost":u="/p/"+d.object.post_id.slug,f=a("reposted your article"),p=d.object.post_id.title;break;case"respond":u="/p/"+d.object.post_id.slug,f=a("responded your article"),p=d.object.post_id.title;break;case"":u="/p/"+d.object.post_id.slug,f=a("responded your article"),p=d.object.post_id.title}s.push("<div"+n.attr("data-notif-id",""+d._id,!0,!1)+n.cls(["b-notif__item",""+(1==d.is_read?"is-read":"")],[null,!0])+"><a"+n.attr("href",""+u,!0,!1)+'><span class="i-user--inline__ava"><img'+n.attr("src",""+r+"ava/"+d.from._id+"-50.jpg",!0,!1)+'/></span><span class="b-notif__user">'+n.escape(null==(t=d.from.name)?"":t)+" </span><span> "+n.escape(null==(t=f)?"":t)+"</span><span> &middot;  </span>"),i.time(d.created_at),s.push('<br/><div class="b-notif__data"><b>'+n.escape(null==(t=p)?"":t)+'</b></div><div class="clear"></div></a></div>')}}}.call(this)}.call(this,"Date"in r?r.Date:"undefined"!=typeof Date?Date:void 0,"IMG_URL"in r?r.IMG_URL:"undefined"!=typeof IMG_URL?IMG_URL:void 0,"Math"in r?r.Math:"undefined"!=typeof Math?Math:void 0,"__"in r?r.__:"undefined"!=typeof __?__:void 0,"__n"in r?r.__n:"undefined"!=typeof __n?__n:void 0,"notifs"in r?r.notifs:"undefined"!=typeof notifs?notifs:void 0,"undefined"in r?r.undefined:void 0),s.join("")}},{"jade/runtime":130}],134:[function(e,t){var n=e("jade/runtime");t.exports=function(e){var t,s=[],i={},r=e||{};return function(e,r,o,a,l){i.time=t=function(i){this&&this.block,this&&this.attributes||{};i=new e(i);var l=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],c=r.floor((1*new e-1*i)/1e3),d=r.floor(c/60),u=r.floor(d/60),f=r.floor(u/24),p=l[i.getMonth()],h=i.getFullYear(),i=i.getDate();f>7?s.push("<span>at "+n.escape(null==(t=i)?"":t)+" "+n.escape(null==(t=p)?"":t)+" "+n.escape(null==(t=h)?"":t)+"</span>"):f>=1?s.push("<span>"+n.escape(null==(t=a("%d day ago","%d days ago",f))?"":t)+"</span>"):u>=1?s.push("<span>"+n.escape(null==(t=a("%d hour ago","%d hours ago",u))?"":t)+"</span>"):d>=1?s.push("<span>"+n.escape(null==(t=a("%d minute ago","%d minutes ago",d))?"":t)+"</span>"):s.push("<span>"+n.escape(null==(t=o("Just now"))?"":t)+"</span>")},function(){var e=l;if("number"==typeof e.length)for(var a=0,c=e.length;c>a;a++){var d=e[a];s.push("<div"+n.attr("data-edited-at",""+d.edited_at,!0,!1)+' class="b-post__item"><div class="i-user__mod"><span>'+n.escape(null==(t=o("Created at"))?"":t)+" "),i.time(d.created_at),s.push("</span><span>&nbsp;&nbsp;&middot;&nbsp;&nbsp;</span><span>"+n.escape(null==(t=o("Last edited at"))?"":t)+" "),i.time(d.edited_at),s.push("</span><span>&nbsp;&nbsp;&middot;&nbsp;&nbsp;</span><span>"+n.escape(null==(t=d.word_count)?"":t)+" "+n.escape(null==(t=o("words"))?"":t)+"</span><span>&nbsp;&nbsp;&middot;&nbsp;&nbsp;</span>");var u=r.round(d.reading_time/6e4);s.push("<span>"+n.escape(null==(t=0==u?1:u)?"":t)+" "+n.escape(null==(t=o("min read"))?"":t)+"</span><br/><br/></div><a"+n.attr("href","/p/"+d._id,!0,!1)+'><h2 class="b-post__title">'+(null==(t=d.title)?"":t)+'</h2><p class="b-post__subtitle">'+(null==(t=d.subtitle)?"":t)+"</p></a><a"+n.attr("href","/p/"+d._id+"/edit",!0,!1)+'><button class="i-button i-button--small i-button--w-blue">'+n.escape(null==(t=o("Edit"))?"":t)+"</button></a>"),d.is_published||s.push('<button class="i-button i-button--small i-button--w-green js-publish-article">'+n.escape(null==(t=o("Publish"))?"":t)+"</button>"),s.push('<button class="i-button i-button--small i-button--w-red pull-right js-delete-article">'+n.escape(null==(t=o("Delete"))?"":t)+'</button><form method="POST" action="/p/delete-article" class="js-delete-article-form"><input name="id" type="hidden"'+n.attr("value",""+d._id,!0,!1)+"/>"),d.is_published?s.push('<input name="url" type="hidden" value="/me/articles"/>'):s.push('<input name="url" type="hidden" value="/me/drafts"/>'),s.push("</form>"),d.is_published||s.push('<form method="POST" action="/p/publish-article" class="js-publish-article-form"><input name="id" type="hidden"'+n.attr("value",""+d._id,!0,!1)+"/></form>"),s.push("</div>")}else{var c=0;for(var a in e){c++;var d=e[a];s.push("<div"+n.attr("data-edited-at",""+d.edited_at,!0,!1)+' class="b-post__item"><div class="i-user__mod"><span>'+n.escape(null==(t=o("Created at"))?"":t)+" "),i.time(d.created_at),s.push("</span><span>&nbsp;&nbsp;&middot;&nbsp;&nbsp;</span><span>"+n.escape(null==(t=o("Last edited at"))?"":t)+" "),i.time(d.edited_at),s.push("</span><span>&nbsp;&nbsp;&middot;&nbsp;&nbsp;</span><span>"+n.escape(null==(t=d.word_count)?"":t)+" "+n.escape(null==(t=o("words"))?"":t)+"</span><span>&nbsp;&nbsp;&middot;&nbsp;&nbsp;</span>");var u=r.round(d.reading_time/6e4);s.push("<span>"+n.escape(null==(t=0==u?1:u)?"":t)+" "+n.escape(null==(t=o("min read"))?"":t)+"</span><br/><br/></div><a"+n.attr("href","/p/"+d._id,!0,!1)+'><h2 class="b-post__title">'+(null==(t=d.title)?"":t)+'</h2><p class="b-post__subtitle">'+(null==(t=d.subtitle)?"":t)+"</p></a><a"+n.attr("href","/p/"+d._id+"/edit",!0,!1)+'><button class="i-button i-button--small i-button--w-blue">'+n.escape(null==(t=o("Edit"))?"":t)+"</button></a>"),d.is_published||s.push('<button class="i-button i-button--small i-button--w-green js-publish-article">'+n.escape(null==(t=o("Publish"))?"":t)+"</button>"),s.push('<button class="i-button i-button--small i-button--w-red pull-right js-delete-article">'+n.escape(null==(t=o("Delete"))?"":t)+'</button><form method="POST" action="/p/delete-article" class="js-delete-article-form"><input name="id" type="hidden"'+n.attr("value",""+d._id,!0,!1)+"/>"),d.is_published?s.push('<input name="url" type="hidden" value="/me/articles"/>'):s.push('<input name="url" type="hidden" value="/me/drafts"/>'),s.push("</form>"),d.is_published||s.push('<form method="POST" action="/p/publish-article" class="js-publish-article-form"><input name="id" type="hidden"'+n.attr("value",""+d._id,!0,!1)+"/></form>"),s.push("</div>")}}}.call(this)}.call(this,"Date"in r?r.Date:"undefined"!=typeof Date?Date:void 0,"Math"in r?r.Math:"undefined"!=typeof Math?Math:void 0,"__"in r?r.__:"undefined"!=typeof __?__:void 0,"__n"in r?r.__n:"undefined"!=typeof __n?__n:void 0,"post"in r?r.post:"undefined"!=typeof post?post:void 0,"undefined"in r?r.undefined:void 0),s.join("")}},{"jade/runtime":130}],135:[function(e,t){var n=e("jade/runtime");t.exports=function(e){var t,s=[],i={},r=e||{};return function(e,r,o,a,l,c){i.time=t=function(i){this&&this.block,this&&this.attributes||{};i=new e(i);var r=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],c=o.floor((1*new e-1*i)/1e3),d=o.floor(c/60),u=o.floor(d/60),f=o.floor(u/24),p=r[i.getMonth()],h=i.getFullYear(),i=i.getDate();f>7?s.push("<span>at "+n.escape(null==(t=i)?"":t)+" "+n.escape(null==(t=p)?"":t)+" "+n.escape(null==(t=h)?"":t)+"</span>"):f>=1?s.push("<span>"+n.escape(null==(t=l("%d day ago","%d days ago",f))?"":t)+"</span>"):u>=1?s.push("<span>"+n.escape(null==(t=l("%d hour ago","%d hours ago",u))?"":t)+"</span>"):d>=1?s.push("<span>"+n.escape(null==(t=l("%d minute ago","%d minutes ago",d))?"":t)+"</span>"):s.push("<span>"+n.escape(null==(t=a("Just now"))?"":t)+"</span>")},i.read=t=function(e){var i=(this&&this.block,this&&this.attributes||{},(e/6e4).toFixed(1));s.push("<span>"+n.escape(null==(t=i)?"":t)+" "+n.escape(null==(t=a("min read"))?"":t)+"</span>")},function(){var e=c;if("number"==typeof e.length)for(var o=0,l=e.length;l>o;o++){var d=e[o];s.push("<div"+n.attr("data-published-at",""+d.published_at,!0,!1)+' class="b-post__item">'),1==d.is_repost?(s.push('<div class="b-post__head"><div class="i-user--inline"><span class="i-user--inline__ava"><a'+n.attr("href","/u/"+d.user.username,!0,!1)+"><img"+n.attr("src",""+r+"ava/"+d.user._id+"-50.jpg",!0,!1)+'/></a></span><span class="i-user--inline__name"><a'+n.attr("href","/u/"+d.user.username,!0,!1)+">"+n.escape(null==(t=d.user.name)?"":t)+'</a></span><span class="i-user--inline__mod"><span>  <i class="f-icon-repost"></i> '+n.escape(null==(t=a("suggested"))?"":t)+"  </span>"),i.time(d.published_at),s.push("<span>&nbsp;&nbsp;&middot;&nbsp;&nbsp;</span>"),i.read(d.repost.reading_time),s.push('</span><div class="clear"></div></div></div><div class="b-post__repost"><a'+n.attr("href","/p/"+d.repost.slug,!0,!1)+'><div class="b-post__repost__content"><h3 class="b-post__title">'+(null==(t=d.repost.title)?"":t)+'</h3><p class="b-post__subtitle">'+(null==(t=d.repost.subtitle)?"":t)+'</p><p class="i-user--inline i-user--inline__mod">'+n.escape(null==(t=a("By"))?"":t)+"  <a"+n.attr("href","/u/"+d.repost.user.username,!0,!1)+'><span class="text-red">'+n.escape(null==(t=d.repost.user.name)?"":t)+'</span></a><span style="margin:5px">&middot;</span><b>'+n.escape(null==(t=d.repost.love_count||0)?"":t)+' <span class="text-red">&#9825;</span></b></p></div></a></div><div class="clear"></div>')):1==d.is_response?(s.push('<div class="b-post__head"><div class="i-user--inline"><span class="i-user--inline__ava"><a'+n.attr("href","/u/"+d.user.username,!0,!1)+"><img"+n.attr("src",""+r+"ava/"+d.user._id+"-50.jpg",!0,!1)+'/></a></span><span class="i-user--inline__name"><a'+n.attr("href","/u/"+d.user.username,!0,!1)+">"+n.escape(null==(t=d.user.name)?"":t)+'</a></span><span class="i-user--inline__mod"><span>  <i class="f-icon-reply"></i> '+n.escape(null==(t=a("responded"))?"":t)+"  </span>"),i.time(d.published_at),s.push("<span>&nbsp;&nbsp;&middot;&nbsp;&nbsp;</span>"),i.read(d.reading_time),s.push('</span><div class="clear"></div></div></div><div class="b-post__response"><a'+n.attr("href","/p/"+d.slug,!0,!1)+'><div class="b-post__response__content"><h3 class="b-post__title">'+(null==(t=d.response.title)?"":t)+'</h3><p class="i-user--inline i-user--inline__mod">'+n.escape(null==(t=a("By"))?"":t)+"  <a"+n.attr("href","/u/"+d.response.user.username,!0,!1)+'><span class="text-red">'+n.escape(null==(t=d.response.user.name)?"":t)+'</span></a><span style="margin:5px">&middot;</span><b>'+n.escape(null==(t=d.response.love_count||0)?"":t)+' <span class="text-red">&#9825;</span></b></p></div></a></div>'),d.is_cover&&s.push('<div class="b-post__right"><a'+n.attr("href","/p/"+d.slug,!0,!1)+"><img"+n.attr("src",""+r+"post/"+d._id+"-cover.jpg",!0,!1)+' alt="" class="b-post__cover"/></a></div>'),s.push("<div"+n.cls(["b-post__left",d.is_cover?"":"is-full"],[null,!0])+"><a"+n.attr("href","/p/"+d.slug,!0,!1)+'><h3 class="b-post__title">'+(null==(t=d.title)?"":t)+'</h3><p class="b-post__subtitle">'+(null==(t=d.subtitle)?"":t)+'</p></a><div class="b-post__button-wrap"><button'+n.attr("data-article-id",""+d._id,!0,!1)+n.cls(["b-post__button","js-article-love",d.is_loving?"is-loving":""],[null,null,!0])+"><b>"+n.escape(null==(t=d.love_count)?"":t)+'</b><i class="f-icon-love">        </i></button></div></div><div class="clear"></div>')):1==d.is_repost_link?(s.push('<div class="b-post__head"><div class="i-user--inline"><span class="i-user--inline__ava"><a'+n.attr("href","/u/"+d.user.username,!0,!1)+"><img"+n.attr("src",""+r+"ava/"+d.user._id+"-50.jpg",!0,!1)+'/></a></span><span class="i-user--inline__name"><a'+n.attr("href","/u/"+d.user.username,!0,!1)+">"+n.escape(null==(t=d.user.name)?"":t)+'</a></span><span class="i-user--inline__mod"><span>  <i class="f-icon-repost"></i> '+n.escape(null==(t=a("suggested"))?"":t)+"  </span>"),i.time(d.published_at),s.push('<span>&nbsp;&nbsp;&middot;&nbsp;&nbsp;</span></span><div class="clear"></div></div></div><div class="b-post__repost"><a'+n.attr("href","/p/"+d.repost_link.slug,!0,!1)+'><div class="b-post__repost__content"><h3 class="b-post__title">'+(null==(t=d.repost_link.title)?"":t)+'</h3><p class="b-post__subtitle">'+(null==(t=d.repost_link.subtitle)?"":t)+'</p><p class="i-user--inline i-user--inline__mod"><a'+n.attr("href","http://"+d.repost_link.url,!0,!1)+'><span class="text-red">'+n.escape(null==(t=d.repost_link.source?d.repost_link.source:d.repost_link.hostname)?"":t)+'</span></a><span style="margin:5px">&middot;</span></p></div></a></div>')):1==d.is_link?s.push('<div class="b-post__repost"><a'+n.attr("href","/p/"+d.slug,!0,!1)+'><div class="b-post__repost__content"><h3 class="b-post__title">'+(null==(t=d.title)?"":t)+'</h3><p class="b-post__subtitle">'+(null==(t=d.subtitle)?"":t)+'</p><p class="i-user--inline i-user--inline__mod"><a'+n.attr("href","http://"+d.url,!0,!1)+'><span class="text-red">'+n.escape(null==(t=d.source?d.source:d.hostname)?"":t)+'</span></a><span style="margin:5px">&middot;</span></p></div></a></div>'):(s.push('<div class="b-post__head">'),d.from_collection&&d.from_collection.length>0&&(s.push('<div class="b-post__from">'),function(){var e=d.from_collection;
if("number"==typeof e.length)for(var i=0,r=e.length;r>i;i++){var o=e[i];s.push("<a"+n.attr("href","/c/"+o.username,!0,!1)+'><i class="f-icon-book"></i><b>'+n.escape(null==(t=o.name)?"":t)+"</b></a>")}else{var r=0;for(var i in e){r++;var o=e[i];s.push("<a"+n.attr("href","/c/"+o.username,!0,!1)+'><i class="f-icon-book"></i><b>'+n.escape(null==(t=o.name)?"":t)+"</b></a>")}}}.call(this),s.push("</div>")),s.push('<div class="i-user--inline"><span class="i-user--inline__ava"><a'+n.attr("href","/u/"+d.user.username,!0,!1)+"><img"+n.attr("src",""+r+"ava/"+d.user._id+"-50.jpg",!0,!1)+'/></a></span><span class="i-user--inline__name"><a'+n.attr("href","/u/"+d.user.username,!0,!1)+">"+n.escape(null==(t=d.user.name)?"":t)+'</a></span><span class="i-user--inline__mod"><span> '+n.escape(null==(t=a("published"))?"":t)+"  </span>"),i.time(d.published_at),s.push("<span>&nbsp;&nbsp;&middot;&nbsp;&nbsp;</span>"),i.read(d.reading_time),s.push('</span><div class="clear"></div></div></div>'),d.is_cover&&s.push('<div class="b-post__right"><a'+n.attr("href","/p/"+d.slug,!0,!1)+"><img"+n.attr("src",""+r+"post/"+d._id+"-cover.jpg",!0,!1)+' alt="" class="b-post__cover"/></a></div>'),s.push("<div"+n.cls(["b-post__left",d.is_cover?"":"is-full"],[null,!0])+"><a"+n.attr("href","/p/"+d.slug,!0,!1)+'><h3 class="b-post__title">'+(null==(t=d.title)?"":t)+'</h3><p class="b-post__subtitle">'+(null==(t=d.subtitle)?"":t)+'</p></a><div class="b-post__button-wrap"><button'+n.attr("data-article-id",""+d._id,!0,!1)+n.cls(["b-post__button","js-article-love",d.is_loving?"is-loving":""],[null,null,!0])+"><b>"+n.escape(null==(t=d.love_count)?"":t)+'</b><i class="f-icon-love"></i></button></div></div><div class="clear"></div>')),s.push("</div>")}else{var l=0;for(var o in e){l++;var d=e[o];s.push("<div"+n.attr("data-published-at",""+d.published_at,!0,!1)+' class="b-post__item">'),1==d.is_repost?(s.push('<div class="b-post__head"><div class="i-user--inline"><span class="i-user--inline__ava"><a'+n.attr("href","/u/"+d.user.username,!0,!1)+"><img"+n.attr("src",""+r+"ava/"+d.user._id+"-50.jpg",!0,!1)+'/></a></span><span class="i-user--inline__name"><a'+n.attr("href","/u/"+d.user.username,!0,!1)+">"+n.escape(null==(t=d.user.name)?"":t)+'</a></span><span class="i-user--inline__mod"><span>  <i class="f-icon-repost"></i> '+n.escape(null==(t=a("suggested"))?"":t)+"  </span>"),i.time(d.published_at),s.push("<span>&nbsp;&nbsp;&middot;&nbsp;&nbsp;</span>"),i.read(d.repost.reading_time),s.push('</span><div class="clear"></div></div></div><div class="b-post__repost"><a'+n.attr("href","/p/"+d.repost.slug,!0,!1)+'><div class="b-post__repost__content"><h3 class="b-post__title">'+(null==(t=d.repost.title)?"":t)+'</h3><p class="b-post__subtitle">'+(null==(t=d.repost.subtitle)?"":t)+'</p><p class="i-user--inline i-user--inline__mod">'+n.escape(null==(t=a("By"))?"":t)+"  <a"+n.attr("href","/u/"+d.repost.user.username,!0,!1)+'><span class="text-red">'+n.escape(null==(t=d.repost.user.name)?"":t)+'</span></a><span style="margin:5px">&middot;</span><b>'+n.escape(null==(t=d.repost.love_count||0)?"":t)+' <span class="text-red">&#9825;</span></b></p></div></a></div><div class="clear"></div>')):1==d.is_response?(s.push('<div class="b-post__head"><div class="i-user--inline"><span class="i-user--inline__ava"><a'+n.attr("href","/u/"+d.user.username,!0,!1)+"><img"+n.attr("src",""+r+"ava/"+d.user._id+"-50.jpg",!0,!1)+'/></a></span><span class="i-user--inline__name"><a'+n.attr("href","/u/"+d.user.username,!0,!1)+">"+n.escape(null==(t=d.user.name)?"":t)+'</a></span><span class="i-user--inline__mod"><span>  <i class="f-icon-reply"></i> '+n.escape(null==(t=a("responded"))?"":t)+"  </span>"),i.time(d.published_at),s.push("<span>&nbsp;&nbsp;&middot;&nbsp;&nbsp;</span>"),i.read(d.reading_time),s.push('</span><div class="clear"></div></div></div><div class="b-post__response"><a'+n.attr("href","/p/"+d.slug,!0,!1)+'><div class="b-post__response__content"><h3 class="b-post__title">'+(null==(t=d.response.title)?"":t)+'</h3><p class="i-user--inline i-user--inline__mod">'+n.escape(null==(t=a("By"))?"":t)+"  <a"+n.attr("href","/u/"+d.response.user.username,!0,!1)+'><span class="text-red">'+n.escape(null==(t=d.response.user.name)?"":t)+'</span></a><span style="margin:5px">&middot;</span><b>'+n.escape(null==(t=d.response.love_count||0)?"":t)+' <span class="text-red">&#9825;</span></b></p></div></a></div>'),d.is_cover&&s.push('<div class="b-post__right"><a'+n.attr("href","/p/"+d.slug,!0,!1)+"><img"+n.attr("src",""+r+"post/"+d._id+"-cover.jpg",!0,!1)+' alt="" class="b-post__cover"/></a></div>'),s.push("<div"+n.cls(["b-post__left",d.is_cover?"":"is-full"],[null,!0])+"><a"+n.attr("href","/p/"+d.slug,!0,!1)+'><h3 class="b-post__title">'+(null==(t=d.title)?"":t)+'</h3><p class="b-post__subtitle">'+(null==(t=d.subtitle)?"":t)+'</p></a><div class="b-post__button-wrap"><button'+n.attr("data-article-id",""+d._id,!0,!1)+n.cls(["b-post__button","js-article-love",d.is_loving?"is-loving":""],[null,null,!0])+"><b>"+n.escape(null==(t=d.love_count)?"":t)+'</b><i class="f-icon-love">        </i></button></div></div><div class="clear"></div>')):1==d.is_repost_link?(s.push('<div class="b-post__head"><div class="i-user--inline"><span class="i-user--inline__ava"><a'+n.attr("href","/u/"+d.user.username,!0,!1)+"><img"+n.attr("src",""+r+"ava/"+d.user._id+"-50.jpg",!0,!1)+'/></a></span><span class="i-user--inline__name"><a'+n.attr("href","/u/"+d.user.username,!0,!1)+">"+n.escape(null==(t=d.user.name)?"":t)+'</a></span><span class="i-user--inline__mod"><span>  <i class="f-icon-repost"></i> '+n.escape(null==(t=a("suggested"))?"":t)+"  </span>"),i.time(d.published_at),s.push('<span>&nbsp;&nbsp;&middot;&nbsp;&nbsp;</span></span><div class="clear"></div></div></div><div class="b-post__repost"><a'+n.attr("href","/p/"+d.repost_link.slug,!0,!1)+'><div class="b-post__repost__content"><h3 class="b-post__title">'+(null==(t=d.repost_link.title)?"":t)+'</h3><p class="b-post__subtitle">'+(null==(t=d.repost_link.subtitle)?"":t)+'</p><p class="i-user--inline i-user--inline__mod"><a'+n.attr("href","http://"+d.repost_link.url,!0,!1)+'><span class="text-red">'+n.escape(null==(t=d.repost_link.source?d.repost_link.source:d.repost_link.hostname)?"":t)+'</span></a><span style="margin:5px">&middot;</span></p></div></a></div>')):1==d.is_link?s.push('<div class="b-post__repost"><a'+n.attr("href","/p/"+d.slug,!0,!1)+'><div class="b-post__repost__content"><h3 class="b-post__title">'+(null==(t=d.title)?"":t)+'</h3><p class="b-post__subtitle">'+(null==(t=d.subtitle)?"":t)+'</p><p class="i-user--inline i-user--inline__mod"><a'+n.attr("href","http://"+d.url,!0,!1)+'><span class="text-red">'+n.escape(null==(t=d.source?d.source:d.hostname)?"":t)+'</span></a><span style="margin:5px">&middot;</span></p></div></a></div>'):(s.push('<div class="b-post__head">'),d.from_collection&&d.from_collection.length>0&&(s.push('<div class="b-post__from">'),function(){var e=d.from_collection;if("number"==typeof e.length)for(var i=0,r=e.length;r>i;i++){var o=e[i];s.push("<a"+n.attr("href","/c/"+o.username,!0,!1)+'><i class="f-icon-book"></i><b>'+n.escape(null==(t=o.name)?"":t)+"</b></a>")}else{var r=0;for(var i in e){r++;var o=e[i];s.push("<a"+n.attr("href","/c/"+o.username,!0,!1)+'><i class="f-icon-book"></i><b>'+n.escape(null==(t=o.name)?"":t)+"</b></a>")}}}.call(this),s.push("</div>")),s.push('<div class="i-user--inline"><span class="i-user--inline__ava"><a'+n.attr("href","/u/"+d.user.username,!0,!1)+"><img"+n.attr("src",""+r+"ava/"+d.user._id+"-50.jpg",!0,!1)+'/></a></span><span class="i-user--inline__name"><a'+n.attr("href","/u/"+d.user.username,!0,!1)+">"+n.escape(null==(t=d.user.name)?"":t)+'</a></span><span class="i-user--inline__mod"><span> '+n.escape(null==(t=a("published"))?"":t)+"  </span>"),i.time(d.published_at),s.push("<span>&nbsp;&nbsp;&middot;&nbsp;&nbsp;</span>"),i.read(d.reading_time),s.push('</span><div class="clear"></div></div></div>'),d.is_cover&&s.push('<div class="b-post__right"><a'+n.attr("href","/p/"+d.slug,!0,!1)+"><img"+n.attr("src",""+r+"post/"+d._id+"-cover.jpg",!0,!1)+' alt="" class="b-post__cover"/></a></div>'),s.push("<div"+n.cls(["b-post__left",d.is_cover?"":"is-full"],[null,!0])+"><a"+n.attr("href","/p/"+d.slug,!0,!1)+'><h3 class="b-post__title">'+(null==(t=d.title)?"":t)+'</h3><p class="b-post__subtitle">'+(null==(t=d.subtitle)?"":t)+'</p></a><div class="b-post__button-wrap"><button'+n.attr("data-article-id",""+d._id,!0,!1)+n.cls(["b-post__button","js-article-love",d.is_loving?"is-loving":""],[null,null,!0])+"><b>"+n.escape(null==(t=d.love_count)?"":t)+'</b><i class="f-icon-love"></i></button></div></div><div class="clear"></div>')),s.push("</div>")}}}.call(this)}.call(this,"Date"in r?r.Date:"undefined"!=typeof Date?Date:void 0,"IMG_URL"in r?r.IMG_URL:"undefined"!=typeof IMG_URL?IMG_URL:void 0,"Math"in r?r.Math:"undefined"!=typeof Math?Math:void 0,"__"in r?r.__:"undefined"!=typeof __?__:void 0,"__n"in r?r.__n:"undefined"!=typeof __n?__n:void 0,"post"in r?r.post:"undefined"!=typeof post?post:void 0,"undefined"in r?r.undefined:void 0),s.join("")}},{"jade/runtime":130}],136:[function(e,t){var n=e("jade/runtime");t.exports=function(e){var t,s=[],i=e||{};return function(e,i){(function(){var r=i;if("number"==typeof r.length)for(var o=0,a=r.length;a>o;o++){var l=r[o];s.push("<div"+n.attr("data-love-id",""+l.loveId,!0,!1)+' class="b-post__item"><div class="b-post__repost"><a'+n.attr("href","/p/"+l.slug,!0,!1)+'><div class="b-post__repost__content"><h3 class="b-post__title">'+(null==(t=l.title)?"":t)+'</h3><p class="b-post__subtitle">'+(null==(t=l.subtitle)?"":t)+'</p><p class="i-user--inline i-user--inline__mod">'+n.escape(null==(t=e("By"))?"":t)+"  <a"+n.attr("href","/u/"+l.user.username,!0,!1)+'><span class="text-red">'+n.escape(null==(t=l.user.name)?"":t)+'</span></a><span style="margin:5px">&middot;</span><b>'+n.escape(null==(t=l.love_count||0)?"":t)+' <span class="text-red">&#9825;</span></b></p></div></a></div><div class="clear"></div></div>')}else{var a=0;for(var o in r){a++;var l=r[o];s.push("<div"+n.attr("data-love-id",""+l.loveId,!0,!1)+' class="b-post__item"><div class="b-post__repost"><a'+n.attr("href","/p/"+l.slug,!0,!1)+'><div class="b-post__repost__content"><h3 class="b-post__title">'+(null==(t=l.title)?"":t)+'</h3><p class="b-post__subtitle">'+(null==(t=l.subtitle)?"":t)+'</p><p class="i-user--inline i-user--inline__mod">'+n.escape(null==(t=e("By"))?"":t)+"  <a"+n.attr("href","/u/"+l.user.username,!0,!1)+'><span class="text-red">'+n.escape(null==(t=l.user.name)?"":t)+'</span></a><span style="margin:5px">&middot;</span><b>'+n.escape(null==(t=l.love_count||0)?"":t)+' <span class="text-red">&#9825;</span></b></p></div></a></div><div class="clear"></div></div>')}}}).call(this)}.call(this,"__"in i?i.__:"undefined"!=typeof __?__:void 0,"post"in i?i.post:"undefined"!=typeof post?post:void 0,"undefined"in i?i.undefined:void 0),s.join("")}},{"jade/runtime":130}],137:[function(e,t){var n=e("jade/runtime");t.exports=function(e){var t,s=[],i=e||{};return function(e){(function(){var i=e;if("number"==typeof i.length)for(var r=0,o=i.length;o>r;r++){var a=i[r];s.push("<a"+n.attr("href","/p/"+a.slug,!0,!1)+'><div class="b-notif__item"><h5 class="b-notif__title">'+n.escape(null==(t=a.title)?"":t)+'</h5><p class="b-notif__subtitle">'+n.escape(null==(t=a.subtitle)?"":t)+"</p><a"+n.attr("href","/u/"+a.user.username,!0,!1)+'><div class="b-notif__user">'+n.escape(null==(t=a.user.name)?"":t)+' </div></a><div class="clear"></div></div></a>')}else{var o=0;for(var r in i){o++;var a=i[r];s.push("<a"+n.attr("href","/p/"+a.slug,!0,!1)+'><div class="b-notif__item"><h5 class="b-notif__title">'+n.escape(null==(t=a.title)?"":t)+'</h5><p class="b-notif__subtitle">'+n.escape(null==(t=a.subtitle)?"":t)+"</p><a"+n.attr("href","/u/"+a.user.username,!0,!1)+'><div class="b-notif__user">'+n.escape(null==(t=a.user.name)?"":t)+' </div></a><div class="clear"></div></div></a>')}}}).call(this)}.call(this,"post"in i?i.post:"undefined"!=typeof post?post:void 0,"undefined"in i?i.undefined:void 0),s.join("")}},{"jade/runtime":130}],138:[function(e,t){var n=e("jade/runtime");t.exports=function(e){var t,s=[],i=e||{};return function(e,i,r){(function(){var o=r;if("number"==typeof o.length)for(var a=0,l=o.length;l>a;a++){var c=o[a];s.push("<a"+n.attr("href","/p/"+c.slug,!0,!1)+n.attr("data-published-at",""+c.published_at,!0,!1)+'><div class="b-post__repost--half">'),1==c.is_cover&&s.push('<div class="is-half img"><img'+n.attr("src",""+e+"/post/"+c._id+"-medium-cover.jpg",!0,!1)+"/></div>"),s.push('<div class="is-half"><div class="b-post__repost__content"><h3 class="b-post__title">'+(null==(t=c.title)?"":t)+'</h3><p class="b-post__subtitle">'+(null==(t=c.subtitle)?"":t)+'</p><p class="i-user--inline i-user--inline__mod">'+n.escape(null==(t=i("By"))?"":t)+"  <a"+n.attr("href","/u/"+c.user.username,!0,!1)+'><span class="text-red">'+n.escape(null==(t=c.user.name)?"":t)+'</span></a><span style="margin:5px">&middot;</span><b>'+n.escape(null==(t=c.love_count||0)?"":t)+' <span class="text-red">&#9825;</span></b></p></div></div><div class="clear"></div></div><div class="clear"></div></a>')}else{var l=0;for(var a in o){l++;var c=o[a];s.push("<a"+n.attr("href","/p/"+c.slug,!0,!1)+n.attr("data-published-at",""+c.published_at,!0,!1)+'><div class="b-post__repost--half">'),1==c.is_cover&&s.push('<div class="is-half img"><img'+n.attr("src",""+e+"/post/"+c._id+"-medium-cover.jpg",!0,!1)+"/></div>"),s.push('<div class="is-half"><div class="b-post__repost__content"><h3 class="b-post__title">'+(null==(t=c.title)?"":t)+'</h3><p class="b-post__subtitle">'+(null==(t=c.subtitle)?"":t)+'</p><p class="i-user--inline i-user--inline__mod">'+n.escape(null==(t=i("By"))?"":t)+"  <a"+n.attr("href","/u/"+c.user.username,!0,!1)+'><span class="text-red">'+n.escape(null==(t=c.user.name)?"":t)+'</span></a><span style="margin:5px">&middot;</span><b>'+n.escape(null==(t=c.love_count||0)?"":t)+' <span class="text-red">&#9825;</span></b></p></div></div><div class="clear"></div></div><div class="clear"></div></a>')}}}).call(this),s.push("")}.call(this,"IMG_URL"in i?i.IMG_URL:"undefined"!=typeof IMG_URL?IMG_URL:void 0,"__"in i?i.__:"undefined"!=typeof __?__:void 0,"post"in i?i.post:"undefined"!=typeof post?post:void 0,"undefined"in i?i.undefined:void 0),s.join("")}},{"jade/runtime":130}],139:[function(e,t){var n=e("jade/runtime");t.exports=function(e){var t,s=[],i=e||{};return function(e){s.push('<div class="tag-col is-center">'),function(){var i=e;if("number"==typeof i.length)for(var r=0,o=i.length;o>r;r++){var a=i[r];s.push("<a"+n.attr("href","/s?q="+a._id+"&type=topic",!0,!1)+'><div class="nsg-tag">'+n.escape(null==(t=a._id)?"":t)+"  </div></a>")}else{var o=0;for(var r in i){o++;var a=i[r];s.push("<a"+n.attr("href","/s?q="+a._id+"&type=topic",!0,!1)+'><div class="nsg-tag">'+n.escape(null==(t=a._id)?"":t)+"  </div></a>")}}}.call(this),s.push("</div>")}.call(this,"tags"in i?i.tags:"undefined"!=typeof tags?tags:void 0,"undefined"in i?i.undefined:void 0),s.join("")}},{"jade/runtime":130}],140:[function(e,t){var n=e("jade/runtime");t.exports=function(e){var t,s=[],i=e||{};return function(e,i,r){r&&function(){var i=r;if("number"==typeof i.length)for(var o=0,a=i.length;a>o;o++){var l=i[o];s.push('<br/><span height="100%" class="i-user__ava"><img'+n.attr("src",""+e+"ava/"+l._id+"-50.jpg",!0,!1)+'/></span><span class="i-user--footer__name text-red"><a'+n.attr("href","/u/"+l.username,!0,!1)+">"+n.escape(null==(t=l.name)?"":t)+'</a></span><p class="i-user--footer__desc">'+n.escape(null==(t=l.description)?"":t)+'</p><p class="i-user--footer__username"><a'+n.attr("href","/u/"+l.username,!0,!1)+">/"+n.escape(null==(t=l.username)?"":t)+'</a></p><div class="divider"></div><br/>')}else{var a=0;for(var o in i){a++;var l=i[o];s.push('<br/><span height="100%" class="i-user__ava"><img'+n.attr("src",""+e+"ava/"+l._id+"-50.jpg",!0,!1)+'/></span><span class="i-user--footer__name text-red"><a'+n.attr("href","/u/"+l.username,!0,!1)+">"+n.escape(null==(t=l.name)?"":t)+'</a></span><p class="i-user--footer__desc">'+n.escape(null==(t=l.description)?"":t)+'</p><p class="i-user--footer__username"><a'+n.attr("href","/u/"+l.username,!0,!1)+">/"+n.escape(null==(t=l.username)?"":t)+'</a></p><div class="divider"></div><br/>')}}}.call(this)}.call(this,"IMG_URL"in i?i.IMG_URL:"undefined"!=typeof IMG_URL?IMG_URL:void 0,"undefined"in i?i.undefined:void 0,"users"in i?i.users:"undefined"!=typeof users?users:void 0),s.join("")}},{"jade/runtime":130}]},{},[70]);